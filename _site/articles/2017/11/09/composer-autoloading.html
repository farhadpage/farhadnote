<!DOCTYPE html>
<html lang="">
<!-- head -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>Autoloading کلاس ها با Composer | مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="Autoloading کلاس ها با Composer" />
<meta name="author" content="Farhad Mirzapour" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="همانطور که می دانیم در php برای استفاده از هر کلاسی باید اون کلاس رو در صفحه ای که لازم داریم include یا require کنیم تا php آن کلاس را بشناسد و بتوان از آن استفاده کرد . خب مشکل اینجاست که اگر تعداد کلاس های مورد استفاده زیاد شود این include کردن هر کلاس واقعا مشکل ساز میشه و تمرکز مارو کم می کنه و بیشتر وقتمون میره سمت اینکه کلاس ها در داخل کدام دایرکتوری هستند و تک تک آن ها را به صفحه ی خودمون include کنیم . خوشبختانه composer این مشکل را برای ما حل کرده و خودش این موضوع را به عهده می گیرد و ما فقط کافی است بسته به نیازمون یکی از 3 روش زیر را که در فایل composer.json می باشد استفاده نماییم . داخل فایل composer آبجکتی به نام&nbsp;autoload وجود دارد که داخل آن تعریف می کنیم که چه فایل هایی را و از چه طریق برای ما autoload بسازد. 3روش autoloading در composer عبارتند از : File Based Autoloading Classmap Based Autoloading PSR-4 Autoloading سایت اصلی composer روش&nbsp;PSR-4 Autoloading را پیشنهاد می کند اما ما در این مقاله &nbsp;هر 4 روش را بررسی می نماییم . روش File Based Autoloading در روت (root) پروژه خودتون یک فولدر به نامaldemo ایجاد کنید . سپس داخل فولدرaldemo یک فولدر دیگر به نام&nbsp;mylibrary ایجاد می کنیم تا فایل های خودمون را داخل اش قرار بدهیم . داخل فولدر&nbsp;mylibrary یک فایل به نام&nbsp;functions.php ایجاد و کدهای زیر را قرار دهید : &lt;?php function lego () { return &#39;You are now a master builder.&#39;; } حالا داخل فولدر(aldemo) پروژه امون فایل composer.json را ایجاد و کدهای زیر را قرار می دهیم : { &quot;autoload&quot;: { &quot;files&quot;: [&quot;mylibrary/functions.php&quot;] } } همانطور که در بالا مشاهده می کنید یک آبجکت به نام autoload داریم و داخل آن &nbsp;مشخص کردیم که به چه روشی&nbsp;autoload برای ما ساخته شود . ما روش files را تعیین کردیم و جلوی آن فایل هایی که قرار است به صورت&nbsp;autoload درآیند را بصورت عناصر آرایه مشخص می کنیم . حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload بعد از اجرای فرمان بالا و زدن دکمه اینتر مشاهده می کنید که در روت پروژه , فولدری به نام vendor ساخته می شود .جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_files.php را باز نمائید. &lt;?php // autoload_files.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;239a881d87672da709af2b939c130dab&#39; =&gt; $baseDir . &#39;/mylibrary/functions.php&#39;, ); در خط 8 مشاهده می کنید مسیر فایل function.php به این فایل افزوده شده است. اگر تمام مراحل بالا به درستی انجام شده باشد, فرایند ساخت autoload به وسیله composer و از روش files به موفقیت به اتمام رسیده است . حالا برای استفاده از فایل function.php کافی است در فولدر aldemo فایلی به نام index.php ایجاد کنید و کدهای زیر را قرار دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); در کدهای بالا در خط اول لازم بود که autoload.php را به فایل index امان require کنید . و در خط بعدی از فانکشن lego که در فایل function.php موجود هست استفاده کردیم . روش Classmap Based Autoloading این روش از روش File Based Autoloading بهتر است به این خاطر که شما لازم نیست مسیر واقعی فایل خود را مشخص کنید و تنها دایرکتوری که فایل در آن قرار دارد را مشخص می کنیم. نکته : در این روش فقط می توان از کلاس ها استفاده نمود . فولدری به نام classes در شاخه aldemo ایجاد نمائید.سپس فایل myclass.php را در آن ایجاد و کدهای زیر را در آن قرار دهید : &lt;?php Class Cmautoload { public function classmap () { return &#39;that knows how to autoload with a classmap! &#39;; } } فایل index.php را مطابق زیر تغییر دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); $cm = new Cmautoload; echo $cm-&gt;classmap(); فایل composer.json را مطابق زیر تغییر دهید : { &quot;autoload&quot;: { &quot;files&quot;: [ &quot;mylibrary/functions.php&quot; ], &quot;classmap&quot;: [ &quot;classes&quot; ] } } حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_classmap.php را باز نمائید. &lt;?php // autoload_classmap.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;Cmautoload&#39; =&gt; $baseDir . &#39;/classes/myclass.php&#39;, ); در خط شماره 9 مشاهده می کنید مسیر کلیه کلاس های موجود در پوشه classes افزوده شده است. روش PSR-4 Based Autoloading استاندارد psr-4 بر خلاف دو روش قبلی یعنی File Based Autoloading , Classmap Based Autoloading با namespace ها در کلاس ها سرو کار دارد . مسیر زیر را در پروژه خود ایجاد نمائید: src/vegibit/library فایل greeting.php را در مسیر بالا ایجاد و کدهای زیر را در آن قرار دهید: &lt;?php namespace VegibitLibrary; Class Greeting { public function hi() { return &quot;We got you covered&quot;; } } فایل index.php را مطابق زیر تغییر دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); $cm = new Cmautoload; echo $cm-&gt;classmap(); $obj = new VegibitLibrary\Greeting(); echo $obj-&gt;hi(); فایل composer.json را مطابق زیر تغییر دهید: { &quot;autoload&quot;: { &quot;files&quot;: [ &quot;mylibrary/functions.php&quot; ], &quot;classmap&quot;: [ &quot;classes&quot; ], &quot;psr-4&quot;: { &quot;VegibitLibrary\\&quot; : &quot;src/vegibit/library/&quot; } } } حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_psr4.php را باز نمائید. &lt;?php // autoload_psr4.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;VegibitLibrary\\&#39; =&gt; array($baseDir . &#39;/src/vegibit/library&#39;), ); در خط شماره 9 مشاهده می کنید آدرس فضای نام VegibitLibrary بصورت عنصر آرایه افزوده شده است. کلیه فایل های بالا را می توانید از لینک زیر دانلود نمایید: aldemo.zip" />
<meta property="og:description" content="همانطور که می دانیم در php برای استفاده از هر کلاسی باید اون کلاس رو در صفحه ای که لازم داریم include یا require کنیم تا php آن کلاس را بشناسد و بتوان از آن استفاده کرد . خب مشکل اینجاست که اگر تعداد کلاس های مورد استفاده زیاد شود این include کردن هر کلاس واقعا مشکل ساز میشه و تمرکز مارو کم می کنه و بیشتر وقتمون میره سمت اینکه کلاس ها در داخل کدام دایرکتوری هستند و تک تک آن ها را به صفحه ی خودمون include کنیم . خوشبختانه composer این مشکل را برای ما حل کرده و خودش این موضوع را به عهده می گیرد و ما فقط کافی است بسته به نیازمون یکی از 3 روش زیر را که در فایل composer.json می باشد استفاده نماییم . داخل فایل composer آبجکتی به نام&nbsp;autoload وجود دارد که داخل آن تعریف می کنیم که چه فایل هایی را و از چه طریق برای ما autoload بسازد. 3روش autoloading در composer عبارتند از : File Based Autoloading Classmap Based Autoloading PSR-4 Autoloading سایت اصلی composer روش&nbsp;PSR-4 Autoloading را پیشنهاد می کند اما ما در این مقاله &nbsp;هر 4 روش را بررسی می نماییم . روش File Based Autoloading در روت (root) پروژه خودتون یک فولدر به نامaldemo ایجاد کنید . سپس داخل فولدرaldemo یک فولدر دیگر به نام&nbsp;mylibrary ایجاد می کنیم تا فایل های خودمون را داخل اش قرار بدهیم . داخل فولدر&nbsp;mylibrary یک فایل به نام&nbsp;functions.php ایجاد و کدهای زیر را قرار دهید : &lt;?php function lego () { return &#39;You are now a master builder.&#39;; } حالا داخل فولدر(aldemo) پروژه امون فایل composer.json را ایجاد و کدهای زیر را قرار می دهیم : { &quot;autoload&quot;: { &quot;files&quot;: [&quot;mylibrary/functions.php&quot;] } } همانطور که در بالا مشاهده می کنید یک آبجکت به نام autoload داریم و داخل آن &nbsp;مشخص کردیم که به چه روشی&nbsp;autoload برای ما ساخته شود . ما روش files را تعیین کردیم و جلوی آن فایل هایی که قرار است به صورت&nbsp;autoload درآیند را بصورت عناصر آرایه مشخص می کنیم . حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload بعد از اجرای فرمان بالا و زدن دکمه اینتر مشاهده می کنید که در روت پروژه , فولدری به نام vendor ساخته می شود .جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_files.php را باز نمائید. &lt;?php // autoload_files.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;239a881d87672da709af2b939c130dab&#39; =&gt; $baseDir . &#39;/mylibrary/functions.php&#39;, ); در خط 8 مشاهده می کنید مسیر فایل function.php به این فایل افزوده شده است. اگر تمام مراحل بالا به درستی انجام شده باشد, فرایند ساخت autoload به وسیله composer و از روش files به موفقیت به اتمام رسیده است . حالا برای استفاده از فایل function.php کافی است در فولدر aldemo فایلی به نام index.php ایجاد کنید و کدهای زیر را قرار دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); در کدهای بالا در خط اول لازم بود که autoload.php را به فایل index امان require کنید . و در خط بعدی از فانکشن lego که در فایل function.php موجود هست استفاده کردیم . روش Classmap Based Autoloading این روش از روش File Based Autoloading بهتر است به این خاطر که شما لازم نیست مسیر واقعی فایل خود را مشخص کنید و تنها دایرکتوری که فایل در آن قرار دارد را مشخص می کنیم. نکته : در این روش فقط می توان از کلاس ها استفاده نمود . فولدری به نام classes در شاخه aldemo ایجاد نمائید.سپس فایل myclass.php را در آن ایجاد و کدهای زیر را در آن قرار دهید : &lt;?php Class Cmautoload { public function classmap () { return &#39;that knows how to autoload with a classmap! &#39;; } } فایل index.php را مطابق زیر تغییر دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); $cm = new Cmautoload; echo $cm-&gt;classmap(); فایل composer.json را مطابق زیر تغییر دهید : { &quot;autoload&quot;: { &quot;files&quot;: [ &quot;mylibrary/functions.php&quot; ], &quot;classmap&quot;: [ &quot;classes&quot; ] } } حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_classmap.php را باز نمائید. &lt;?php // autoload_classmap.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;Cmautoload&#39; =&gt; $baseDir . &#39;/classes/myclass.php&#39;, ); در خط شماره 9 مشاهده می کنید مسیر کلیه کلاس های موجود در پوشه classes افزوده شده است. روش PSR-4 Based Autoloading استاندارد psr-4 بر خلاف دو روش قبلی یعنی File Based Autoloading , Classmap Based Autoloading با namespace ها در کلاس ها سرو کار دارد . مسیر زیر را در پروژه خود ایجاد نمائید: src/vegibit/library فایل greeting.php را در مسیر بالا ایجاد و کدهای زیر را در آن قرار دهید: &lt;?php namespace VegibitLibrary; Class Greeting { public function hi() { return &quot;We got you covered&quot;; } } فایل index.php را مطابق زیر تغییر دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); $cm = new Cmautoload; echo $cm-&gt;classmap(); $obj = new VegibitLibrary\Greeting(); echo $obj-&gt;hi(); فایل composer.json را مطابق زیر تغییر دهید: { &quot;autoload&quot;: { &quot;files&quot;: [ &quot;mylibrary/functions.php&quot; ], &quot;classmap&quot;: [ &quot;classes&quot; ], &quot;psr-4&quot;: { &quot;VegibitLibrary\\&quot; : &quot;src/vegibit/library/&quot; } } } حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_psr4.php را باز نمائید. &lt;?php // autoload_psr4.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;VegibitLibrary\\&#39; =&gt; array($baseDir . &#39;/src/vegibit/library&#39;), ); در خط شماره 9 مشاهده می کنید آدرس فضای نام VegibitLibrary بصورت عنصر آرایه افزوده شده است. کلیه فایل های بالا را می توانید از لینک زیر دانلود نمایید: aldemo.zip" />
<link rel="canonical" href="http://localhost:4000/articles/2017/11/09/composer-autoloading.html" />
<meta property="og:url" content="http://localhost:4000/articles/2017/11/09/composer-autoloading.html" />
<meta property="og:site_name" content="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-11-09T10:01:42+03:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="Autoloading کلاس ها با Composer" />
<meta name="twitter:site" content="@farhadmirzapour" />
<meta name="twitter:creator" content="@Farhad Mirzapour" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"Autoloading کلاس ها با Composer","url":"http://localhost:4000/articles/2017/11/09/composer-autoloading.html","datePublished":"2017-11-09T10:01:42+03:30","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/logo/blankspace-avatar.png"},"name":"Farhad Mirzapour"},"dateModified":"2017-11-09T10:01:42+03:30","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/articles/2017/11/09/composer-autoloading.html"},"author":{"@type":"Person","name":"Farhad Mirzapour"},"description":"همانطور که می دانیم در php برای استفاده از هر کلاسی باید اون کلاس رو در صفحه ای که لازم داریم include یا require کنیم تا php آن کلاس را بشناسد و بتوان از آن استفاده کرد . خب مشکل اینجاست که اگر تعداد کلاس های مورد استفاده زیاد شود این include کردن هر کلاس واقعا مشکل ساز میشه و تمرکز مارو کم می کنه و بیشتر وقتمون میره سمت اینکه کلاس ها در داخل کدام دایرکتوری هستند و تک تک آن ها را به صفحه ی خودمون include کنیم . خوشبختانه composer این مشکل را برای ما حل کرده و خودش این موضوع را به عهده می گیرد و ما فقط کافی است بسته به نیازمون یکی از 3 روش زیر را که در فایل composer.json می باشد استفاده نماییم . داخل فایل composer آبجکتی به نام&nbsp;autoload وجود دارد که داخل آن تعریف می کنیم که چه فایل هایی را و از چه طریق برای ما autoload بسازد. 3روش autoloading در composer عبارتند از : File Based Autoloading Classmap Based Autoloading PSR-4 Autoloading سایت اصلی composer روش&nbsp;PSR-4 Autoloading را پیشنهاد می کند اما ما در این مقاله &nbsp;هر 4 روش را بررسی می نماییم . روش File Based Autoloading در روت (root) پروژه خودتون یک فولدر به نامaldemo ایجاد کنید . سپس داخل فولدرaldemo یک فولدر دیگر به نام&nbsp;mylibrary ایجاد می کنیم تا فایل های خودمون را داخل اش قرار بدهیم . داخل فولدر&nbsp;mylibrary یک فایل به نام&nbsp;functions.php ایجاد و کدهای زیر را قرار دهید : &lt;?php function lego () { return &#39;You are now a master builder.&#39;; } حالا داخل فولدر(aldemo) پروژه امون فایل composer.json را ایجاد و کدهای زیر را قرار می دهیم : { &quot;autoload&quot;: { &quot;files&quot;: [&quot;mylibrary/functions.php&quot;] } } همانطور که در بالا مشاهده می کنید یک آبجکت به نام autoload داریم و داخل آن &nbsp;مشخص کردیم که به چه روشی&nbsp;autoload برای ما ساخته شود . ما روش files را تعیین کردیم و جلوی آن فایل هایی که قرار است به صورت&nbsp;autoload درآیند را بصورت عناصر آرایه مشخص می کنیم . حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload بعد از اجرای فرمان بالا و زدن دکمه اینتر مشاهده می کنید که در روت پروژه , فولدری به نام vendor ساخته می شود .جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_files.php را باز نمائید. &lt;?php // autoload_files.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;239a881d87672da709af2b939c130dab&#39; =&gt; $baseDir . &#39;/mylibrary/functions.php&#39;, ); در خط 8 مشاهده می کنید مسیر فایل function.php به این فایل افزوده شده است. اگر تمام مراحل بالا به درستی انجام شده باشد, فرایند ساخت autoload به وسیله composer و از روش files به موفقیت به اتمام رسیده است . حالا برای استفاده از فایل function.php کافی است در فولدر aldemo فایلی به نام index.php ایجاد کنید و کدهای زیر را قرار دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); در کدهای بالا در خط اول لازم بود که autoload.php را به فایل index امان require کنید . و در خط بعدی از فانکشن lego که در فایل function.php موجود هست استفاده کردیم . روش Classmap Based Autoloading این روش از روش File Based Autoloading بهتر است به این خاطر که شما لازم نیست مسیر واقعی فایل خود را مشخص کنید و تنها دایرکتوری که فایل در آن قرار دارد را مشخص می کنیم. نکته : در این روش فقط می توان از کلاس ها استفاده نمود . فولدری به نام classes در شاخه aldemo ایجاد نمائید.سپس فایل myclass.php را در آن ایجاد و کدهای زیر را در آن قرار دهید : &lt;?php Class Cmautoload { public function classmap () { return &#39;that knows how to autoload with a classmap! &#39;; } } فایل index.php را مطابق زیر تغییر دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); $cm = new Cmautoload; echo $cm-&gt;classmap(); فایل composer.json را مطابق زیر تغییر دهید : { &quot;autoload&quot;: { &quot;files&quot;: [ &quot;mylibrary/functions.php&quot; ], &quot;classmap&quot;: [ &quot;classes&quot; ] } } حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_classmap.php را باز نمائید. &lt;?php // autoload_classmap.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;Cmautoload&#39; =&gt; $baseDir . &#39;/classes/myclass.php&#39;, ); در خط شماره 9 مشاهده می کنید مسیر کلیه کلاس های موجود در پوشه classes افزوده شده است. روش PSR-4 Based Autoloading استاندارد psr-4 بر خلاف دو روش قبلی یعنی File Based Autoloading , Classmap Based Autoloading با namespace ها در کلاس ها سرو کار دارد . مسیر زیر را در پروژه خود ایجاد نمائید: src/vegibit/library فایل greeting.php را در مسیر بالا ایجاد و کدهای زیر را در آن قرار دهید: &lt;?php namespace VegibitLibrary; Class Greeting { public function hi() { return &quot;We got you covered&quot;; } } فایل index.php را مطابق زیر تغییر دهید : &lt;?php require &#39;vendor/autoload.php&#39;; echo lego(); $cm = new Cmautoload; echo $cm-&gt;classmap(); $obj = new VegibitLibrary\\Greeting(); echo $obj-&gt;hi(); فایل composer.json را مطابق زیر تغییر دهید: { &quot;autoload&quot;: { &quot;files&quot;: [ &quot;mylibrary/functions.php&quot; ], &quot;classmap&quot;: [ &quot;classes&quot; ], &quot;psr-4&quot;: { &quot;VegibitLibrary\\\\&quot; : &quot;src/vegibit/library/&quot; } } } حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید : composer dump یا composer dumpautoload جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_psr4.php را باز نمائید. &lt;?php // autoload_psr4.php @generated by Composer $vendorDir = dirname(dirname(__FILE__)); $baseDir = dirname($vendorDir); return array( &#39;VegibitLibrary\\\\&#39; =&gt; array($baseDir . &#39;/src/vegibit/library&#39;), ); در خط شماره 9 مشاهده می کنید آدرس فضای نام VegibitLibrary بصورت عنصر آرایه افزوده شده است. کلیه فایل های بالا را می توانید از لینک زیر دانلود نمایید: aldemo.zip","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- stylesheets -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="stylesheet" href="/assets/prisma/prism.css">
    <!-- favicons and rss -->
    <link rel="alternate" type="application/rss+xml" title="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" href="/feed.xml">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
<!-- header -->
<header class="header" role="banner" aria-label="Header">
    <button class="hamburger-button" onclick="hamburgerMenu();" role="button" aria-label="Hamburger menu button">
        <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
    </button>
    <a href="/" class="logo" role="link" aria-label="Home">
        <img alt="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" src="/assets/img/logo/farhadmirzapour-logo.png" role="img" aria-label="Logo">
    </a>
    <nav class="navigation" role="navigation" aria-label="Navigation">
        <ul role="menu" aria-hidden="true" aria-label="Navigation menu">
            <li role="menuitem" aria-label="Navigation menu item">
                <a href="/" class="logo" role="menuitem" aria-label="Home">
                    <img alt="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" src="/assets/img/logo/farhadmirzapour-logo.png" role="img" aria-label="Logo">
                </a>
            </li>
            
            <li role="menuitem"><a href="/blog" role="menuitem" aria-label="مقالات">مقالات</a></li>
            
            <li role="menuitem"><a href="/contactus" role="menuitem" aria-label="تماس">تماس</a></li>
            
        </ul>
    </nav>
    <div class="searchbox" role="search" aria-label="Search">
        <form action="/search" id="searchthis" method="get" role="form" aria-label="Search form">
            <i class="fa fa-search" aria-hidden="true"></i>
            <input type="search" id="search" name="query" placeholder="Search..." role="textbox" aria-label="Search textbox">
        </form>
    </div>
</header>

<nav id="hamburger-menu" role="navigation" aria-label="Hamburger menu">
    <div class="searchbox" role="search" aria-label="Search">
        <form action="/search" id="searchthis" method="get" role="form" aria-label="Search form">
            <i class="fa fa-search" aria-hidden="true"></i>
            <input type="search" id="search" name="query" placeholder="Search..." role="textbox" aria-label="Search textbox">
        </form>
    </div>
    <div class="home-nav" role="navigation" aria-label="Site navigation">
        <a href="/" role="menuitem" aria-label="Home">صفحه اصلی</a>
        
        <a href="/blog" role="menuitem" aria-label="مقالات">مقالات</a>
        
        <a href="/contactus" role="menuitem" aria-label="تماس">تماس</a>
        
    </div>

    
</nav>
<!-- main content -->
<main class="container" role="main">
    <div class="rcpostcontainerimg">
<div class="rc-DRTVBanner-new rc-DRTVBanner-bigsize">
    <div style="background: url('/images/original/maxresdefault.jpg'); " class="blurred_img"></div>
    <div class="mask"></div>
    <div class="bot"></div>
    <div class="over">
        <div class="container-rc">
            <img class="image" src="/images/original/maxresdefault.jpg" alt="Autoloading کلاس ها با Composer" height="190">
            <div class="desktop-banner-container">
                <h1 class="display-5-text headline">
                    
                    Autoloading کلاس ها با Composer
                    
                    </h1>
                <!--<div class="tagslist"><ul class='lyda-tag-list'><li class='lyda-tag-list-title'>برچسب ها</li><li><a class="tags" href="/tag/لاراول">#لاراول</a></li><li><a class="tags" href="/tag/لاراول-5-5">#لاراول 5.5</a></li></ul></div>-->
            </div>
        </div>
    </div>
</div>

<!--<div class="bread-crumb">-->
<!--<div class="container   ">-->
<!--<div class="pull-right ">-->
<!--<div class="bread-button text-custom b-left">-->
<!--انتشار : 2 ماه پیش-->
<!--</div>-->
<!--<a href="/category/article/" class="bread-button back-to-all b-left hidden-xs">همه مقالات</a>-->
<!--<div class="cat-lable">-->
<!--<a href="/category/article/laravel/">-->
<!--لاراول-->
<!--</a>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<script>
    $(window).scroll(function(){
        var sticky = $('.doc-menu'),
            scroll = $(window).scrollTop();
        if (scroll >= 101) {sticky.addClass('doc-header-scroll'); }
        else {sticky.removeClass('doc-header-scroll'); };
    });
</script>
</div>
<article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  <div class="time">
    پنج شنبه 18 آبان 1396
  </div>
  <div class="post-content anchored" itemprop="articleBody">
    <p>
  همانطور که می دانیم در php برای استفاده از هر کلاسی باید اون کلاس رو در صفحه ای که لازم داریم include یا require کنیم تا php آن کلاس را بشناسد و بتوان از آن استفاده کرد . خب مشکل اینجاست که اگر تعداد کلاس های مورد استفاده زیاد شود این include کردن هر کلاس واقعا مشکل ساز میشه و تمرکز مارو کم می کنه و بیشتر وقتمون میره سمت اینکه کلاس ها در داخل کدام دایرکتوری هستند و تک تک آن ها را به صفحه ی خودمون include کنیم .
 </p>

<p>
خوشبختانه composer این مشکل را برای ما حل کرده و خودش این موضوع را به عهده می گیرد و ما فقط کافی است بسته به نیازمون یکی از 3 روش زیر را که در فایل composer.json می باشد استفاده نماییم . داخل فایل composer آبجکتی به نام autoload وجود دارد که داخل آن تعریف می کنیم که چه فایل هایی را و از چه طریق برای ما autoload بسازد.
</p>

<p>3روش autoloading در composer عبارتند از :</p>
<ul>
<li><a class="anchorjs" title="روش-file-based-autoloading" href="#">File Based Autoloading</a></li>
<li><a class="anchorjs" title="روش-classmap-based-autoloading" href="#">Classmap Based Autoloading</a></li>
<li><a class="anchorjs" title="روش-psr-4-based-autoloading" href="#">PSR-4 Autoloading</a></li>
</ul>
<p>سایت اصلی composer روش PSR-4 Autoloading را پیشنهاد می کند اما ما در این مقاله  هر 4 روش را بررسی می نماییم .</p>

<h3>روش File Based Autoloading</h3>

<p>
</p>
<ol>
<li>در روت (root) پروژه خودتون یک فولدر به نامaldemo ایجاد کنید .</li>
<li>سپس داخل فولدرaldemo یک فولدر دیگر به نام mylibrary ایجاد می کنیم تا فایل های خودمون را داخل اش قرار بدهیم .</li>
<li>داخل فولدر mylibrary یک فایل به نام functions.php ایجاد و کدهای زیر را قرار دهید :
<pre><code class="language-php line-numbers">&lt;?php

function lego () {
    return 'You are now a master builder.';
}
</code></pre>
</li>
<li>حالا داخل فولدر(aldemo) پروژه امون فایل composer.json را ایجاد و کدهای زیر را قرار می دهیم :
<pre><code class="language-json line-numbers">{
    "autoload": {
        "files": ["mylibrary/functions.php"]
    }
}
</code></pre>
</li>
<li>همانطور که در بالا مشاهده می کنید یک آبجکت به نام autoload داریم و داخل آن  مشخص کردیم که به چه روشی autoload برای ما ساخته شود . ما روش files را تعیین کردیم و جلوی آن فایل هایی که قرار است به صورت autoload درآیند  را بصورت عناصر آرایه  مشخص می کنیم .</li>
<li>حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید :
<pre><code class="language-bash line-numbers">
composer dump
یا
composer dumpautoload
</code></pre>

<p>
بعد از اجرای فرمان بالا و زدن دکمه اینتر مشاهده می کنید که در روت پروژه , فولدری به نام vendor ساخته می شود .جهت مشاهده تغییرات وارد پوشه  vendor سپس پوشه composer شده و   فایل autoload_files.php را باز نمائید.
</p>

<pre><code class="language-php line-numbers">&lt;?php
// autoload_files.php @generated by Composer

$vendorDir = dirname(dirname(__FILE__));
$baseDir = dirname($vendorDir);

return array(
    '239a881d87672da709af2b939c130dab' =&gt; $baseDir . '/mylibrary/functions.php',
);
</code></pre>

<p>
در خط 8 مشاهده می کنید مسیر فایل function.php به این فایل افزوده شده است.
</p>


</li>
<li>اگر تمام مراحل بالا به درستی انجام شده باشد, فرایند ساخت autoload به وسیله composer و از روش files به موفقیت به اتمام رسیده است . حالا برای استفاده از فایل function.php کافی است در فولدر aldemo فایلی به نام index.php ایجاد کنید و کدهای زیر را قرار دهید :
<pre><code class="language-php line-numbers">&lt;?php
require 'vendor/autoload.php';
echo lego();
</code></pre>
</li>

در کدهای بالا در خط اول لازم بود که autoload.php را به فایل index امان require کنید . و در خط بعدی از فانکشن lego که در فایل function.php موجود هست استفاده کردیم .

</ol>


<h3>روش Classmap Based Autoloading</h3>
<p>
این روش از روش File Based Autoloading بهتر است به این خاطر که شما لازم نیست مسیر واقعی فایل خود را مشخص کنید و تنها دایرکتوری که فایل در آن قرار دارد را مشخص می کنیم.
</p>
<p>
نکته : در این روش فقط می توان از کلاس ها استفاده نمود .
</p>
<p>
</p>
<ol>
<li>
فولدری به نام classes در شاخه aldemo ایجاد نمائید.سپس فایل myclass.php را در آن ایجاد و کدهای زیر را در آن قرار دهید :
<pre><code class="language-php line-numbers">&lt;?php
Class Cmautoload {
 
	  public function classmap () {
		  return 'that knows how to autoload with a classmap! ';
	  }
}
</code></pre>

</li>

<li>
فایل index.php  را مطابق زیر تغییر دهید :

<pre><code class="language-php line-numbers">&lt;?php
 
require 'vendor/autoload.php';
 
echo lego();
 
$cm = new Cmautoload;
echo $cm-&gt;classmap();
</code></pre>
</li>


<li>
فایل composer.json  را مطابق زیر تغییر دهید :

<pre><code class="language-json line-numbers">{
    "autoload": {
        "files": [
			"mylibrary/functions.php"
		],
		"classmap": [
			"classes"
		]
	}
}
</code></pre>
</li>

<li>حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید :
<pre><code class="language-bash line-numbers">
composer dump
یا
composer dumpautoload
</code></pre>
<p>
جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_classmap.php را باز نمائید.
</p>
<pre><code class="language-php line-numbers">&lt;?php

// autoload_classmap.php @generated by Composer

$vendorDir = dirname(dirname(__FILE__));
$baseDir = dirname($vendorDir);

return array(
    'Cmautoload' =&gt; $baseDir . '/classes/myclass.php',
);

</code></pre>
<p>
در خط شماره 9 مشاهده می کنید مسیر کلیه کلاس های موجود در پوشه classes  افزوده شده است.
</p>
</li>
</ol>


<h3>روش PSR-4 Based Autoloading</h3>
<p>
استاندارد psr-4 بر خلاف دو روش قبلی یعنی File Based Autoloading , Classmap Based Autoloading با namespace ها در کلاس ها سرو کار دارد .
</p>
<p>
</p>
<ol>
<li>
<p>
مسیر زیر را در پروژه خود ایجاد نمائید:
</p>
<p align="left">
src/vegibit/library
</p>
</li>
<li>
فایل greeting.php را در مسیر بالا ایجاد و کدهای زیر را در آن قرار دهید:
<pre><code class="language-php line-numbers">&lt;?php
namespace VegibitLibrary;
 
Class Greeting
{
    public function hi()
    {
        return "We got you covered";
    }
}

</code></pre>
</li>


<li>
<p>
فایل index.php  را مطابق زیر تغییر دهید :
</p>

<pre><code class="language-php line-numbers">&lt;?php
 
require 'vendor/autoload.php';
 
echo lego();
 
$cm = new Cmautoload;
echo $cm-&gt;classmap();
 
$obj = new VegibitLibrary\Greeting();

echo $obj-&gt;hi();
</code></pre>
</li>

<li>
فایل composer.json را مطابق زیر تغییر دهید:

<pre><code class="language-json line-numbers">
{
    "autoload": {
        "files": [
			"mylibrary/functions.php"
		],
		"classmap": [
			"classes"
		],
		"psr-4": {
			"VegibitLibrary\\" : "src/vegibit/library/"
		}
	}
}
</code></pre>
</li>

<li>حالا برای ایجاد autoload باید ترمینال را باز کرده و به روت پروژه بروید و یکی از دستورات زیر را اجرا کنید :
<pre><code class="language-bash line-numbers">
composer dump
یا
composer dumpautoload
</code></pre>
<p>
جهت مشاهده تغییرات وارد پوشه vendor سپس پوشه composer شده و فایل autoload_psr4.php را باز نمائید.
</p>
<pre><code class="language-php line-numbers">&lt;?php

// autoload_psr4.php @generated by Composer

$vendorDir = dirname(dirname(__FILE__));
$baseDir = dirname($vendorDir);

return array(
    'VegibitLibrary\\' =&gt; array($baseDir . '/src/vegibit/library'),
);


</code></pre>
<p>
در خط شماره 9 مشاهده می کنید آدرس فضای نام VegibitLibrary بصورت عنصر آرایه  افزوده شده است.
</p>
</li>
</ol>

<p><br></p>
<p>
کلیه فایل های بالا را می توانید از لینک زیر دانلود نمایید:
</p>
<p align="left">
<a href="/files/aldemo.zip">aldemo.zip</a>
</p>


  </div>
    
<hr>
<p>
</p>
<div>منابع مورد مطالعه جهت جمع آوری این مطلب:</div>
<div class="refrencehref">
        https://alihossein.ir/tutorials/آموزش-autoloading-کلاس-compose <br> http://vegibit.com/composer-autoloading-tutorial/
</div>


  <hr>
  <style>
    #commentsdiv{
        background-color: #f5f5f5;
        border: 1px solid #c5c5c5;
        border-bottom: 0px !important;
        padding: 12px;
    }
    #commentsborder{
        background-color: #fff;
        border: 1px solid #c5c5c5;
        white-space: normal;
        padding: 20px;
    }
</style>

<div id="commentsdiv">نظرات</div>
<div id="commentsborder">
<div id="wpac-comment"></div>
</div>
<script type="text/javascript">
wpac_init = window.wpac_init || [];
wpac_init.push({widget: 'Comment', id: 7878});
(function() {
    if ('WIDGETPACK_LOADED' in window) return;
    WIDGETPACK_LOADED = true;
    var mc = document.createElement('script');
    mc.type = 'text/javascript';
    mc.async = true;
    mc.src = 'https://embed.widgetpack.com/widget.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
})();
</script>

</article>
<script src="/assets/js/anchor.min.js"></script>
<script>
    anchors.options = {
        placement: 'left',
        visible: 'always',
//        icon: '#',
    };
    anchors.add('.anchored h2,.anchored h3,.anchored h4,.anchored h5,.anchored h6');

    (function($){
        if(window.location.hash) {
            var hash = decodeURIComponent(window.location.hash);
            gotohash($(hash).offset().top);
        }
        $('a.anchorjs-link').click(function(){
			gotohash($(this).offset().top);
        });
        $('a.anchorjs').click(function(){
			var id = '#' + $(this).attr('title');
			gotohash($(id).offset().top);
        });		
        function gotohash(top){
            var headerHeight = 70; // Get fixed header height
            $('html,body').animate({
                scrollTop: top - headerHeight
            }, 20);
        }
    })(jQuery);
</script>





    <div id="back-to-top" role="button" aria-label="Back to top">
        <i class="fa fa-angle-double-up" aria-hidden="true"></i>
    </div>
</main>
<!-- footer -->

<footer class="footer" role="contentinfo" aria-label="Site footer">
    <div class="navigation" role="navigation" aria-label="Footer links">
        <a href="http://localhost:4000" class="avatar" role="link"></a>
        <ul role="menubar" aria-label="Footer links menubar">
            <li class="footer-products" role="menuitem" aria-label="Products">
                تولیدات
                <ul role="menu" aria-hidden="true" aria-label="Products link">
                </ul>
            </li>
            <li class="footer-blog" role="menuitem" aria-label="Blog">
                مقالات
                <ul role="menu" aria-hidden="true" aria-label="Blog link">
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2020/07/03/marriage.html" role="link" aria-label="ازدواج">ازدواج</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2019/10/11/vuejs.html" role="link" aria-label="آموزش vuejs">آموزش vuejs</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2017/12/18/laravel.html" role="link" aria-label="آموزش Laravel">آموزش Laravel</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/articles/2017/12/13/laravelcollective.html" role="link" aria-label="معرفی Laravel Collective">معرفی Laravel Collective</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2017/12/06/design-patterns.html" role="link" aria-label="معرفی  Design Pattern">معرفی  Design Pattern</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/blog" role="link" aria-label="Read more">Read More</a></li>
                </ul>
            </li>

            <li class="footer-connect" role="menuitem" aria-label="Connect">
                تماس
                <ul role="menu" aria-hidden="true" aria-label="Connect link">
                    <li role="listitem" aria-label="Connect link item"><a href="https://github.com/farhadmirzapour" target="_blank" role="link" aria-label="GitHub">GitHub</a></li>
                    <li role="listitem" aria-label="Connect link item"><a href="https://www.linkedin.com/in/farhad-mirzapour/" target="_blank" role="link" aria-label="Linkedin">Linkedin</a></li>
                    <li role="listitem" aria-label="Connect link item"><a href="https://twitter.com/farhadmirzapour" target="_blank" role="link" aria-label="Twitter">Twitter</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="socials" role="navigation" aria-label="Social links">
        <ul role="menu" aria-hidden="true" aria-label="Social link">
            <li role="listitem" aria-label="Social link item"><a href="https://github.com/farhadmirzapour" target="_blank" role="link" aria-label="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="https://twitter.com/farhadmirzapour" target="_blank" role="link" aria-label="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="https://www.linkedin.com/in/farhad-mirzapour-0043b862/" target="_blank" role="link" aria-label="Linkedin"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="/feed.xml" role="link" aria-label="RSS"><i class="fa fa-rss-square" aria-hidden="true"></i></a></li>
        </ul>
    </div>
    <div class="copyright" role="contentinfo" aria-label="Copyright">
        <p>© <script type="text/javascript">document.write(new Date().getFullYear());</script> Farhad Mirzapour</p>
    </div>
</footer>

<!-- scripts -->
<script src="/assets/js/hamburger-menu.js"></script>

<script src="/assets/js/elevator.min.js"></script>
<script src="/assets/js/back-to-top.js"></script>
<script src="/assets/prisma/prism.js"></script>
<!-- google analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108878564-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-108878564-1');
</script>

</body>
</html>