<!DOCTYPE html>
<html lang="">
<!-- head -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>معرفی collections | مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="معرفی collections" />
<meta name="author" content="Farhad Mirzapour" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="کلاس Illuminate\Support\Collection یک بسته مناسب و راحت برای کار با آرایه های داده فراهم می کند. به عنوان مثال، کد زیر را بررسی کنید. از collect helper برای ایجاد نمونه جدید از آرایه استفاده می کنیم، عملگر strtoupper را بر روی هر عنصر اجرا می کنیم و سپس تمام عناصر خالی را حذف می کنیم: $collection = collect([&#39;taylor&#39;, &#39;abigail&#39;, null])-&gt;map(function ($name) { return strtoupper($name); }) -&gt;reject(function ($name) { return empty($name); }); همانطور که می بینید، کلاس Collection به شما اجازه می دهد تا روش های زنجیره ای خود را برای انجام نقشه های روان به کار ببرید. به طور كلي مجموعه ها تغيير نمي كنند، به اين معني كه هر متد Collection نمونه كاملا جديدي از کلاس Collection را باز مي گرداند. متد Creating Collections همانطور که در بالا ذکر شد، collect helper نمونه جدید Illuminate\Support\Collection را برای آرایه دریافت شده بر می گرداند. بنابراین ایجاد یک collection ساده است: $collection = collect([1, 2, 3]); نکته :نتایج کوئری های Eloquent همیشه نمونه ای از کلاس Collection را بر می گرداند توسعه Collections Collection ها &quot;macroable&quot; هستند، به این معنی که می توان متد هایی را به کلاس Collection در زمان اجرا می توان اضافه نمود. برای مثال در کد زیر متدی به نام toUpper را به این مجموعه اضافه نمودیم : use Illuminate\Support\Str; Collection::macro(&#39;toUpper&#39;, function () { return $this-&gt;map(function ($value) { return Str::upper($value); }); }); $collection = collect([&#39;first&#39;, &#39;second&#39;]); $upper = $collection-&gt;toUpper(); // [&#39;FIRST&#39;, &#39;SECOND&#39;] به طور معمول جهت معرفی نمودن متد ایجاد شده از service provider استفاده شده تا در تمامی قسمت های برنامه قابل دسترس باشد. متد های موجود در کلاس Collection متدهای از پیش تعریف شده این کلاس عبارتند از : all average avg chunk collapse combine concat contains containsStrict count crossJoin dd diff diffAssoc diffKeys dump each eachSpread every except filter first firstWhere flatMap flatten flip forget forPage get groupBy has implode intersect intersectByKeys isEmpty isNotEmpty keyBy keys last macro make map mapInto mapSpread mapToGroups mapWithKeys max median merge min mode nth only pad partition pipe pluck pop prepend pull push put random reduce reject reverse search shift shuffle slice sort sortBy sortByDesc splice split sum take tap times toArray toJson transform union unique uniqueStrict unless unwrap values when where whereStrict whereIn whereInStrict whereNotIn whereNotInStrict wrap zip متد all این متد تمامی زیر آرایه های تعریف شده موجود در این مجموعه را بر می گرداند : collect([1, 2, 3])-&gt;all(); // [1, 2, 3] متد avg این متد معدل مقادیر را بر اساس کلید دریافتی بر می گرداند : $average = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;avg(&#39;foo&#39;); // 20 $average = collect([1, 1, 2, 4])-&gt;avg(); // 2 متد chunk با استفاده از این متد می توان مجموعه را به چند زیر مجموعه کوچکتر با سایز مشخص شده تقسیم کرد : $collection = collect([1, 2, 3, 4, 5, 6, 7]); $chunks = $collection-&gt;chunk(4); $chunks-&gt;toArray(); // [[1, 2, 3, 4], [5, 6, 7]] از این روش می توان در view ها زمان نمایش اطلاعات مانند زیر استفاده کرد : @foreach ($products-&gt;chunk(3) as $chunk) @foreach ($chunk as $product) {{ $product-&gt;name }} @endforeach @endforeach متد collapse این متد ، زیر آرایه های موجود را بصورت یک آرایه تبدیل می کند : $collection = collect([[1, 2, 3], [4, 5, 6], [7, 8, 9]]); $collapsed = $collection-&gt;collapse(); $collapsed-&gt;all(); // [1, 2, 3, 4, 5, 6, 7, 8, 9] متد combine این متد کلید آرایه یک مجموعه با مقدار آرایه مجموعه ای دیگر را ترکیب می کند : $collection = collect([&#39;name&#39;, &#39;age&#39;]); $combined = $collection-&gt;combine([&#39;George&#39;, 29]); $combined-&gt;all(); // [&#39;name&#39; =&gt; &#39;George&#39;, &#39;age&#39; =&gt; 29] متد concat این متد آرایه دریافتی را به انتهای آرایه مجموعه اضافه می کند : $collection = collect([&#39;John Doe&#39;]); $concatenated = $collection-&gt;concat([&#39;Jane Doe&#39;])-&gt;concat([&#39;name&#39; =&gt; &#39;Johnny Doe&#39;]); $concatenated-&gt;all(); // [&#39;John Doe&#39;, &#39;Jane Doe&#39;, &#39;Johnny Doe&#39;] متد contains این متد وجود یک آیتم مشخص را در مجموعه بررسی می کند : $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100]); $collection-&gt;contains(&#39;Desk&#39;); // true $collection-&gt;contains(&#39;New York&#39;); // false شما همچنین می توانید یک key / value را همانند زیر ارسال نمایید : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], ]); $collection-&gt;contains(&#39;product&#39;, &#39;Bookcase&#39;); // false همچنین می توانید یک متد callback را جهت بررسی داده های خود اجرا کنید : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;contains(function ($value, $key) { return $value &gt; 5; }); // false متد containsStrict این متد همانند contains می باشد و از &quot;strict&quot; comparisons جهت بررسی داده ها استفاده می کند. متد count تعداد آیتم های یک مجموعه را شمارش می کند : $collection = collect([1, 2, 3, 4]); $collection-&gt;count(); // 4 متد crossJoin این متد یک ماتریس را ایجاد می کند : $collection = collect([1, 2]); $matrix = $collection-&gt;crossJoin([&#39;a&#39;, &#39;b&#39;]); $matrix-&gt;all(); /* [ [1, &#39;a&#39;], [1, &#39;b&#39;], [2, &#39;a&#39;], [2, &#39;b&#39;], ] */ $collection = collect([1, 2]); $matrix = $collection-&gt;crossJoin([&#39;a&#39;, &#39;b&#39;], [&#39;I&#39;, &#39;II&#39;]); $matrix-&gt;all(); /* [ [1, &#39;a&#39;, &#39;I&#39;], [1, &#39;a&#39;, &#39;II&#39;], [1, &#39;b&#39;, &#39;I&#39;], [1, &#39;b&#39;, &#39;II&#39;], [2, &#39;a&#39;, &#39;I&#39;], [2, &#39;a&#39;, &#39;II&#39;], [2, &#39;b&#39;, &#39;I&#39;], [2, &#39;b&#39;, &#39;II&#39;], ] */ متد dd این متد محتوای مجموعه را نمایش و روند اجرای برنامه را قطع میکند : $collection = collect([&#39;John Doe&#39;, &#39;Jane Doe&#39;]); $collection-&gt;dd(); /* Collection { #items: array:2 [ 0 =&gt; &quot;John Doe&quot; 1 =&gt; &quot;Jane Doe&quot; ] } */ چنانچه بخواهیم روند اجرای برنامه متوقف نشود از متد dump می توان استفاده کرد. متد diff این متد مقدار آیتم های یک مجموعه را با مجموعه دیگر مقایسه و در صورت عدم وجود، برگشت داده خواهند شد : $collection = collect([1, 2, 3, 4, 5]); $diff = $collection-&gt;diff([2, 4, 6, 8]); $diff-&gt;all(); // [1, 3, 5] متد diffAssoc این متد همانند متد diff می باشد با این تفاوت که براساس key / value عمل می کند : $collection = collect([ &#39;color&#39; =&gt; &#39;orange&#39;, &#39;type&#39; =&gt; &#39;fruit&#39;, &#39;remain&#39; =&gt; 6 ]); $diff = $collection-&gt;diffAssoc([ &#39;color&#39; =&gt; &#39;yellow&#39;, &#39;type&#39; =&gt; &#39;fruit&#39;, &#39;remain&#39; =&gt; 3, &#39;used&#39; =&gt; 6 ]); $diff-&gt;all(); // [&#39;color&#39; =&gt; &#39;orange&#39;, &#39;remain&#39; =&gt; 6] متد diffKeys این متد همانند متد diff بوده با این تفاوت که براساس کلید عمل می کند : $collection = collect([ &#39;one&#39; =&gt; 10, &#39;two&#39; =&gt; 20, &#39;three&#39; =&gt; 30, &#39;four&#39; =&gt; 40, &#39;five&#39; =&gt; 50, ]); $diff = $collection-&gt;diffKeys([ &#39;two&#39; =&gt; 2, &#39;four&#39; =&gt; 4, &#39;six&#39; =&gt; 6, &#39;eight&#39; =&gt; 8, ]); $diff-&gt;all(); // [&#39;one&#39; =&gt; 10, &#39;three&#39; =&gt; 30, &#39;five&#39; =&gt; 50] متد dump این متد محتویات مجموعه را بدون متوقف کردن اجرای برنامه متوقف می کند: $collection = collect([&#39;John Doe&#39;, &#39;Jane Doe&#39;]); $collection-&gt;dump(); /* Collection { #items: array:2 [ 0 =&gt; &quot;John Doe&quot; 1 =&gt; &quot;Jane Doe&quot; ] } */ متد each این متد هر بار یک آیتم از مجموعه دریافت و به متد callback جهت اجرای عملیات بر روی آن ارسال می کند : $collection = $collection-&gt;each(function ($item, $key) { // }); با برگشت مقدار false می توان روند اجرای each را متوقف کرد : $collection = $collection-&gt;each(function ($item, $key) { if (/* some condition */) { return false; } }); متد eachSpread همانند متد each بوده و آیتم های تودرتو را به callback ارسال می کند: $collection = collect([[&#39;John Doe&#39;, 35], [&#39;Jane Doe&#39;, 33]]); $collection-&gt;eachSpread(function ($name, $age) { // }); متد every از این متد جهت تایید آزمون مشخص روی تمامی عناصر استفاده می شود : collect([1, 2, 3, 4])-&gt;every(function ($value, $key) { return $value &gt; 2; }); // false متد except این متد تمامی عناصر به غیر از آیتم های مشخص شده را بر می گرداند : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 100, &#39;discount&#39; =&gt; false]); $filtered = $collection-&gt;except([&#39;price&#39;, &#39;discount&#39;]); $filtered-&gt;all(); // [&#39;product_id&#39; =&gt; 1] متد filter از این متد جهت فیلتر کردن عناصر با یک شرط معین استفاده می شود : $collection = collect([1, 2, 3, 4]); $filtered = $collection-&gt;filter(function ($value, $key) { return $value &gt; 2; }); $filtered-&gt;all(); // [3, 4] اگر شرطی تعیین نشود تمامی عناصر معادل false حذف خواهند شد : $collection = collect([1, 2, 3, null, false, &#39;&#39;, 0, []]); $collection-&gt;filter()-&gt;all(); // [1, 2, 3] متد first اولین آیتم که با گذر از شرط تعیین شده تایید شود برگشت داده خواهد شد : collect([1, 2, 3, 4])-&gt;first(function ($value, $key) { return $value &gt; 2; }); // 3 چنانچه شرطی تعیین نگردد اولین آیتم برگشت داده خواهد شد : collect([1, 2, 3, 4])-&gt;first(); // 1 متد firstWhere متد firstWhere اولین عنصر مجموعه که با کلید / ارزش معادل باشد باز می گرداند: $collection = collect([ [&#39;name&#39; =&gt; &#39;Regena&#39;, &#39;age&#39; =&gt; 12], [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 14], [&#39;name&#39; =&gt; &#39;Diego&#39;, &#39;age&#39; =&gt; 23], [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 84], ]); $collection-&gt;firstWhere(&#39;name&#39;, &#39;Linda&#39;); // [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 14] همچنین می توانید این متد را با یک اپراتور فراخوانی کنید : $collection-&gt;firstWhere(&#39;age&#39;, &#39;&gt;=&#39;, 18); // [&#39;name&#39; =&gt; &#39;Diego&#39;, &#39;age&#39; =&gt; 23] متد flatMap متد flatmap داخل یک collection حلقه زده و سپس تک تک المان های آن را به تابع callback ارسال می کند. تابع بازفراخوان (callback) می تواند آیتم های ارسالی را ویرایش کرده و برگرداند. بدین وسیله مجموعه ای جدید از آیتم های ویرایش شده به عنوان خروجی برگردانده می شود. در نهایت آرایه ها flatten شده و در قالب یک آرایه ی واحد و تک بعدی در خروجی به نمایش در می آید: $collection = collect([ [&#39;name&#39; =&gt; &#39;Sally&#39;], [&#39;school&#39; =&gt; &#39;Arkansas&#39;], [&#39;age&#39; =&gt; 28] ]); $flattened = $collection-&gt;flatMap(function ($values) { return array_map(&#39;strtoupper&#39;, $values); }); $flattened-&gt;all(); // [&#39;name&#39; =&gt; &#39;SALLY&#39;, &#39;school&#39; =&gt; &#39;ARKANSAS&#39;, &#39;age&#39; =&gt; &#39;28&#39;]; متد flatten این متد یک مجموعه ی چند بعدی را به یک collection تک بعدی تبدیل می کند: $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;languages&#39; =&gt; [&#39;php&#39;, &#39;javascript&#39;]]); $flattened = $collection-&gt;flatten(); $flattened-&gt;all(); // [&#39;taylor&#39;, &#39;php&#39;, &#39;javascript&#39;]; می توانید میزان &quot;depth&quot; را به عنوان آرگومان ارسال کنیم : $collection = collect([ &#39;Apple&#39; =&gt; [ [&#39;name&#39; =&gt; &#39;iPhone 6S&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;], ], &#39;Samsung&#39; =&gt; [ [&#39;name&#39; =&gt; &#39;Galaxy S7&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;] ], ]); $products = $collection-&gt;flatten(1); $products-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6S&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S7&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;], ] */ متد flip این متد کلید و مقدار را جا به جا می کند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $flipped = $collection-&gt;flip(); $flipped-&gt;all(); // [&#39;taylor&#39; =&gt; &#39;name&#39;, &#39;laravel&#39; =&gt; &#39;framework&#39;] متد forget این متد آیتم را با استفاده از کلید مشخص شده حذف می کند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $collection-&gt;forget(&#39;name&#39;); $collection-&gt;all(); // [&#39;framework&#39; =&gt; &#39;laravel&#39;] متد forPage روش forPage یک مجموعه جدید را که حاوی آیتم هایی است که در یک شماره صفحه مشخص وجود دارد، بازمی گرداند. این روش شماره صفحه را به عنوان اولین آرگومان و تعداد آیتم هایی که در هر صفحه نشان می دهد را به عنوان آرگومان دوم می پذیرد : $collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9]); $chunk = $collection-&gt;forPage(2, 3); $chunk-&gt;all(); // [4, 5, 6] متد get این متد یک آیتم را با استفاده از کلید آن باز می گرداند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $value = $collection-&gt;get(&#39;name&#39;); // taylor چنانچه کلیدی یافت نشود مقدار پیش فرض null برگشت داده خواهد شد . می توان مقدار پیش فرض را مانند زیر تعیین کرد : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $value = $collection-&gt;get(&#39;foo&#39;, &#39;default-value&#39;); // default-value همچنین می توانید مقدار پیش فرض را با استفاده از روش callback همانند زیر تعیین کنید : $collection-&gt;get(&#39;email&#39;, function () { return &#39;default-value&#39;; }); // default-value متد groupBy این متد آیتم های مجموعه را با استفاده از کلید گروه بندی می کند : $collection = collect([ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ]); $grouped = $collection-&gt;groupBy(&#39;account_id&#39;); $grouped-&gt;toArray(); /* [ &#39;account-x10&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], ], &#39;account-x11&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ], ] */ همچنین می توانید از روش callback در این متد همانند زیر استفاده نمایید : $grouped = $collection-&gt;groupBy(function ($item, $key) { return substr($item[&#39;account_id&#39;], -3); }); $grouped-&gt;toArray(); /* [ &#39;x10&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], ], &#39;x11&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ], ] */ متد has این متد بررسی می کند که آیا کلید مورد نظر وجود دارد یا خیر : $collection = collect([&#39;account_id&#39; =&gt; 1, &#39;product&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;has(&#39;product&#39;); // true متد implode متد implode عناصر موجود را به هم اتصال می دهد. اگر مجموعه شامل آرایه ها یا اشیاء باشد، باید کلید عناصر و رشته &quot;اتصال&quot; که می خواهید بین مقادیر قرار دهید را تعیین نمایید: $collection = collect([ [&#39;account_id&#39; =&gt; 1, &#39;product&#39; =&gt; &#39;Desk&#39;], [&#39;account_id&#39; =&gt; 2, &#39;product&#39; =&gt; &#39;Chair&#39;], ]); $collection-&gt;implode(&#39;product&#39;, &#39;, &#39;); // Desk, Chair آگر مجموعه شامل یک آرایه ساده باشد فقط کافی است رشته &quot;اتصال&quot; را مشخص نمایید : collect([1, 2, 3, 4, 5])-&gt;implode(&#39;-&#39;); // &#39;1-2-3-4-5&#39; متد intersect این متد هر آیتمی را از مجموعه اصلی که در آرایه یا مجموعه داده شده موجود نباشد حذف می کند. مجموعه نتیجه، کلیدهای اصلی مجموعه را حفظ خواهد کرد: $collection = collect([&#39;Desk&#39;, &#39;Sofa&#39;, &#39;Chair&#39;]); $intersect = $collection-&gt;intersect([&#39;Desk&#39;, &#39;Chair&#39;, &#39;Bookcase&#39;]); $intersect-&gt;all(); // [0 =&gt; &#39;Desk&#39;, 2 =&gt; &#39;Chair&#39;] متد intersectByKeys متد intersectByKeys هر کلید از مجموعه اصلی که در آرایه یا مجموعه داده شده موجود نباشد را حذف می کند: $collection = collect([ &#39;serial&#39; =&gt; &#39;UX301&#39;, &#39;type&#39; =&gt; &#39;screen&#39;, &#39;year&#39; =&gt; 2009 ]); $intersect = $collection-&gt;intersectByKeys([ &#39;reference&#39; =&gt; &#39;UX404&#39;, &#39;type&#39; =&gt; &#39;tab&#39;, &#39;year&#39; =&gt; 2011 ]); $intersect-&gt;all(); // [&#39;type&#39; =&gt; &#39;screen&#39;, &#39;year&#39; =&gt; 2009] متد isEmpty این متد چنانچه مجموعه خالی باشد مقدار true در غیر اینصورت مقدار false بر می گرداند: collect([])-&gt;isEmpty(); // true متد isNotEmpty چنانچه مجموعه خالی نباشد مقدار true در غیر اینصورت مقدار false بر می گرداند : collect([])-&gt;isNotEmpty(); // false متد keyBy متد keyBy مجموعه را با کلید داده شده کلید می کند. اگر چندین عنصر همان کلید را داشته باشند، تنها آخرین در مجموعه جدید ظاهر می شود: $collection = collect([ [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $keyed = $collection-&gt;keyBy(&#39;product_id&#39;); $keyed-&gt;all(); /* [ &#39;prod-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;prod-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ] */ همچنین می توانید از روش callback در این متد استفاده نمایید : $keyed = $collection-&gt;keyBy(function ($item) { return strtoupper($item[&#39;product_id&#39;]); }); $keyed-&gt;all(); /* [ &#39;PROD-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;PROD-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ] */ متد keys این متد کلیه کلیدها را بر می گرداند: $collection = collect([ &#39;prod-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;prod-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $keys = $collection-&gt;keys(); $keys-&gt;all(); // [&#39;prod-100&#39;, &#39;prod-200&#39;] متد last آخرین آیتم که مصداق یک شرط مشخص باشد را برمی گرداند : collect([1, 2, 3, 4])-&gt;last(function ($value, $key) { return $value &lt; 3; }); // 2 اگر شرطی تعیین نشود آخرین عنصر برگشت داده خواهد شد. collect([1, 2, 3, 4])-&gt;last(); // 4 متد macro با استفتده از این متد می توان متدهای مورد نظر خود را به این کلاس اضافه نماییم. متد make این متد نمونه ای از کلاس collection را ایجاد می کند. متد map متد map داخل مجموعه حلقه زده و سپس هر مقدار را به تابع callback پاس می دهد. callback می تواند آیتم را ویرایش نموده و آن را در خروجی برگرداند. بدین وسیله یک نمونه ی جدید از مجموعه، متشکل از آیتم های ویرایش شده ی collection اصلی در خروجی ارائه می شود: $collection = collect([1, 2, 3, 4, 5]); $multiplied = $collection-&gt;map(function ($item, $key) { return $item * 2; }); $multiplied-&gt;all(); // [2, 4, 6, 8, 10] متد mapInto روش mapInto بر روی مجموعه حلقه می زند، و یک نمونه جدید از کلاس داده شده با گذراندن مقدار به سازنده ایجاد می کند: class Currency { /** * Create a new currency instance. * * @param string $code * @return void */ function __construct(string $code) { $this-&gt;code = $code; } } $collection = collect([&#39;USD&#39;, &#39;EUR&#39;, &#39;GBP&#39;]); $currencies = $collection-&gt;mapInto(Currency::class); $currencies-&gt;all(); // [Currency(&#39;USD&#39;), Currency(&#39;EUR&#39;), Currency(&#39;GBP&#39;)] متد mapSpread The mapSpread method iterates over the collection&#39;s items, passing each nested item value into the given callback. The callback is free to modify the item and return it, thus forming a new collection of modified items: $collection = collect([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]); $chunks = $collection-&gt;chunk(2); $sequence = $chunks-&gt;mapSpread(function ($odd, $even) { return $odd + $even; }); $sequence-&gt;all(); // [1, 5, 9, 13, 17] متد mapToGroups The mapToGroups method groups the collection&#39;s items by the given callback. The callback should return an associative array containing a single key / value pair, thus forming a new collection of grouped values: $collection = collect([ [ &#39;name&#39; =&gt; &#39;John Doe&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, ], [ &#39;name&#39; =&gt; &#39;Jane Doe&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, ], [ &#39;name&#39; =&gt; &#39;Johnny Doe&#39;, &#39;department&#39; =&gt; &#39;Marketing&#39;, ] ]); $grouped = $collection-&gt;mapToGroups(function ($item, $key) { return [$item[&#39;department&#39;] =&gt; $item[&#39;name&#39;]]; }); $grouped-&gt;toArray(); /* [ &#39;Sales&#39; =&gt; [&#39;John Doe&#39;, &#39;Jane Doe&#39;], &#39;Marketing&#39; =&gt; [&#39;Johhny Doe&#39;], ] */ $grouped-&gt;get(&#39;Sales&#39;)-&gt;all(); // [&#39;John Doe&#39;, &#39;Jane Doe&#39;] متد mapWithKeys The mapWithKeys method iterates through the collection and passes each value to the given callback. The callback should return an associative array containing a single key / value pair: $collection = collect([ [ &#39;name&#39; =&gt; &#39;John&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, &#39;email&#39; =&gt; &#39;john@example.com&#39; ], [ &#39;name&#39; =&gt; &#39;Jane&#39;, &#39;department&#39; =&gt; &#39;Marketing&#39;, &#39;email&#39; =&gt; &#39;jane@example.com&#39; ] ]); $keyed = $collection-&gt;mapWithKeys(function ($item) { return [$item[&#39;email&#39;] =&gt; $item[&#39;name&#39;]]; }); $keyed-&gt;all(); /* [ &#39;john@example.com&#39; =&gt; &#39;John&#39;, &#39;jane@example.com&#39; =&gt; &#39;Jane&#39;, ] */ متد max مقدار max را براساس کلید بر می گرداند : $max = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20]])-&gt;max(&#39;foo&#39;); // 20 $max = collect([1, 2, 3, 4, 5])-&gt;max(); // 5 متد median این متد مقدار متوسط مجموعه را بر می گرداند : $median = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;median(&#39;foo&#39;); // 15 $median = collect([1, 1, 2, 4])-&gt;median(); // 1.5 متد merge این متد عناصر یک مجموعه را با مجموعه دیگر ادغام می کند : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 100]); $merged = $collection-&gt;merge([&#39;price&#39; =&gt; 200, &#39;discount&#39; =&gt; false]); $merged-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 200, &#39;discount&#39; =&gt; false] مثال : $collection = collect([&#39;Desk&#39;, &#39;Chair&#39;]); $merged = $collection-&gt;merge([&#39;Bookcase&#39;, &#39;Door&#39;]); $merged-&gt;all(); // [&#39;Desk&#39;, &#39;Chair&#39;, &#39;Bookcase&#39;, &#39;Door&#39;] متد min مقدار min را براساس کلید بر می گرداند : $min = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20]])-&gt;min(&#39;foo&#39;); // 10 $min = collect([1, 2, 3, 4, 5])-&gt;min(); // 1 متد mode مقدار mode را براساس کلید بر می گرداند : $mode = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;mode(&#39;foo&#39;); // [10] $mode = collect([1, 1, 2, 4])-&gt;mode(); // [1] متد nth The nth method creates a new collection consisting of every n-th element: $collection = collect([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]); $collection-&gt;nth(4); // [&#39;a&#39;, &#39;e&#39;] You may optionally pass an offset as the second argument: $collection-&gt;nth(4, 1); // [&#39;b&#39;, &#39;f&#39;] متد only آیتم های موجود در مجموعه را با کلیدهای مشخصی باز می گرداند: $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100, &#39;discount&#39; =&gt; false]); $filtered = $collection-&gt;only([&#39;product_id&#39;, &#39;name&#39;]); $filtered-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;] متد pad روش pad آرایه را با مقدار داده شده پر می کند تا آرایه به اندازه مشخصی برسد. این روش مانند تابع array_pad PHP عمل می کند. برای قرار دادن به سمت چپ، شما باید اندازه منفی را مشخص کنید. در صورتی که مقدار مطلق اندازه داده شده کمتر یا برابر طول آرایه باشد، هیچ مکانی وجود نخواهد داشت: $collection = collect([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]); $filtered = $collection-&gt;pad(5, 0); $filtered-&gt;all(); // [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, 0, 0] $filtered = $collection-&gt;pad(-5, 0); $filtered-&gt;all(); // [0, 0, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;] متد partition از این متد جهت جدا کردن آیتم هایی که مورد تایید شرط مورد نظر هستند و آیتم هایی که مورد تایید شرط نیستند استفاده می گردد: $collection = collect([1, 2, 3, 4, 5, 6]); list($underThree, $aboveThree) = $collection-&gt;partition(function ($i) { return $i &lt; 3; }); متد pipe این متد نوع داده collection را به callback ارسال می کند و نتیجه آنرا بر می گرداند : $collection = collect([1, 2, 3]); $piped = $collection-&gt;pipe(function ($collection) { return $collection-&gt;sum(); }); // 6 متد pluck این متد تمام مقادیر به ازای کلید معین شده بر می گرداند : $collection = collect([ [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $plucked = $collection-&gt;pluck(&#39;name&#39;); $plucked-&gt;all(); // [&#39;Desk&#39;, &#39;Chair&#39;] همچنین می توانید کلید خروجی را برای نتایج تعیین کنید : $plucked = $collection-&gt;pluck(&#39;name&#39;, &#39;product_id&#39;); $plucked-&gt;all(); // [&#39;prod-100&#39; =&gt; &#39;Desk&#39;, &#39;prod-200&#39; =&gt; &#39;Chair&#39;] متد pop این متد آخرین عنصر مجموعه را بر می گرداند: $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;pop(); // 5 $collection-&gt;all(); // [1, 2, 3, 4] متد prepend این متد یک آیتم را به ابتدای مجموعه اضافه می کند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;prepend(0); $collection-&gt;all(); // [0, 1, 2, 3, 4, 5] همچنین از آرگومان دوم به عنوان کلید استفاده نمایید : $collection = collect([&#39;one&#39; =&gt; 1, &#39;two&#39; =&gt; 2]); $collection-&gt;prepend(0, &#39;zero&#39;); $collection-&gt;all(); // [&#39;zero&#39; =&gt; 0, &#39;one&#39; =&gt; 1, &#39;two&#39; =&gt; 2] متد pull این متد یک آیتم را با کلید تعیین شده بر می گرداند : $collection = collect([&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;pull(&#39;name&#39;); // &#39;Desk&#39; $collection-&gt;all(); // [&#39;product_id&#39; =&gt; &#39;prod-100&#39;] متد push این متد آیتم را به انتهای مجموعه اضافه می کند : $collection = collect([1, 2, 3, 4]); $collection-&gt;push(5); $collection-&gt;all(); // [1, 2, 3, 4, 5] متد put این متد یک عنصر را با کلید و مقدار مشخص در مجموعه قرار می دهد : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;put(&#39;price&#39;, 100); $collection-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100] متد random یک آیتم را بصورت تصادفی از مجموعه بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;random(); // 4 - (retrieved randomly) همچنین می توانید تعداد آیتم هایی که بصورت تصادفی برگشت دا می شوند را تعیین کنید : $random = $collection-&gt;random(3); $random-&gt;all(); // [2, 4, 5] - (retrieved randomly) متد reduce این متد مجموعه را به یک مقدار کاهش می دهد ، و نتیجه هر تکرار را به تکرار بعدی انتقال می دهد : $collection = collect([1, 2, 3]); $total = $collection-&gt;reduce(function ($carry, $item) { return $carry + $item; }); // 6 مقدار carry$ در تکرار اول null است؛ با این وجود، شما می توانید مقدار اولیه آن را تعیین نمایید: $collection-&gt;reduce(function ($carry, $item) { return $carry + $item; }, 4); // 10 متد reject این متد آیتم که مصداق شرط تعیین شده نباشند را بر می گرداند و برعکس متد filter عمل می کند : $collection = collect([1, 2, 3, 4]); $filtered = $collection-&gt;reject(function ($value, $key) { return $value &gt; 2; }); $filtered-&gt;all(); // [1, 2] متد reverse این متد ترتیب عناصر مجموعه را با حفظ کلید آن معکوس می کند : $collection = collect([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]); $reversed = $collection-&gt;reverse(); $reversed-&gt;all(); /* [ 4 =&gt; &#39;e&#39;, 3 =&gt; &#39;d&#39;, 2 =&gt; &#39;c&#39;, 1 =&gt; &#39;b&#39;, 0 =&gt; &#39;a&#39;, ] */ متد search مجموعه ای را برای مقدار داده شده جستجو می کند و کلید آن را در صورت وجود بر می گرداند. اگر مورد یافت نشد، مقدار false را بر می گرداند : $collection = collect([2, 4, 6, 8]); $collection-&gt;search(4); // 1 در حالت پیش فرض از روش &quot;loose&quot; جهت مقایسه و جستجو استفاده می شود برای جستجو با استفاده از روش &quot;strict مقدار true را به عنوان آرگومان دوم ارسال می کنیم : $collection-&gt;search(&#39;4&#39;, true); // false همچنین می توانید از callback در این متد استفاده نمایید : $collection-&gt;search(function ($item, $key) { return $item &gt; 5; }); // 2 متد shift عملیات shift به راست را در مجموعه انجام می دهد و اولین عنصر را بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;shift(); // 1 $collection-&gt;all(); // [2, 3, 4, 5] متد shuffle عناصر موجود در مجموعه را بصورت تصادفی جا به جا می کند : $collection = collect([1, 2, 3, 4, 5]); $shuffled = $collection-&gt;shuffle(); $shuffled-&gt;all(); // [3, 2, 5, 1, 4] - (generated randomly) متد slice تکه ای از مجموعه را با شروع از index معین شده بر می گرداند : $collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]); $slice = $collection-&gt;slice(4); $slice-&gt;all(); // [5, 6, 7, 8, 9, 10] چنانچه بخواهیم تعداد نیز مشخص شود آن را به عنوان آرگومان دوم در متد مشخص می نماییم : $slice = $collection-&gt;slice(4, 2); $slice-&gt;all(); // [5, 6] تکه بازگشتی به طور پیش فرض کلید را حفظ می کند. اگر نمی خواهید کلیدهای اصلی را حفظ کنید، میتوانید از متد values برای reindex استفاده کنید : متد sort از این متد جهت مرتب سازی مجموعه استفاده می شود. مجموعه مرتب شده، کلیدهای آرایه را حفظ می کند، بنابراین در این مثال از متد values برای reindex کلیدها استفاده کردیم : $collection = collect([5, 3, 1, 2, 4]); $sorted = $collection-&gt;sort(); $sorted-&gt;values()-&gt;all(); // [1, 2, 3, 4, 5] متد sortBy از این متد جهت مرتب سازی بر اساس کلید معین شده استفاده می گردد : $collection = collect([ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], ]); $sorted = $collection-&gt;sortBy(&#39;price&#39;); $sorted-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ همچنین می توان از روش callback در این متد استفاده نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ]); $sorted = $collection-&gt;sortBy(function ($product, $key) { return count($product[&#39;colors&#39;]); }); $sorted-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ] */ متد sortByDesc همانند متد sort می باشد با این تفاوت که بصورت نزولی مرتب می کند : متد splice این متد تکه ای از مجموعه را با شروع از index مشخص حذف و آن را بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2); $chunk-&gt;all(); // [3, 4, 5] $collection-&gt;all(); // [1, 2] همچنین می توانید تعداد آیتم ها را در آرگومان دوم مشخص نمایید : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2, 1); $chunk-&gt;all(); // [3] $collection-&gt;all(); // [1, 2, 4, 5] در ادامه می توان در آرگومان سوم آیتم هایی را به عنوان جایگزین مشخص نمود : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2, 1, [10, 11]); $chunk-&gt;all(); // [3] $collection-&gt;all(); // [1, 2, 10, 11, 4, 5] متد split از این متد جهت گروه بندی کردن مجموعه به تعداد مشخص استفاده می شود : $collection = collect([1, 2, 3, 4, 5]); $groups = $collection-&gt;split(3); $groups-&gt;toArray(); // [[1, 2], [3, 4], [5]] متد sum این متد مقادیر آیتم ها را جمع و باز می گرداند : collect([1, 2, 3, 4, 5])-&gt;sum(); // 15 همچنین می توانید کلید معینی جهت جمع کردن مقادیر آیتم ها مشخص نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;JavaScript: The Good Parts&#39;, &#39;pages&#39; =&gt; 176], [&#39;name&#39; =&gt; &#39;JavaScript: The Definitive Guide&#39;, &#39;pages&#39; =&gt; 1096], ]); $collection-&gt;sum(&#39;pages&#39;); // 1272 همچنین می توانید از روش callback در این متد استفاده نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ]); $collection-&gt;sum(function ($product) { return count($product[&#39;colors&#39;]); }); // 6 متد take یک مجموعه جدید با تعداد مشخص آیتم را برمی گرداند : $collection = collect([0, 1, 2, 3, 4, 5]); $chunk = $collection-&gt;take(3); $chunk-&gt;all(); // [0, 1, 2] همچنین می توانید از یک عدد منفی به عنوان آرگومان استفاده نمایید که در اینصورت از انتهای مجموعه آیتم ها برگردانده می شوند : $collection = collect([0, 1, 2, 3, 4, 5]); $chunk = $collection-&gt;take(-2); $chunk-&gt;all(); // [4, 5] متد tap The tap method passes the collection to the given callback, allowing you to &quot;tap&quot; into the collection at a specific point and do something with the items while not affecting the collection itself: collect([2, 4, 3, 1, 5]) -&gt;sort() -&gt;tap(function ($collection) { Log::debug(&#39;Values after sorting&#39;, $collection-&gt;values()-&gt;toArray()); }) -&gt;shift(); // 1 متد times این متد تعداد دفعات اجرای متد callback تعیین شده را تعیین می کند و مقدار آن را در هر بار اجرا بر می گرداند : $collection = Collection::times(10, function ($number) { return $number * 9; }); $collection-&gt;all(); // [9, 18, 27, 36, 45, 54, 63, 72, 81, 90] این متد می تواند در Eloquent models مانند زیر مفید باشد : $categories = Collection::times(3, function ($number) { return factory(Category::class)-&gt;create([&#39;name&#39; =&gt; &#39;Category #&#39;.$number]); }); $categories-&gt;all(); /* [ [&#39;id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Category #1&#39;], [&#39;id&#39; =&gt; 2, &#39;name&#39; =&gt; &#39;Category #2&#39;], [&#39;id&#39; =&gt; 3, &#39;name&#39; =&gt; &#39;Category #3&#39;], ] */ متد toArray عناصر موجود در مجموعه را بصورت آرایه بر می گرداند: $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200]); $collection-&gt;toArray(); /* [ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد toJson عناصر موجود در مجموعه را بصورت JSON بر می گرداند : $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200]); $collection-&gt;toJson(); // &#39;{&quot;name&quot;:&quot;Desk&quot;, &quot;price&quot;:200}&#39; متد transform این متد مقادیر تغییر یافته بعد از عملیات صورت گرفته بر روی عناصر مجموعه در callback را جایگزین عناصر اصلی مجموعه می کند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;transform(function ($item, $key) { return $item * 2; }); $collection-&gt;all(); // [2, 4, 6, 8, 10] اگر بخواهیم بر روی مجموعه اصلی تغییری حاصل نشود از متد map استفاده نمایید. متد union این متد آرایه داده شده را به مجموعه اضافه می کند. اگر آرایه داده شده شامل کلید هایی است که قبلا در مجموعه اصلی هستند، مقادیر اصلی مجموعه ترجیح داده می شود: $collection = collect([1 =&gt; [&#39;a&#39;], 2 =&gt; [&#39;b&#39;]]); $union = $collection-&gt;union([3 =&gt; [&#39;c&#39;], 1 =&gt; [&#39;b&#39;]]); $union-&gt;all(); // [1 =&gt; [&#39;a&#39;], 2 =&gt; [&#39;b&#39;], 3 =&gt; [&#39;c&#39;]] متد unique این متد تمام اقلام منحصر به فرد در مجموعه را باز می گرداند. مجموعه بازگشتی، کلیدهای آرایه را نگه می دارد، بنابراین در این مثال از متد values برای بازنشانی کلید استفاده می کنیم: $collection = collect([1, 1, 2, 2, 3, 4, 2]); $unique = $collection-&gt;unique(); $unique-&gt;values()-&gt;all(); // [1, 2, 3, 4] هنگام استفاده با آرایه های تودرتو و یا اشیاء ، می توانید کلید مورد استفاده برای تعیین منحصر به فرد بودن را تعیین کنید: $collection = collect([ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;iPhone 5&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Apple Watch&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy Gear&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], ]); $unique = $collection-&gt;unique(&#39;brand&#39;); $unique-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], ] */ همچنین می توانید از callback در این متد استفاده نمایید : $unique = $collection-&gt;unique(function ($item) { return $item[&#39;brand&#39;].$item[&#39;type&#39;]; }); $unique-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Apple Watch&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy Gear&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], ] */ متد uniqueStrict همانند متد unique عمل می کند با این تفاوت که از روش &quot;strict&quot; در مقایسه های خود استفاده می کند. متد unless این متد callback مشخص شده را اجرا می کند مگر اینگه آرگومان اول true باشد. $collection = collect([1, 2, 3]); $collection-&gt;unless(true, function ($collection) { return $collection-&gt;push(4); }); $collection-&gt;unless(false, function ($collection) { return $collection-&gt;push(5); }); $collection-&gt;all(); // [1, 2, 3, 5] این متد عکس متد when عمل می کند. متد unwrap The static unwrap method returns the collection&#39;s underlying items from the given value when applicable: Collection::unwrap(collect(&#39;John Doe&#39;)); // [&#39;John Doe&#39;] Collection::unwrap([&#39;John Doe&#39;]); // [&#39;John Doe&#39;] Collection::unwrap(&#39;John Doe&#39;); // &#39;John Doe&#39; متد values این متد کلیدها را بصورت اعداد صحیح متوالی باز نشانی می کند : $collection = collect([ 10 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], 11 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200] ]); $values = $collection-&gt;values(); $values-&gt;all(); /* [ 0 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], 1 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد when این متد callback مورد نظر را زمانیکه آرگومان اول برابر true باشد را اجرا می کند : $collection = collect([1, 2, 3]); $collection-&gt;when(true, function ($collection) { return $collection-&gt;push(4); }); $collection-&gt;when(false, function ($collection) { return $collection-&gt;push(5); }); $collection-&gt;all(); // [1, 2, 3, 4] این متد عکس متد unless عمل می کند. متد where این متد عملیات filter را براساس key /value اعمال می کند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;where(&#39;price&#39;, 100); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ] */ متد whereStrict این متد همانند متد where بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد whereIn این متد همانند متد where بوده با این تفاوت که مقادیر را می تواند بصورت آرایه دریافت کند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;whereIn(&#39;price&#39;, [150, 200]); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد whereInStrict این متد همانند متد where بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد whereNotIn این متد عکس متد where عمل می کند و مقادیری که در آرایه تعیین شده نباشند را بر می گرداند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;whereNotIn(&#39;price&#39;, [150, 200]); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ] */ متد whereNotInStrict این متد همانند متد whereNotIn بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد wrap The static wrap method wraps the given value in a collection when applicable: $collection = Collection::wrap(&#39;John Doe&#39;); $collection-&gt;all(); // [&#39;John Doe&#39;] $collection = Collection::wrap([&#39;John Doe&#39;]); $collection-&gt;all(); // [&#39;John Doe&#39;] $collection = Collection::wrap(collect(&#39;John Doe&#39;)); $collection-&gt;all(); // [&#39;John Doe&#39;] متد zip متد zip() مقادیر آرایه ی ورودی را با مقادیر موجود در مجموعه در اندیس منطبق (که دارای شماره ی مکان قرارگیری یکسان است) ترکیب می کند: $collection = collect([&#39;Chair&#39;, &#39;Desk&#39;]); $zipped = $collection-&gt;zip([100, 200]); $zipped-&gt;all(); // [[&#39;Chair&#39;, 100], [&#39;Desk&#39;, 200]]" />
<meta property="og:description" content="کلاس Illuminate\Support\Collection یک بسته مناسب و راحت برای کار با آرایه های داده فراهم می کند. به عنوان مثال، کد زیر را بررسی کنید. از collect helper برای ایجاد نمونه جدید از آرایه استفاده می کنیم، عملگر strtoupper را بر روی هر عنصر اجرا می کنیم و سپس تمام عناصر خالی را حذف می کنیم: $collection = collect([&#39;taylor&#39;, &#39;abigail&#39;, null])-&gt;map(function ($name) { return strtoupper($name); }) -&gt;reject(function ($name) { return empty($name); }); همانطور که می بینید، کلاس Collection به شما اجازه می دهد تا روش های زنجیره ای خود را برای انجام نقشه های روان به کار ببرید. به طور كلي مجموعه ها تغيير نمي كنند، به اين معني كه هر متد Collection نمونه كاملا جديدي از کلاس Collection را باز مي گرداند. متد Creating Collections همانطور که در بالا ذکر شد، collect helper نمونه جدید Illuminate\Support\Collection را برای آرایه دریافت شده بر می گرداند. بنابراین ایجاد یک collection ساده است: $collection = collect([1, 2, 3]); نکته :نتایج کوئری های Eloquent همیشه نمونه ای از کلاس Collection را بر می گرداند توسعه Collections Collection ها &quot;macroable&quot; هستند، به این معنی که می توان متد هایی را به کلاس Collection در زمان اجرا می توان اضافه نمود. برای مثال در کد زیر متدی به نام toUpper را به این مجموعه اضافه نمودیم : use Illuminate\Support\Str; Collection::macro(&#39;toUpper&#39;, function () { return $this-&gt;map(function ($value) { return Str::upper($value); }); }); $collection = collect([&#39;first&#39;, &#39;second&#39;]); $upper = $collection-&gt;toUpper(); // [&#39;FIRST&#39;, &#39;SECOND&#39;] به طور معمول جهت معرفی نمودن متد ایجاد شده از service provider استفاده شده تا در تمامی قسمت های برنامه قابل دسترس باشد. متد های موجود در کلاس Collection متدهای از پیش تعریف شده این کلاس عبارتند از : all average avg chunk collapse combine concat contains containsStrict count crossJoin dd diff diffAssoc diffKeys dump each eachSpread every except filter first firstWhere flatMap flatten flip forget forPage get groupBy has implode intersect intersectByKeys isEmpty isNotEmpty keyBy keys last macro make map mapInto mapSpread mapToGroups mapWithKeys max median merge min mode nth only pad partition pipe pluck pop prepend pull push put random reduce reject reverse search shift shuffle slice sort sortBy sortByDesc splice split sum take tap times toArray toJson transform union unique uniqueStrict unless unwrap values when where whereStrict whereIn whereInStrict whereNotIn whereNotInStrict wrap zip متد all این متد تمامی زیر آرایه های تعریف شده موجود در این مجموعه را بر می گرداند : collect([1, 2, 3])-&gt;all(); // [1, 2, 3] متد avg این متد معدل مقادیر را بر اساس کلید دریافتی بر می گرداند : $average = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;avg(&#39;foo&#39;); // 20 $average = collect([1, 1, 2, 4])-&gt;avg(); // 2 متد chunk با استفاده از این متد می توان مجموعه را به چند زیر مجموعه کوچکتر با سایز مشخص شده تقسیم کرد : $collection = collect([1, 2, 3, 4, 5, 6, 7]); $chunks = $collection-&gt;chunk(4); $chunks-&gt;toArray(); // [[1, 2, 3, 4], [5, 6, 7]] از این روش می توان در view ها زمان نمایش اطلاعات مانند زیر استفاده کرد : @foreach ($products-&gt;chunk(3) as $chunk) @foreach ($chunk as $product) {{ $product-&gt;name }} @endforeach @endforeach متد collapse این متد ، زیر آرایه های موجود را بصورت یک آرایه تبدیل می کند : $collection = collect([[1, 2, 3], [4, 5, 6], [7, 8, 9]]); $collapsed = $collection-&gt;collapse(); $collapsed-&gt;all(); // [1, 2, 3, 4, 5, 6, 7, 8, 9] متد combine این متد کلید آرایه یک مجموعه با مقدار آرایه مجموعه ای دیگر را ترکیب می کند : $collection = collect([&#39;name&#39;, &#39;age&#39;]); $combined = $collection-&gt;combine([&#39;George&#39;, 29]); $combined-&gt;all(); // [&#39;name&#39; =&gt; &#39;George&#39;, &#39;age&#39; =&gt; 29] متد concat این متد آرایه دریافتی را به انتهای آرایه مجموعه اضافه می کند : $collection = collect([&#39;John Doe&#39;]); $concatenated = $collection-&gt;concat([&#39;Jane Doe&#39;])-&gt;concat([&#39;name&#39; =&gt; &#39;Johnny Doe&#39;]); $concatenated-&gt;all(); // [&#39;John Doe&#39;, &#39;Jane Doe&#39;, &#39;Johnny Doe&#39;] متد contains این متد وجود یک آیتم مشخص را در مجموعه بررسی می کند : $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100]); $collection-&gt;contains(&#39;Desk&#39;); // true $collection-&gt;contains(&#39;New York&#39;); // false شما همچنین می توانید یک key / value را همانند زیر ارسال نمایید : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], ]); $collection-&gt;contains(&#39;product&#39;, &#39;Bookcase&#39;); // false همچنین می توانید یک متد callback را جهت بررسی داده های خود اجرا کنید : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;contains(function ($value, $key) { return $value &gt; 5; }); // false متد containsStrict این متد همانند contains می باشد و از &quot;strict&quot; comparisons جهت بررسی داده ها استفاده می کند. متد count تعداد آیتم های یک مجموعه را شمارش می کند : $collection = collect([1, 2, 3, 4]); $collection-&gt;count(); // 4 متد crossJoin این متد یک ماتریس را ایجاد می کند : $collection = collect([1, 2]); $matrix = $collection-&gt;crossJoin([&#39;a&#39;, &#39;b&#39;]); $matrix-&gt;all(); /* [ [1, &#39;a&#39;], [1, &#39;b&#39;], [2, &#39;a&#39;], [2, &#39;b&#39;], ] */ $collection = collect([1, 2]); $matrix = $collection-&gt;crossJoin([&#39;a&#39;, &#39;b&#39;], [&#39;I&#39;, &#39;II&#39;]); $matrix-&gt;all(); /* [ [1, &#39;a&#39;, &#39;I&#39;], [1, &#39;a&#39;, &#39;II&#39;], [1, &#39;b&#39;, &#39;I&#39;], [1, &#39;b&#39;, &#39;II&#39;], [2, &#39;a&#39;, &#39;I&#39;], [2, &#39;a&#39;, &#39;II&#39;], [2, &#39;b&#39;, &#39;I&#39;], [2, &#39;b&#39;, &#39;II&#39;], ] */ متد dd این متد محتوای مجموعه را نمایش و روند اجرای برنامه را قطع میکند : $collection = collect([&#39;John Doe&#39;, &#39;Jane Doe&#39;]); $collection-&gt;dd(); /* Collection { #items: array:2 [ 0 =&gt; &quot;John Doe&quot; 1 =&gt; &quot;Jane Doe&quot; ] } */ چنانچه بخواهیم روند اجرای برنامه متوقف نشود از متد dump می توان استفاده کرد. متد diff این متد مقدار آیتم های یک مجموعه را با مجموعه دیگر مقایسه و در صورت عدم وجود، برگشت داده خواهند شد : $collection = collect([1, 2, 3, 4, 5]); $diff = $collection-&gt;diff([2, 4, 6, 8]); $diff-&gt;all(); // [1, 3, 5] متد diffAssoc این متد همانند متد diff می باشد با این تفاوت که براساس key / value عمل می کند : $collection = collect([ &#39;color&#39; =&gt; &#39;orange&#39;, &#39;type&#39; =&gt; &#39;fruit&#39;, &#39;remain&#39; =&gt; 6 ]); $diff = $collection-&gt;diffAssoc([ &#39;color&#39; =&gt; &#39;yellow&#39;, &#39;type&#39; =&gt; &#39;fruit&#39;, &#39;remain&#39; =&gt; 3, &#39;used&#39; =&gt; 6 ]); $diff-&gt;all(); // [&#39;color&#39; =&gt; &#39;orange&#39;, &#39;remain&#39; =&gt; 6] متد diffKeys این متد همانند متد diff بوده با این تفاوت که براساس کلید عمل می کند : $collection = collect([ &#39;one&#39; =&gt; 10, &#39;two&#39; =&gt; 20, &#39;three&#39; =&gt; 30, &#39;four&#39; =&gt; 40, &#39;five&#39; =&gt; 50, ]); $diff = $collection-&gt;diffKeys([ &#39;two&#39; =&gt; 2, &#39;four&#39; =&gt; 4, &#39;six&#39; =&gt; 6, &#39;eight&#39; =&gt; 8, ]); $diff-&gt;all(); // [&#39;one&#39; =&gt; 10, &#39;three&#39; =&gt; 30, &#39;five&#39; =&gt; 50] متد dump این متد محتویات مجموعه را بدون متوقف کردن اجرای برنامه متوقف می کند: $collection = collect([&#39;John Doe&#39;, &#39;Jane Doe&#39;]); $collection-&gt;dump(); /* Collection { #items: array:2 [ 0 =&gt; &quot;John Doe&quot; 1 =&gt; &quot;Jane Doe&quot; ] } */ متد each این متد هر بار یک آیتم از مجموعه دریافت و به متد callback جهت اجرای عملیات بر روی آن ارسال می کند : $collection = $collection-&gt;each(function ($item, $key) { // }); با برگشت مقدار false می توان روند اجرای each را متوقف کرد : $collection = $collection-&gt;each(function ($item, $key) { if (/* some condition */) { return false; } }); متد eachSpread همانند متد each بوده و آیتم های تودرتو را به callback ارسال می کند: $collection = collect([[&#39;John Doe&#39;, 35], [&#39;Jane Doe&#39;, 33]]); $collection-&gt;eachSpread(function ($name, $age) { // }); متد every از این متد جهت تایید آزمون مشخص روی تمامی عناصر استفاده می شود : collect([1, 2, 3, 4])-&gt;every(function ($value, $key) { return $value &gt; 2; }); // false متد except این متد تمامی عناصر به غیر از آیتم های مشخص شده را بر می گرداند : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 100, &#39;discount&#39; =&gt; false]); $filtered = $collection-&gt;except([&#39;price&#39;, &#39;discount&#39;]); $filtered-&gt;all(); // [&#39;product_id&#39; =&gt; 1] متد filter از این متد جهت فیلتر کردن عناصر با یک شرط معین استفاده می شود : $collection = collect([1, 2, 3, 4]); $filtered = $collection-&gt;filter(function ($value, $key) { return $value &gt; 2; }); $filtered-&gt;all(); // [3, 4] اگر شرطی تعیین نشود تمامی عناصر معادل false حذف خواهند شد : $collection = collect([1, 2, 3, null, false, &#39;&#39;, 0, []]); $collection-&gt;filter()-&gt;all(); // [1, 2, 3] متد first اولین آیتم که با گذر از شرط تعیین شده تایید شود برگشت داده خواهد شد : collect([1, 2, 3, 4])-&gt;first(function ($value, $key) { return $value &gt; 2; }); // 3 چنانچه شرطی تعیین نگردد اولین آیتم برگشت داده خواهد شد : collect([1, 2, 3, 4])-&gt;first(); // 1 متد firstWhere متد firstWhere اولین عنصر مجموعه که با کلید / ارزش معادل باشد باز می گرداند: $collection = collect([ [&#39;name&#39; =&gt; &#39;Regena&#39;, &#39;age&#39; =&gt; 12], [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 14], [&#39;name&#39; =&gt; &#39;Diego&#39;, &#39;age&#39; =&gt; 23], [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 84], ]); $collection-&gt;firstWhere(&#39;name&#39;, &#39;Linda&#39;); // [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 14] همچنین می توانید این متد را با یک اپراتور فراخوانی کنید : $collection-&gt;firstWhere(&#39;age&#39;, &#39;&gt;=&#39;, 18); // [&#39;name&#39; =&gt; &#39;Diego&#39;, &#39;age&#39; =&gt; 23] متد flatMap متد flatmap داخل یک collection حلقه زده و سپس تک تک المان های آن را به تابع callback ارسال می کند. تابع بازفراخوان (callback) می تواند آیتم های ارسالی را ویرایش کرده و برگرداند. بدین وسیله مجموعه ای جدید از آیتم های ویرایش شده به عنوان خروجی برگردانده می شود. در نهایت آرایه ها flatten شده و در قالب یک آرایه ی واحد و تک بعدی در خروجی به نمایش در می آید: $collection = collect([ [&#39;name&#39; =&gt; &#39;Sally&#39;], [&#39;school&#39; =&gt; &#39;Arkansas&#39;], [&#39;age&#39; =&gt; 28] ]); $flattened = $collection-&gt;flatMap(function ($values) { return array_map(&#39;strtoupper&#39;, $values); }); $flattened-&gt;all(); // [&#39;name&#39; =&gt; &#39;SALLY&#39;, &#39;school&#39; =&gt; &#39;ARKANSAS&#39;, &#39;age&#39; =&gt; &#39;28&#39;]; متد flatten این متد یک مجموعه ی چند بعدی را به یک collection تک بعدی تبدیل می کند: $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;languages&#39; =&gt; [&#39;php&#39;, &#39;javascript&#39;]]); $flattened = $collection-&gt;flatten(); $flattened-&gt;all(); // [&#39;taylor&#39;, &#39;php&#39;, &#39;javascript&#39;]; می توانید میزان &quot;depth&quot; را به عنوان آرگومان ارسال کنیم : $collection = collect([ &#39;Apple&#39; =&gt; [ [&#39;name&#39; =&gt; &#39;iPhone 6S&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;], ], &#39;Samsung&#39; =&gt; [ [&#39;name&#39; =&gt; &#39;Galaxy S7&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;] ], ]); $products = $collection-&gt;flatten(1); $products-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6S&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S7&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;], ] */ متد flip این متد کلید و مقدار را جا به جا می کند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $flipped = $collection-&gt;flip(); $flipped-&gt;all(); // [&#39;taylor&#39; =&gt; &#39;name&#39;, &#39;laravel&#39; =&gt; &#39;framework&#39;] متد forget این متد آیتم را با استفاده از کلید مشخص شده حذف می کند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $collection-&gt;forget(&#39;name&#39;); $collection-&gt;all(); // [&#39;framework&#39; =&gt; &#39;laravel&#39;] متد forPage روش forPage یک مجموعه جدید را که حاوی آیتم هایی است که در یک شماره صفحه مشخص وجود دارد، بازمی گرداند. این روش شماره صفحه را به عنوان اولین آرگومان و تعداد آیتم هایی که در هر صفحه نشان می دهد را به عنوان آرگومان دوم می پذیرد : $collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9]); $chunk = $collection-&gt;forPage(2, 3); $chunk-&gt;all(); // [4, 5, 6] متد get این متد یک آیتم را با استفاده از کلید آن باز می گرداند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $value = $collection-&gt;get(&#39;name&#39;); // taylor چنانچه کلیدی یافت نشود مقدار پیش فرض null برگشت داده خواهد شد . می توان مقدار پیش فرض را مانند زیر تعیین کرد : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $value = $collection-&gt;get(&#39;foo&#39;, &#39;default-value&#39;); // default-value همچنین می توانید مقدار پیش فرض را با استفاده از روش callback همانند زیر تعیین کنید : $collection-&gt;get(&#39;email&#39;, function () { return &#39;default-value&#39;; }); // default-value متد groupBy این متد آیتم های مجموعه را با استفاده از کلید گروه بندی می کند : $collection = collect([ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ]); $grouped = $collection-&gt;groupBy(&#39;account_id&#39;); $grouped-&gt;toArray(); /* [ &#39;account-x10&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], ], &#39;account-x11&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ], ] */ همچنین می توانید از روش callback در این متد همانند زیر استفاده نمایید : $grouped = $collection-&gt;groupBy(function ($item, $key) { return substr($item[&#39;account_id&#39;], -3); }); $grouped-&gt;toArray(); /* [ &#39;x10&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], ], &#39;x11&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ], ] */ متد has این متد بررسی می کند که آیا کلید مورد نظر وجود دارد یا خیر : $collection = collect([&#39;account_id&#39; =&gt; 1, &#39;product&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;has(&#39;product&#39;); // true متد implode متد implode عناصر موجود را به هم اتصال می دهد. اگر مجموعه شامل آرایه ها یا اشیاء باشد، باید کلید عناصر و رشته &quot;اتصال&quot; که می خواهید بین مقادیر قرار دهید را تعیین نمایید: $collection = collect([ [&#39;account_id&#39; =&gt; 1, &#39;product&#39; =&gt; &#39;Desk&#39;], [&#39;account_id&#39; =&gt; 2, &#39;product&#39; =&gt; &#39;Chair&#39;], ]); $collection-&gt;implode(&#39;product&#39;, &#39;, &#39;); // Desk, Chair آگر مجموعه شامل یک آرایه ساده باشد فقط کافی است رشته &quot;اتصال&quot; را مشخص نمایید : collect([1, 2, 3, 4, 5])-&gt;implode(&#39;-&#39;); // &#39;1-2-3-4-5&#39; متد intersect این متد هر آیتمی را از مجموعه اصلی که در آرایه یا مجموعه داده شده موجود نباشد حذف می کند. مجموعه نتیجه، کلیدهای اصلی مجموعه را حفظ خواهد کرد: $collection = collect([&#39;Desk&#39;, &#39;Sofa&#39;, &#39;Chair&#39;]); $intersect = $collection-&gt;intersect([&#39;Desk&#39;, &#39;Chair&#39;, &#39;Bookcase&#39;]); $intersect-&gt;all(); // [0 =&gt; &#39;Desk&#39;, 2 =&gt; &#39;Chair&#39;] متد intersectByKeys متد intersectByKeys هر کلید از مجموعه اصلی که در آرایه یا مجموعه داده شده موجود نباشد را حذف می کند: $collection = collect([ &#39;serial&#39; =&gt; &#39;UX301&#39;, &#39;type&#39; =&gt; &#39;screen&#39;, &#39;year&#39; =&gt; 2009 ]); $intersect = $collection-&gt;intersectByKeys([ &#39;reference&#39; =&gt; &#39;UX404&#39;, &#39;type&#39; =&gt; &#39;tab&#39;, &#39;year&#39; =&gt; 2011 ]); $intersect-&gt;all(); // [&#39;type&#39; =&gt; &#39;screen&#39;, &#39;year&#39; =&gt; 2009] متد isEmpty این متد چنانچه مجموعه خالی باشد مقدار true در غیر اینصورت مقدار false بر می گرداند: collect([])-&gt;isEmpty(); // true متد isNotEmpty چنانچه مجموعه خالی نباشد مقدار true در غیر اینصورت مقدار false بر می گرداند : collect([])-&gt;isNotEmpty(); // false متد keyBy متد keyBy مجموعه را با کلید داده شده کلید می کند. اگر چندین عنصر همان کلید را داشته باشند، تنها آخرین در مجموعه جدید ظاهر می شود: $collection = collect([ [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $keyed = $collection-&gt;keyBy(&#39;product_id&#39;); $keyed-&gt;all(); /* [ &#39;prod-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;prod-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ] */ همچنین می توانید از روش callback در این متد استفاده نمایید : $keyed = $collection-&gt;keyBy(function ($item) { return strtoupper($item[&#39;product_id&#39;]); }); $keyed-&gt;all(); /* [ &#39;PROD-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;PROD-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ] */ متد keys این متد کلیه کلیدها را بر می گرداند: $collection = collect([ &#39;prod-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;prod-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $keys = $collection-&gt;keys(); $keys-&gt;all(); // [&#39;prod-100&#39;, &#39;prod-200&#39;] متد last آخرین آیتم که مصداق یک شرط مشخص باشد را برمی گرداند : collect([1, 2, 3, 4])-&gt;last(function ($value, $key) { return $value &lt; 3; }); // 2 اگر شرطی تعیین نشود آخرین عنصر برگشت داده خواهد شد. collect([1, 2, 3, 4])-&gt;last(); // 4 متد macro با استفتده از این متد می توان متدهای مورد نظر خود را به این کلاس اضافه نماییم. متد make این متد نمونه ای از کلاس collection را ایجاد می کند. متد map متد map داخل مجموعه حلقه زده و سپس هر مقدار را به تابع callback پاس می دهد. callback می تواند آیتم را ویرایش نموده و آن را در خروجی برگرداند. بدین وسیله یک نمونه ی جدید از مجموعه، متشکل از آیتم های ویرایش شده ی collection اصلی در خروجی ارائه می شود: $collection = collect([1, 2, 3, 4, 5]); $multiplied = $collection-&gt;map(function ($item, $key) { return $item * 2; }); $multiplied-&gt;all(); // [2, 4, 6, 8, 10] متد mapInto روش mapInto بر روی مجموعه حلقه می زند، و یک نمونه جدید از کلاس داده شده با گذراندن مقدار به سازنده ایجاد می کند: class Currency { /** * Create a new currency instance. * * @param string $code * @return void */ function __construct(string $code) { $this-&gt;code = $code; } } $collection = collect([&#39;USD&#39;, &#39;EUR&#39;, &#39;GBP&#39;]); $currencies = $collection-&gt;mapInto(Currency::class); $currencies-&gt;all(); // [Currency(&#39;USD&#39;), Currency(&#39;EUR&#39;), Currency(&#39;GBP&#39;)] متد mapSpread The mapSpread method iterates over the collection&#39;s items, passing each nested item value into the given callback. The callback is free to modify the item and return it, thus forming a new collection of modified items: $collection = collect([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]); $chunks = $collection-&gt;chunk(2); $sequence = $chunks-&gt;mapSpread(function ($odd, $even) { return $odd + $even; }); $sequence-&gt;all(); // [1, 5, 9, 13, 17] متد mapToGroups The mapToGroups method groups the collection&#39;s items by the given callback. The callback should return an associative array containing a single key / value pair, thus forming a new collection of grouped values: $collection = collect([ [ &#39;name&#39; =&gt; &#39;John Doe&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, ], [ &#39;name&#39; =&gt; &#39;Jane Doe&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, ], [ &#39;name&#39; =&gt; &#39;Johnny Doe&#39;, &#39;department&#39; =&gt; &#39;Marketing&#39;, ] ]); $grouped = $collection-&gt;mapToGroups(function ($item, $key) { return [$item[&#39;department&#39;] =&gt; $item[&#39;name&#39;]]; }); $grouped-&gt;toArray(); /* [ &#39;Sales&#39; =&gt; [&#39;John Doe&#39;, &#39;Jane Doe&#39;], &#39;Marketing&#39; =&gt; [&#39;Johhny Doe&#39;], ] */ $grouped-&gt;get(&#39;Sales&#39;)-&gt;all(); // [&#39;John Doe&#39;, &#39;Jane Doe&#39;] متد mapWithKeys The mapWithKeys method iterates through the collection and passes each value to the given callback. The callback should return an associative array containing a single key / value pair: $collection = collect([ [ &#39;name&#39; =&gt; &#39;John&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, &#39;email&#39; =&gt; &#39;john@example.com&#39; ], [ &#39;name&#39; =&gt; &#39;Jane&#39;, &#39;department&#39; =&gt; &#39;Marketing&#39;, &#39;email&#39; =&gt; &#39;jane@example.com&#39; ] ]); $keyed = $collection-&gt;mapWithKeys(function ($item) { return [$item[&#39;email&#39;] =&gt; $item[&#39;name&#39;]]; }); $keyed-&gt;all(); /* [ &#39;john@example.com&#39; =&gt; &#39;John&#39;, &#39;jane@example.com&#39; =&gt; &#39;Jane&#39;, ] */ متد max مقدار max را براساس کلید بر می گرداند : $max = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20]])-&gt;max(&#39;foo&#39;); // 20 $max = collect([1, 2, 3, 4, 5])-&gt;max(); // 5 متد median این متد مقدار متوسط مجموعه را بر می گرداند : $median = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;median(&#39;foo&#39;); // 15 $median = collect([1, 1, 2, 4])-&gt;median(); // 1.5 متد merge این متد عناصر یک مجموعه را با مجموعه دیگر ادغام می کند : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 100]); $merged = $collection-&gt;merge([&#39;price&#39; =&gt; 200, &#39;discount&#39; =&gt; false]); $merged-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 200, &#39;discount&#39; =&gt; false] مثال : $collection = collect([&#39;Desk&#39;, &#39;Chair&#39;]); $merged = $collection-&gt;merge([&#39;Bookcase&#39;, &#39;Door&#39;]); $merged-&gt;all(); // [&#39;Desk&#39;, &#39;Chair&#39;, &#39;Bookcase&#39;, &#39;Door&#39;] متد min مقدار min را براساس کلید بر می گرداند : $min = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20]])-&gt;min(&#39;foo&#39;); // 10 $min = collect([1, 2, 3, 4, 5])-&gt;min(); // 1 متد mode مقدار mode را براساس کلید بر می گرداند : $mode = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;mode(&#39;foo&#39;); // [10] $mode = collect([1, 1, 2, 4])-&gt;mode(); // [1] متد nth The nth method creates a new collection consisting of every n-th element: $collection = collect([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]); $collection-&gt;nth(4); // [&#39;a&#39;, &#39;e&#39;] You may optionally pass an offset as the second argument: $collection-&gt;nth(4, 1); // [&#39;b&#39;, &#39;f&#39;] متد only آیتم های موجود در مجموعه را با کلیدهای مشخصی باز می گرداند: $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100, &#39;discount&#39; =&gt; false]); $filtered = $collection-&gt;only([&#39;product_id&#39;, &#39;name&#39;]); $filtered-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;] متد pad روش pad آرایه را با مقدار داده شده پر می کند تا آرایه به اندازه مشخصی برسد. این روش مانند تابع array_pad PHP عمل می کند. برای قرار دادن به سمت چپ، شما باید اندازه منفی را مشخص کنید. در صورتی که مقدار مطلق اندازه داده شده کمتر یا برابر طول آرایه باشد، هیچ مکانی وجود نخواهد داشت: $collection = collect([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]); $filtered = $collection-&gt;pad(5, 0); $filtered-&gt;all(); // [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, 0, 0] $filtered = $collection-&gt;pad(-5, 0); $filtered-&gt;all(); // [0, 0, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;] متد partition از این متد جهت جدا کردن آیتم هایی که مورد تایید شرط مورد نظر هستند و آیتم هایی که مورد تایید شرط نیستند استفاده می گردد: $collection = collect([1, 2, 3, 4, 5, 6]); list($underThree, $aboveThree) = $collection-&gt;partition(function ($i) { return $i &lt; 3; }); متد pipe این متد نوع داده collection را به callback ارسال می کند و نتیجه آنرا بر می گرداند : $collection = collect([1, 2, 3]); $piped = $collection-&gt;pipe(function ($collection) { return $collection-&gt;sum(); }); // 6 متد pluck این متد تمام مقادیر به ازای کلید معین شده بر می گرداند : $collection = collect([ [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $plucked = $collection-&gt;pluck(&#39;name&#39;); $plucked-&gt;all(); // [&#39;Desk&#39;, &#39;Chair&#39;] همچنین می توانید کلید خروجی را برای نتایج تعیین کنید : $plucked = $collection-&gt;pluck(&#39;name&#39;, &#39;product_id&#39;); $plucked-&gt;all(); // [&#39;prod-100&#39; =&gt; &#39;Desk&#39;, &#39;prod-200&#39; =&gt; &#39;Chair&#39;] متد pop این متد آخرین عنصر مجموعه را بر می گرداند: $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;pop(); // 5 $collection-&gt;all(); // [1, 2, 3, 4] متد prepend این متد یک آیتم را به ابتدای مجموعه اضافه می کند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;prepend(0); $collection-&gt;all(); // [0, 1, 2, 3, 4, 5] همچنین از آرگومان دوم به عنوان کلید استفاده نمایید : $collection = collect([&#39;one&#39; =&gt; 1, &#39;two&#39; =&gt; 2]); $collection-&gt;prepend(0, &#39;zero&#39;); $collection-&gt;all(); // [&#39;zero&#39; =&gt; 0, &#39;one&#39; =&gt; 1, &#39;two&#39; =&gt; 2] متد pull این متد یک آیتم را با کلید تعیین شده بر می گرداند : $collection = collect([&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;pull(&#39;name&#39;); // &#39;Desk&#39; $collection-&gt;all(); // [&#39;product_id&#39; =&gt; &#39;prod-100&#39;] متد push این متد آیتم را به انتهای مجموعه اضافه می کند : $collection = collect([1, 2, 3, 4]); $collection-&gt;push(5); $collection-&gt;all(); // [1, 2, 3, 4, 5] متد put این متد یک عنصر را با کلید و مقدار مشخص در مجموعه قرار می دهد : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;put(&#39;price&#39;, 100); $collection-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100] متد random یک آیتم را بصورت تصادفی از مجموعه بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;random(); // 4 - (retrieved randomly) همچنین می توانید تعداد آیتم هایی که بصورت تصادفی برگشت دا می شوند را تعیین کنید : $random = $collection-&gt;random(3); $random-&gt;all(); // [2, 4, 5] - (retrieved randomly) متد reduce این متد مجموعه را به یک مقدار کاهش می دهد ، و نتیجه هر تکرار را به تکرار بعدی انتقال می دهد : $collection = collect([1, 2, 3]); $total = $collection-&gt;reduce(function ($carry, $item) { return $carry + $item; }); // 6 مقدار carry$ در تکرار اول null است؛ با این وجود، شما می توانید مقدار اولیه آن را تعیین نمایید: $collection-&gt;reduce(function ($carry, $item) { return $carry + $item; }, 4); // 10 متد reject این متد آیتم که مصداق شرط تعیین شده نباشند را بر می گرداند و برعکس متد filter عمل می کند : $collection = collect([1, 2, 3, 4]); $filtered = $collection-&gt;reject(function ($value, $key) { return $value &gt; 2; }); $filtered-&gt;all(); // [1, 2] متد reverse این متد ترتیب عناصر مجموعه را با حفظ کلید آن معکوس می کند : $collection = collect([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]); $reversed = $collection-&gt;reverse(); $reversed-&gt;all(); /* [ 4 =&gt; &#39;e&#39;, 3 =&gt; &#39;d&#39;, 2 =&gt; &#39;c&#39;, 1 =&gt; &#39;b&#39;, 0 =&gt; &#39;a&#39;, ] */ متد search مجموعه ای را برای مقدار داده شده جستجو می کند و کلید آن را در صورت وجود بر می گرداند. اگر مورد یافت نشد، مقدار false را بر می گرداند : $collection = collect([2, 4, 6, 8]); $collection-&gt;search(4); // 1 در حالت پیش فرض از روش &quot;loose&quot; جهت مقایسه و جستجو استفاده می شود برای جستجو با استفاده از روش &quot;strict مقدار true را به عنوان آرگومان دوم ارسال می کنیم : $collection-&gt;search(&#39;4&#39;, true); // false همچنین می توانید از callback در این متد استفاده نمایید : $collection-&gt;search(function ($item, $key) { return $item &gt; 5; }); // 2 متد shift عملیات shift به راست را در مجموعه انجام می دهد و اولین عنصر را بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;shift(); // 1 $collection-&gt;all(); // [2, 3, 4, 5] متد shuffle عناصر موجود در مجموعه را بصورت تصادفی جا به جا می کند : $collection = collect([1, 2, 3, 4, 5]); $shuffled = $collection-&gt;shuffle(); $shuffled-&gt;all(); // [3, 2, 5, 1, 4] - (generated randomly) متد slice تکه ای از مجموعه را با شروع از index معین شده بر می گرداند : $collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]); $slice = $collection-&gt;slice(4); $slice-&gt;all(); // [5, 6, 7, 8, 9, 10] چنانچه بخواهیم تعداد نیز مشخص شود آن را به عنوان آرگومان دوم در متد مشخص می نماییم : $slice = $collection-&gt;slice(4, 2); $slice-&gt;all(); // [5, 6] تکه بازگشتی به طور پیش فرض کلید را حفظ می کند. اگر نمی خواهید کلیدهای اصلی را حفظ کنید، میتوانید از متد values برای reindex استفاده کنید : متد sort از این متد جهت مرتب سازی مجموعه استفاده می شود. مجموعه مرتب شده، کلیدهای آرایه را حفظ می کند، بنابراین در این مثال از متد values برای reindex کلیدها استفاده کردیم : $collection = collect([5, 3, 1, 2, 4]); $sorted = $collection-&gt;sort(); $sorted-&gt;values()-&gt;all(); // [1, 2, 3, 4, 5] متد sortBy از این متد جهت مرتب سازی بر اساس کلید معین شده استفاده می گردد : $collection = collect([ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], ]); $sorted = $collection-&gt;sortBy(&#39;price&#39;); $sorted-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ همچنین می توان از روش callback در این متد استفاده نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ]); $sorted = $collection-&gt;sortBy(function ($product, $key) { return count($product[&#39;colors&#39;]); }); $sorted-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ] */ متد sortByDesc همانند متد sort می باشد با این تفاوت که بصورت نزولی مرتب می کند : متد splice این متد تکه ای از مجموعه را با شروع از index مشخص حذف و آن را بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2); $chunk-&gt;all(); // [3, 4, 5] $collection-&gt;all(); // [1, 2] همچنین می توانید تعداد آیتم ها را در آرگومان دوم مشخص نمایید : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2, 1); $chunk-&gt;all(); // [3] $collection-&gt;all(); // [1, 2, 4, 5] در ادامه می توان در آرگومان سوم آیتم هایی را به عنوان جایگزین مشخص نمود : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2, 1, [10, 11]); $chunk-&gt;all(); // [3] $collection-&gt;all(); // [1, 2, 10, 11, 4, 5] متد split از این متد جهت گروه بندی کردن مجموعه به تعداد مشخص استفاده می شود : $collection = collect([1, 2, 3, 4, 5]); $groups = $collection-&gt;split(3); $groups-&gt;toArray(); // [[1, 2], [3, 4], [5]] متد sum این متد مقادیر آیتم ها را جمع و باز می گرداند : collect([1, 2, 3, 4, 5])-&gt;sum(); // 15 همچنین می توانید کلید معینی جهت جمع کردن مقادیر آیتم ها مشخص نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;JavaScript: The Good Parts&#39;, &#39;pages&#39; =&gt; 176], [&#39;name&#39; =&gt; &#39;JavaScript: The Definitive Guide&#39;, &#39;pages&#39; =&gt; 1096], ]); $collection-&gt;sum(&#39;pages&#39;); // 1272 همچنین می توانید از روش callback در این متد استفاده نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ]); $collection-&gt;sum(function ($product) { return count($product[&#39;colors&#39;]); }); // 6 متد take یک مجموعه جدید با تعداد مشخص آیتم را برمی گرداند : $collection = collect([0, 1, 2, 3, 4, 5]); $chunk = $collection-&gt;take(3); $chunk-&gt;all(); // [0, 1, 2] همچنین می توانید از یک عدد منفی به عنوان آرگومان استفاده نمایید که در اینصورت از انتهای مجموعه آیتم ها برگردانده می شوند : $collection = collect([0, 1, 2, 3, 4, 5]); $chunk = $collection-&gt;take(-2); $chunk-&gt;all(); // [4, 5] متد tap The tap method passes the collection to the given callback, allowing you to &quot;tap&quot; into the collection at a specific point and do something with the items while not affecting the collection itself: collect([2, 4, 3, 1, 5]) -&gt;sort() -&gt;tap(function ($collection) { Log::debug(&#39;Values after sorting&#39;, $collection-&gt;values()-&gt;toArray()); }) -&gt;shift(); // 1 متد times این متد تعداد دفعات اجرای متد callback تعیین شده را تعیین می کند و مقدار آن را در هر بار اجرا بر می گرداند : $collection = Collection::times(10, function ($number) { return $number * 9; }); $collection-&gt;all(); // [9, 18, 27, 36, 45, 54, 63, 72, 81, 90] این متد می تواند در Eloquent models مانند زیر مفید باشد : $categories = Collection::times(3, function ($number) { return factory(Category::class)-&gt;create([&#39;name&#39; =&gt; &#39;Category #&#39;.$number]); }); $categories-&gt;all(); /* [ [&#39;id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Category #1&#39;], [&#39;id&#39; =&gt; 2, &#39;name&#39; =&gt; &#39;Category #2&#39;], [&#39;id&#39; =&gt; 3, &#39;name&#39; =&gt; &#39;Category #3&#39;], ] */ متد toArray عناصر موجود در مجموعه را بصورت آرایه بر می گرداند: $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200]); $collection-&gt;toArray(); /* [ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد toJson عناصر موجود در مجموعه را بصورت JSON بر می گرداند : $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200]); $collection-&gt;toJson(); // &#39;{&quot;name&quot;:&quot;Desk&quot;, &quot;price&quot;:200}&#39; متد transform این متد مقادیر تغییر یافته بعد از عملیات صورت گرفته بر روی عناصر مجموعه در callback را جایگزین عناصر اصلی مجموعه می کند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;transform(function ($item, $key) { return $item * 2; }); $collection-&gt;all(); // [2, 4, 6, 8, 10] اگر بخواهیم بر روی مجموعه اصلی تغییری حاصل نشود از متد map استفاده نمایید. متد union این متد آرایه داده شده را به مجموعه اضافه می کند. اگر آرایه داده شده شامل کلید هایی است که قبلا در مجموعه اصلی هستند، مقادیر اصلی مجموعه ترجیح داده می شود: $collection = collect([1 =&gt; [&#39;a&#39;], 2 =&gt; [&#39;b&#39;]]); $union = $collection-&gt;union([3 =&gt; [&#39;c&#39;], 1 =&gt; [&#39;b&#39;]]); $union-&gt;all(); // [1 =&gt; [&#39;a&#39;], 2 =&gt; [&#39;b&#39;], 3 =&gt; [&#39;c&#39;]] متد unique این متد تمام اقلام منحصر به فرد در مجموعه را باز می گرداند. مجموعه بازگشتی، کلیدهای آرایه را نگه می دارد، بنابراین در این مثال از متد values برای بازنشانی کلید استفاده می کنیم: $collection = collect([1, 1, 2, 2, 3, 4, 2]); $unique = $collection-&gt;unique(); $unique-&gt;values()-&gt;all(); // [1, 2, 3, 4] هنگام استفاده با آرایه های تودرتو و یا اشیاء ، می توانید کلید مورد استفاده برای تعیین منحصر به فرد بودن را تعیین کنید: $collection = collect([ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;iPhone 5&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Apple Watch&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy Gear&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], ]); $unique = $collection-&gt;unique(&#39;brand&#39;); $unique-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], ] */ همچنین می توانید از callback در این متد استفاده نمایید : $unique = $collection-&gt;unique(function ($item) { return $item[&#39;brand&#39;].$item[&#39;type&#39;]; }); $unique-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Apple Watch&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy Gear&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], ] */ متد uniqueStrict همانند متد unique عمل می کند با این تفاوت که از روش &quot;strict&quot; در مقایسه های خود استفاده می کند. متد unless این متد callback مشخص شده را اجرا می کند مگر اینگه آرگومان اول true باشد. $collection = collect([1, 2, 3]); $collection-&gt;unless(true, function ($collection) { return $collection-&gt;push(4); }); $collection-&gt;unless(false, function ($collection) { return $collection-&gt;push(5); }); $collection-&gt;all(); // [1, 2, 3, 5] این متد عکس متد when عمل می کند. متد unwrap The static unwrap method returns the collection&#39;s underlying items from the given value when applicable: Collection::unwrap(collect(&#39;John Doe&#39;)); // [&#39;John Doe&#39;] Collection::unwrap([&#39;John Doe&#39;]); // [&#39;John Doe&#39;] Collection::unwrap(&#39;John Doe&#39;); // &#39;John Doe&#39; متد values این متد کلیدها را بصورت اعداد صحیح متوالی باز نشانی می کند : $collection = collect([ 10 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], 11 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200] ]); $values = $collection-&gt;values(); $values-&gt;all(); /* [ 0 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], 1 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد when این متد callback مورد نظر را زمانیکه آرگومان اول برابر true باشد را اجرا می کند : $collection = collect([1, 2, 3]); $collection-&gt;when(true, function ($collection) { return $collection-&gt;push(4); }); $collection-&gt;when(false, function ($collection) { return $collection-&gt;push(5); }); $collection-&gt;all(); // [1, 2, 3, 4] این متد عکس متد unless عمل می کند. متد where این متد عملیات filter را براساس key /value اعمال می کند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;where(&#39;price&#39;, 100); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ] */ متد whereStrict این متد همانند متد where بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد whereIn این متد همانند متد where بوده با این تفاوت که مقادیر را می تواند بصورت آرایه دریافت کند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;whereIn(&#39;price&#39;, [150, 200]); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد whereInStrict این متد همانند متد where بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد whereNotIn این متد عکس متد where عمل می کند و مقادیری که در آرایه تعیین شده نباشند را بر می گرداند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;whereNotIn(&#39;price&#39;, [150, 200]); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ] */ متد whereNotInStrict این متد همانند متد whereNotIn بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد wrap The static wrap method wraps the given value in a collection when applicable: $collection = Collection::wrap(&#39;John Doe&#39;); $collection-&gt;all(); // [&#39;John Doe&#39;] $collection = Collection::wrap([&#39;John Doe&#39;]); $collection-&gt;all(); // [&#39;John Doe&#39;] $collection = Collection::wrap(collect(&#39;John Doe&#39;)); $collection-&gt;all(); // [&#39;John Doe&#39;] متد zip متد zip() مقادیر آرایه ی ورودی را با مقادیر موجود در مجموعه در اندیس منطبق (که دارای شماره ی مکان قرارگیری یکسان است) ترکیب می کند: $collection = collect([&#39;Chair&#39;, &#39;Desk&#39;]); $zipped = $collection-&gt;zip([100, 200]); $zipped-&gt;all(); // [[&#39;Chair&#39;, 100], [&#39;Desk&#39;, 200]]" />
<link rel="canonical" href="http://localhost:4000/documentation/laravel/Digging-Deeper/collections" />
<meta property="og:url" content="http://localhost:4000/documentation/laravel/Digging-Deeper/collections" />
<meta property="og:site_name" content="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2017-12-18T11:23:42+03:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="معرفی collections" />
<meta name="twitter:site" content="@farhadmirzapour" />
<meta name="twitter:creator" content="@Farhad Mirzapour" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"معرفی collections","url":"http://localhost:4000/documentation/laravel/Digging-Deeper/collections","datePublished":"2017-12-18T11:23:42+03:30","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/logo/blankspace-avatar.png"},"name":"Farhad Mirzapour"},"dateModified":"2017-12-18T11:23:42+03:30","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/documentation/laravel/Digging-Deeper/collections"},"author":{"@type":"Person","name":"Farhad Mirzapour"},"description":"کلاس Illuminate\\Support\\Collection یک بسته مناسب و راحت برای کار با آرایه های داده فراهم می کند. به عنوان مثال، کد زیر را بررسی کنید. از collect helper برای ایجاد نمونه جدید از آرایه استفاده می کنیم، عملگر strtoupper را بر روی هر عنصر اجرا می کنیم و سپس تمام عناصر خالی را حذف می کنیم: $collection = collect([&#39;taylor&#39;, &#39;abigail&#39;, null])-&gt;map(function ($name) { return strtoupper($name); }) -&gt;reject(function ($name) { return empty($name); }); همانطور که می بینید، کلاس Collection به شما اجازه می دهد تا روش های زنجیره ای خود را برای انجام نقشه های روان به کار ببرید. به طور كلي مجموعه ها تغيير نمي كنند، به اين معني كه هر متد Collection نمونه كاملا جديدي از کلاس Collection را باز مي گرداند. متد Creating Collections همانطور که در بالا ذکر شد، collect helper نمونه جدید Illuminate\\Support\\Collection را برای آرایه دریافت شده بر می گرداند. بنابراین ایجاد یک collection ساده است: $collection = collect([1, 2, 3]); نکته :نتایج کوئری های Eloquent همیشه نمونه ای از کلاس Collection را بر می گرداند توسعه Collections Collection ها &quot;macroable&quot; هستند، به این معنی که می توان متد هایی را به کلاس Collection در زمان اجرا می توان اضافه نمود. برای مثال در کد زیر متدی به نام toUpper را به این مجموعه اضافه نمودیم : use Illuminate\\Support\\Str; Collection::macro(&#39;toUpper&#39;, function () { return $this-&gt;map(function ($value) { return Str::upper($value); }); }); $collection = collect([&#39;first&#39;, &#39;second&#39;]); $upper = $collection-&gt;toUpper(); // [&#39;FIRST&#39;, &#39;SECOND&#39;] به طور معمول جهت معرفی نمودن متد ایجاد شده از service provider استفاده شده تا در تمامی قسمت های برنامه قابل دسترس باشد. متد های موجود در کلاس Collection متدهای از پیش تعریف شده این کلاس عبارتند از : all average avg chunk collapse combine concat contains containsStrict count crossJoin dd diff diffAssoc diffKeys dump each eachSpread every except filter first firstWhere flatMap flatten flip forget forPage get groupBy has implode intersect intersectByKeys isEmpty isNotEmpty keyBy keys last macro make map mapInto mapSpread mapToGroups mapWithKeys max median merge min mode nth only pad partition pipe pluck pop prepend pull push put random reduce reject reverse search shift shuffle slice sort sortBy sortByDesc splice split sum take tap times toArray toJson transform union unique uniqueStrict unless unwrap values when where whereStrict whereIn whereInStrict whereNotIn whereNotInStrict wrap zip متد all این متد تمامی زیر آرایه های تعریف شده موجود در این مجموعه را بر می گرداند : collect([1, 2, 3])-&gt;all(); // [1, 2, 3] متد avg این متد معدل مقادیر را بر اساس کلید دریافتی بر می گرداند : $average = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;avg(&#39;foo&#39;); // 20 $average = collect([1, 1, 2, 4])-&gt;avg(); // 2 متد chunk با استفاده از این متد می توان مجموعه را به چند زیر مجموعه کوچکتر با سایز مشخص شده تقسیم کرد : $collection = collect([1, 2, 3, 4, 5, 6, 7]); $chunks = $collection-&gt;chunk(4); $chunks-&gt;toArray(); // [[1, 2, 3, 4], [5, 6, 7]] از این روش می توان در view ها زمان نمایش اطلاعات مانند زیر استفاده کرد : @foreach ($products-&gt;chunk(3) as $chunk) @foreach ($chunk as $product) {{ $product-&gt;name }} @endforeach @endforeach متد collapse این متد ، زیر آرایه های موجود را بصورت یک آرایه تبدیل می کند : $collection = collect([[1, 2, 3], [4, 5, 6], [7, 8, 9]]); $collapsed = $collection-&gt;collapse(); $collapsed-&gt;all(); // [1, 2, 3, 4, 5, 6, 7, 8, 9] متد combine این متد کلید آرایه یک مجموعه با مقدار آرایه مجموعه ای دیگر را ترکیب می کند : $collection = collect([&#39;name&#39;, &#39;age&#39;]); $combined = $collection-&gt;combine([&#39;George&#39;, 29]); $combined-&gt;all(); // [&#39;name&#39; =&gt; &#39;George&#39;, &#39;age&#39; =&gt; 29] متد concat این متد آرایه دریافتی را به انتهای آرایه مجموعه اضافه می کند : $collection = collect([&#39;John Doe&#39;]); $concatenated = $collection-&gt;concat([&#39;Jane Doe&#39;])-&gt;concat([&#39;name&#39; =&gt; &#39;Johnny Doe&#39;]); $concatenated-&gt;all(); // [&#39;John Doe&#39;, &#39;Jane Doe&#39;, &#39;Johnny Doe&#39;] متد contains این متد وجود یک آیتم مشخص را در مجموعه بررسی می کند : $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100]); $collection-&gt;contains(&#39;Desk&#39;); // true $collection-&gt;contains(&#39;New York&#39;); // false شما همچنین می توانید یک key / value را همانند زیر ارسال نمایید : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], ]); $collection-&gt;contains(&#39;product&#39;, &#39;Bookcase&#39;); // false همچنین می توانید یک متد callback را جهت بررسی داده های خود اجرا کنید : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;contains(function ($value, $key) { return $value &gt; 5; }); // false متد containsStrict این متد همانند contains می باشد و از &quot;strict&quot; comparisons جهت بررسی داده ها استفاده می کند. متد count تعداد آیتم های یک مجموعه را شمارش می کند : $collection = collect([1, 2, 3, 4]); $collection-&gt;count(); // 4 متد crossJoin این متد یک ماتریس را ایجاد می کند : $collection = collect([1, 2]); $matrix = $collection-&gt;crossJoin([&#39;a&#39;, &#39;b&#39;]); $matrix-&gt;all(); /* [ [1, &#39;a&#39;], [1, &#39;b&#39;], [2, &#39;a&#39;], [2, &#39;b&#39;], ] */ $collection = collect([1, 2]); $matrix = $collection-&gt;crossJoin([&#39;a&#39;, &#39;b&#39;], [&#39;I&#39;, &#39;II&#39;]); $matrix-&gt;all(); /* [ [1, &#39;a&#39;, &#39;I&#39;], [1, &#39;a&#39;, &#39;II&#39;], [1, &#39;b&#39;, &#39;I&#39;], [1, &#39;b&#39;, &#39;II&#39;], [2, &#39;a&#39;, &#39;I&#39;], [2, &#39;a&#39;, &#39;II&#39;], [2, &#39;b&#39;, &#39;I&#39;], [2, &#39;b&#39;, &#39;II&#39;], ] */ متد dd این متد محتوای مجموعه را نمایش و روند اجرای برنامه را قطع میکند : $collection = collect([&#39;John Doe&#39;, &#39;Jane Doe&#39;]); $collection-&gt;dd(); /* Collection { #items: array:2 [ 0 =&gt; &quot;John Doe&quot; 1 =&gt; &quot;Jane Doe&quot; ] } */ چنانچه بخواهیم روند اجرای برنامه متوقف نشود از متد dump می توان استفاده کرد. متد diff این متد مقدار آیتم های یک مجموعه را با مجموعه دیگر مقایسه و در صورت عدم وجود، برگشت داده خواهند شد : $collection = collect([1, 2, 3, 4, 5]); $diff = $collection-&gt;diff([2, 4, 6, 8]); $diff-&gt;all(); // [1, 3, 5] متد diffAssoc این متد همانند متد diff می باشد با این تفاوت که براساس key / value عمل می کند : $collection = collect([ &#39;color&#39; =&gt; &#39;orange&#39;, &#39;type&#39; =&gt; &#39;fruit&#39;, &#39;remain&#39; =&gt; 6 ]); $diff = $collection-&gt;diffAssoc([ &#39;color&#39; =&gt; &#39;yellow&#39;, &#39;type&#39; =&gt; &#39;fruit&#39;, &#39;remain&#39; =&gt; 3, &#39;used&#39; =&gt; 6 ]); $diff-&gt;all(); // [&#39;color&#39; =&gt; &#39;orange&#39;, &#39;remain&#39; =&gt; 6] متد diffKeys این متد همانند متد diff بوده با این تفاوت که براساس کلید عمل می کند : $collection = collect([ &#39;one&#39; =&gt; 10, &#39;two&#39; =&gt; 20, &#39;three&#39; =&gt; 30, &#39;four&#39; =&gt; 40, &#39;five&#39; =&gt; 50, ]); $diff = $collection-&gt;diffKeys([ &#39;two&#39; =&gt; 2, &#39;four&#39; =&gt; 4, &#39;six&#39; =&gt; 6, &#39;eight&#39; =&gt; 8, ]); $diff-&gt;all(); // [&#39;one&#39; =&gt; 10, &#39;three&#39; =&gt; 30, &#39;five&#39; =&gt; 50] متد dump این متد محتویات مجموعه را بدون متوقف کردن اجرای برنامه متوقف می کند: $collection = collect([&#39;John Doe&#39;, &#39;Jane Doe&#39;]); $collection-&gt;dump(); /* Collection { #items: array:2 [ 0 =&gt; &quot;John Doe&quot; 1 =&gt; &quot;Jane Doe&quot; ] } */ متد each این متد هر بار یک آیتم از مجموعه دریافت و به متد callback جهت اجرای عملیات بر روی آن ارسال می کند : $collection = $collection-&gt;each(function ($item, $key) { // }); با برگشت مقدار false می توان روند اجرای each را متوقف کرد : $collection = $collection-&gt;each(function ($item, $key) { if (/* some condition */) { return false; } }); متد eachSpread همانند متد each بوده و آیتم های تودرتو را به callback ارسال می کند: $collection = collect([[&#39;John Doe&#39;, 35], [&#39;Jane Doe&#39;, 33]]); $collection-&gt;eachSpread(function ($name, $age) { // }); متد every از این متد جهت تایید آزمون مشخص روی تمامی عناصر استفاده می شود : collect([1, 2, 3, 4])-&gt;every(function ($value, $key) { return $value &gt; 2; }); // false متد except این متد تمامی عناصر به غیر از آیتم های مشخص شده را بر می گرداند : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 100, &#39;discount&#39; =&gt; false]); $filtered = $collection-&gt;except([&#39;price&#39;, &#39;discount&#39;]); $filtered-&gt;all(); // [&#39;product_id&#39; =&gt; 1] متد filter از این متد جهت فیلتر کردن عناصر با یک شرط معین استفاده می شود : $collection = collect([1, 2, 3, 4]); $filtered = $collection-&gt;filter(function ($value, $key) { return $value &gt; 2; }); $filtered-&gt;all(); // [3, 4] اگر شرطی تعیین نشود تمامی عناصر معادل false حذف خواهند شد : $collection = collect([1, 2, 3, null, false, &#39;&#39;, 0, []]); $collection-&gt;filter()-&gt;all(); // [1, 2, 3] متد first اولین آیتم که با گذر از شرط تعیین شده تایید شود برگشت داده خواهد شد : collect([1, 2, 3, 4])-&gt;first(function ($value, $key) { return $value &gt; 2; }); // 3 چنانچه شرطی تعیین نگردد اولین آیتم برگشت داده خواهد شد : collect([1, 2, 3, 4])-&gt;first(); // 1 متد firstWhere متد firstWhere اولین عنصر مجموعه که با کلید / ارزش معادل باشد باز می گرداند: $collection = collect([ [&#39;name&#39; =&gt; &#39;Regena&#39;, &#39;age&#39; =&gt; 12], [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 14], [&#39;name&#39; =&gt; &#39;Diego&#39;, &#39;age&#39; =&gt; 23], [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 84], ]); $collection-&gt;firstWhere(&#39;name&#39;, &#39;Linda&#39;); // [&#39;name&#39; =&gt; &#39;Linda&#39;, &#39;age&#39; =&gt; 14] همچنین می توانید این متد را با یک اپراتور فراخوانی کنید : $collection-&gt;firstWhere(&#39;age&#39;, &#39;&gt;=&#39;, 18); // [&#39;name&#39; =&gt; &#39;Diego&#39;, &#39;age&#39; =&gt; 23] متد flatMap متد flatmap داخل یک collection حلقه زده و سپس تک تک المان های آن را به تابع callback ارسال می کند. تابع بازفراخوان (callback) می تواند آیتم های ارسالی را ویرایش کرده و برگرداند. بدین وسیله مجموعه ای جدید از آیتم های ویرایش شده به عنوان خروجی برگردانده می شود. در نهایت آرایه ها flatten شده و در قالب یک آرایه ی واحد و تک بعدی در خروجی به نمایش در می آید: $collection = collect([ [&#39;name&#39; =&gt; &#39;Sally&#39;], [&#39;school&#39; =&gt; &#39;Arkansas&#39;], [&#39;age&#39; =&gt; 28] ]); $flattened = $collection-&gt;flatMap(function ($values) { return array_map(&#39;strtoupper&#39;, $values); }); $flattened-&gt;all(); // [&#39;name&#39; =&gt; &#39;SALLY&#39;, &#39;school&#39; =&gt; &#39;ARKANSAS&#39;, &#39;age&#39; =&gt; &#39;28&#39;]; متد flatten این متد یک مجموعه ی چند بعدی را به یک collection تک بعدی تبدیل می کند: $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;languages&#39; =&gt; [&#39;php&#39;, &#39;javascript&#39;]]); $flattened = $collection-&gt;flatten(); $flattened-&gt;all(); // [&#39;taylor&#39;, &#39;php&#39;, &#39;javascript&#39;]; می توانید میزان &quot;depth&quot; را به عنوان آرگومان ارسال کنیم : $collection = collect([ &#39;Apple&#39; =&gt; [ [&#39;name&#39; =&gt; &#39;iPhone 6S&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;], ], &#39;Samsung&#39; =&gt; [ [&#39;name&#39; =&gt; &#39;Galaxy S7&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;] ], ]); $products = $collection-&gt;flatten(1); $products-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6S&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S7&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;], ] */ متد flip این متد کلید و مقدار را جا به جا می کند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $flipped = $collection-&gt;flip(); $flipped-&gt;all(); // [&#39;taylor&#39; =&gt; &#39;name&#39;, &#39;laravel&#39; =&gt; &#39;framework&#39;] متد forget این متد آیتم را با استفاده از کلید مشخص شده حذف می کند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $collection-&gt;forget(&#39;name&#39;); $collection-&gt;all(); // [&#39;framework&#39; =&gt; &#39;laravel&#39;] متد forPage روش forPage یک مجموعه جدید را که حاوی آیتم هایی است که در یک شماره صفحه مشخص وجود دارد، بازمی گرداند. این روش شماره صفحه را به عنوان اولین آرگومان و تعداد آیتم هایی که در هر صفحه نشان می دهد را به عنوان آرگومان دوم می پذیرد : $collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9]); $chunk = $collection-&gt;forPage(2, 3); $chunk-&gt;all(); // [4, 5, 6] متد get این متد یک آیتم را با استفاده از کلید آن باز می گرداند : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $value = $collection-&gt;get(&#39;name&#39;); // taylor چنانچه کلیدی یافت نشود مقدار پیش فرض null برگشت داده خواهد شد . می توان مقدار پیش فرض را مانند زیر تعیین کرد : $collection = collect([&#39;name&#39; =&gt; &#39;taylor&#39;, &#39;framework&#39; =&gt; &#39;laravel&#39;]); $value = $collection-&gt;get(&#39;foo&#39;, &#39;default-value&#39;); // default-value همچنین می توانید مقدار پیش فرض را با استفاده از روش callback همانند زیر تعیین کنید : $collection-&gt;get(&#39;email&#39;, function () { return &#39;default-value&#39;; }); // default-value متد groupBy این متد آیتم های مجموعه را با استفاده از کلید گروه بندی می کند : $collection = collect([ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ]); $grouped = $collection-&gt;groupBy(&#39;account_id&#39;); $grouped-&gt;toArray(); /* [ &#39;account-x10&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], ], &#39;account-x11&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ], ] */ همچنین می توانید از روش callback در این متد همانند زیر استفاده نمایید : $grouped = $collection-&gt;groupBy(function ($item, $key) { return substr($item[&#39;account_id&#39;], -3); }); $grouped-&gt;toArray(); /* [ &#39;x10&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Chair&#39;], [&#39;account_id&#39; =&gt; &#39;account-x10&#39;, &#39;product&#39; =&gt; &#39;Bookcase&#39;], ], &#39;x11&#39; =&gt; [ [&#39;account_id&#39; =&gt; &#39;account-x11&#39;, &#39;product&#39; =&gt; &#39;Desk&#39;], ], ] */ متد has این متد بررسی می کند که آیا کلید مورد نظر وجود دارد یا خیر : $collection = collect([&#39;account_id&#39; =&gt; 1, &#39;product&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;has(&#39;product&#39;); // true متد implode متد implode عناصر موجود را به هم اتصال می دهد. اگر مجموعه شامل آرایه ها یا اشیاء باشد، باید کلید عناصر و رشته &quot;اتصال&quot; که می خواهید بین مقادیر قرار دهید را تعیین نمایید: $collection = collect([ [&#39;account_id&#39; =&gt; 1, &#39;product&#39; =&gt; &#39;Desk&#39;], [&#39;account_id&#39; =&gt; 2, &#39;product&#39; =&gt; &#39;Chair&#39;], ]); $collection-&gt;implode(&#39;product&#39;, &#39;, &#39;); // Desk, Chair آگر مجموعه شامل یک آرایه ساده باشد فقط کافی است رشته &quot;اتصال&quot; را مشخص نمایید : collect([1, 2, 3, 4, 5])-&gt;implode(&#39;-&#39;); // &#39;1-2-3-4-5&#39; متد intersect این متد هر آیتمی را از مجموعه اصلی که در آرایه یا مجموعه داده شده موجود نباشد حذف می کند. مجموعه نتیجه، کلیدهای اصلی مجموعه را حفظ خواهد کرد: $collection = collect([&#39;Desk&#39;, &#39;Sofa&#39;, &#39;Chair&#39;]); $intersect = $collection-&gt;intersect([&#39;Desk&#39;, &#39;Chair&#39;, &#39;Bookcase&#39;]); $intersect-&gt;all(); // [0 =&gt; &#39;Desk&#39;, 2 =&gt; &#39;Chair&#39;] متد intersectByKeys متد intersectByKeys هر کلید از مجموعه اصلی که در آرایه یا مجموعه داده شده موجود نباشد را حذف می کند: $collection = collect([ &#39;serial&#39; =&gt; &#39;UX301&#39;, &#39;type&#39; =&gt; &#39;screen&#39;, &#39;year&#39; =&gt; 2009 ]); $intersect = $collection-&gt;intersectByKeys([ &#39;reference&#39; =&gt; &#39;UX404&#39;, &#39;type&#39; =&gt; &#39;tab&#39;, &#39;year&#39; =&gt; 2011 ]); $intersect-&gt;all(); // [&#39;type&#39; =&gt; &#39;screen&#39;, &#39;year&#39; =&gt; 2009] متد isEmpty این متد چنانچه مجموعه خالی باشد مقدار true در غیر اینصورت مقدار false بر می گرداند: collect([])-&gt;isEmpty(); // true متد isNotEmpty چنانچه مجموعه خالی نباشد مقدار true در غیر اینصورت مقدار false بر می گرداند : collect([])-&gt;isNotEmpty(); // false متد keyBy متد keyBy مجموعه را با کلید داده شده کلید می کند. اگر چندین عنصر همان کلید را داشته باشند، تنها آخرین در مجموعه جدید ظاهر می شود: $collection = collect([ [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $keyed = $collection-&gt;keyBy(&#39;product_id&#39;); $keyed-&gt;all(); /* [ &#39;prod-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;prod-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ] */ همچنین می توانید از روش callback در این متد استفاده نمایید : $keyed = $collection-&gt;keyBy(function ($item) { return strtoupper($item[&#39;product_id&#39;]); }); $keyed-&gt;all(); /* [ &#39;PROD-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;PROD-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ] */ متد keys این متد کلیه کلیدها را بر می گرداند: $collection = collect([ &#39;prod-100&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], &#39;prod-200&#39; =&gt; [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $keys = $collection-&gt;keys(); $keys-&gt;all(); // [&#39;prod-100&#39;, &#39;prod-200&#39;] متد last آخرین آیتم که مصداق یک شرط مشخص باشد را برمی گرداند : collect([1, 2, 3, 4])-&gt;last(function ($value, $key) { return $value &lt; 3; }); // 2 اگر شرطی تعیین نشود آخرین عنصر برگشت داده خواهد شد. collect([1, 2, 3, 4])-&gt;last(); // 4 متد macro با استفتده از این متد می توان متدهای مورد نظر خود را به این کلاس اضافه نماییم. متد make این متد نمونه ای از کلاس collection را ایجاد می کند. متد map متد map داخل مجموعه حلقه زده و سپس هر مقدار را به تابع callback پاس می دهد. callback می تواند آیتم را ویرایش نموده و آن را در خروجی برگرداند. بدین وسیله یک نمونه ی جدید از مجموعه، متشکل از آیتم های ویرایش شده ی collection اصلی در خروجی ارائه می شود: $collection = collect([1, 2, 3, 4, 5]); $multiplied = $collection-&gt;map(function ($item, $key) { return $item * 2; }); $multiplied-&gt;all(); // [2, 4, 6, 8, 10] متد mapInto روش mapInto بر روی مجموعه حلقه می زند، و یک نمونه جدید از کلاس داده شده با گذراندن مقدار به سازنده ایجاد می کند: class Currency { /** * Create a new currency instance. * * @param string $code * @return void */ function __construct(string $code) { $this-&gt;code = $code; } } $collection = collect([&#39;USD&#39;, &#39;EUR&#39;, &#39;GBP&#39;]); $currencies = $collection-&gt;mapInto(Currency::class); $currencies-&gt;all(); // [Currency(&#39;USD&#39;), Currency(&#39;EUR&#39;), Currency(&#39;GBP&#39;)] متد mapSpread The mapSpread method iterates over the collection&#39;s items, passing each nested item value into the given callback. The callback is free to modify the item and return it, thus forming a new collection of modified items: $collection = collect([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]); $chunks = $collection-&gt;chunk(2); $sequence = $chunks-&gt;mapSpread(function ($odd, $even) { return $odd + $even; }); $sequence-&gt;all(); // [1, 5, 9, 13, 17] متد mapToGroups The mapToGroups method groups the collection&#39;s items by the given callback. The callback should return an associative array containing a single key / value pair, thus forming a new collection of grouped values: $collection = collect([ [ &#39;name&#39; =&gt; &#39;John Doe&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, ], [ &#39;name&#39; =&gt; &#39;Jane Doe&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, ], [ &#39;name&#39; =&gt; &#39;Johnny Doe&#39;, &#39;department&#39; =&gt; &#39;Marketing&#39;, ] ]); $grouped = $collection-&gt;mapToGroups(function ($item, $key) { return [$item[&#39;department&#39;] =&gt; $item[&#39;name&#39;]]; }); $grouped-&gt;toArray(); /* [ &#39;Sales&#39; =&gt; [&#39;John Doe&#39;, &#39;Jane Doe&#39;], &#39;Marketing&#39; =&gt; [&#39;Johhny Doe&#39;], ] */ $grouped-&gt;get(&#39;Sales&#39;)-&gt;all(); // [&#39;John Doe&#39;, &#39;Jane Doe&#39;] متد mapWithKeys The mapWithKeys method iterates through the collection and passes each value to the given callback. The callback should return an associative array containing a single key / value pair: $collection = collect([ [ &#39;name&#39; =&gt; &#39;John&#39;, &#39;department&#39; =&gt; &#39;Sales&#39;, &#39;email&#39; =&gt; &#39;john@example.com&#39; ], [ &#39;name&#39; =&gt; &#39;Jane&#39;, &#39;department&#39; =&gt; &#39;Marketing&#39;, &#39;email&#39; =&gt; &#39;jane@example.com&#39; ] ]); $keyed = $collection-&gt;mapWithKeys(function ($item) { return [$item[&#39;email&#39;] =&gt; $item[&#39;name&#39;]]; }); $keyed-&gt;all(); /* [ &#39;john@example.com&#39; =&gt; &#39;John&#39;, &#39;jane@example.com&#39; =&gt; &#39;Jane&#39;, ] */ متد max مقدار max را براساس کلید بر می گرداند : $max = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20]])-&gt;max(&#39;foo&#39;); // 20 $max = collect([1, 2, 3, 4, 5])-&gt;max(); // 5 متد median این متد مقدار متوسط مجموعه را بر می گرداند : $median = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;median(&#39;foo&#39;); // 15 $median = collect([1, 1, 2, 4])-&gt;median(); // 1.5 متد merge این متد عناصر یک مجموعه را با مجموعه دیگر ادغام می کند : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 100]); $merged = $collection-&gt;merge([&#39;price&#39; =&gt; 200, &#39;discount&#39; =&gt; false]); $merged-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;price&#39; =&gt; 200, &#39;discount&#39; =&gt; false] مثال : $collection = collect([&#39;Desk&#39;, &#39;Chair&#39;]); $merged = $collection-&gt;merge([&#39;Bookcase&#39;, &#39;Door&#39;]); $merged-&gt;all(); // [&#39;Desk&#39;, &#39;Chair&#39;, &#39;Bookcase&#39;, &#39;Door&#39;] متد min مقدار min را براساس کلید بر می گرداند : $min = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20]])-&gt;min(&#39;foo&#39;); // 10 $min = collect([1, 2, 3, 4, 5])-&gt;min(); // 1 متد mode مقدار mode را براساس کلید بر می گرداند : $mode = collect([[&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 10], [&#39;foo&#39; =&gt; 20], [&#39;foo&#39; =&gt; 40]])-&gt;mode(&#39;foo&#39;); // [10] $mode = collect([1, 1, 2, 4])-&gt;mode(); // [1] متد nth The nth method creates a new collection consisting of every n-th element: $collection = collect([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;]); $collection-&gt;nth(4); // [&#39;a&#39;, &#39;e&#39;] You may optionally pass an offset as the second argument: $collection-&gt;nth(4, 1); // [&#39;b&#39;, &#39;f&#39;] متد only آیتم های موجود در مجموعه را با کلیدهای مشخصی باز می گرداند: $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100, &#39;discount&#39; =&gt; false]); $filtered = $collection-&gt;only([&#39;product_id&#39;, &#39;name&#39;]); $filtered-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;] متد pad روش pad آرایه را با مقدار داده شده پر می کند تا آرایه به اندازه مشخصی برسد. این روش مانند تابع array_pad PHP عمل می کند. برای قرار دادن به سمت چپ، شما باید اندازه منفی را مشخص کنید. در صورتی که مقدار مطلق اندازه داده شده کمتر یا برابر طول آرایه باشد، هیچ مکانی وجود نخواهد داشت: $collection = collect([&#39;A&#39;, &#39;B&#39;, &#39;C&#39;]); $filtered = $collection-&gt;pad(5, 0); $filtered-&gt;all(); // [&#39;A&#39;, &#39;B&#39;, &#39;C&#39;, 0, 0] $filtered = $collection-&gt;pad(-5, 0); $filtered-&gt;all(); // [0, 0, &#39;A&#39;, &#39;B&#39;, &#39;C&#39;] متد partition از این متد جهت جدا کردن آیتم هایی که مورد تایید شرط مورد نظر هستند و آیتم هایی که مورد تایید شرط نیستند استفاده می گردد: $collection = collect([1, 2, 3, 4, 5, 6]); list($underThree, $aboveThree) = $collection-&gt;partition(function ($i) { return $i &lt; 3; }); متد pipe این متد نوع داده collection را به callback ارسال می کند و نتیجه آنرا بر می گرداند : $collection = collect([1, 2, 3]); $piped = $collection-&gt;pipe(function ($collection) { return $collection-&gt;sum(); }); // 6 متد pluck این متد تمام مقادیر به ازای کلید معین شده بر می گرداند : $collection = collect([ [&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;], [&#39;product_id&#39; =&gt; &#39;prod-200&#39;, &#39;name&#39; =&gt; &#39;Chair&#39;], ]); $plucked = $collection-&gt;pluck(&#39;name&#39;); $plucked-&gt;all(); // [&#39;Desk&#39;, &#39;Chair&#39;] همچنین می توانید کلید خروجی را برای نتایج تعیین کنید : $plucked = $collection-&gt;pluck(&#39;name&#39;, &#39;product_id&#39;); $plucked-&gt;all(); // [&#39;prod-100&#39; =&gt; &#39;Desk&#39;, &#39;prod-200&#39; =&gt; &#39;Chair&#39;] متد pop این متد آخرین عنصر مجموعه را بر می گرداند: $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;pop(); // 5 $collection-&gt;all(); // [1, 2, 3, 4] متد prepend این متد یک آیتم را به ابتدای مجموعه اضافه می کند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;prepend(0); $collection-&gt;all(); // [0, 1, 2, 3, 4, 5] همچنین از آرگومان دوم به عنوان کلید استفاده نمایید : $collection = collect([&#39;one&#39; =&gt; 1, &#39;two&#39; =&gt; 2]); $collection-&gt;prepend(0, &#39;zero&#39;); $collection-&gt;all(); // [&#39;zero&#39; =&gt; 0, &#39;one&#39; =&gt; 1, &#39;two&#39; =&gt; 2] متد pull این متد یک آیتم را با کلید تعیین شده بر می گرداند : $collection = collect([&#39;product_id&#39; =&gt; &#39;prod-100&#39;, &#39;name&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;pull(&#39;name&#39;); // &#39;Desk&#39; $collection-&gt;all(); // [&#39;product_id&#39; =&gt; &#39;prod-100&#39;] متد push این متد آیتم را به انتهای مجموعه اضافه می کند : $collection = collect([1, 2, 3, 4]); $collection-&gt;push(5); $collection-&gt;all(); // [1, 2, 3, 4, 5] متد put این متد یک عنصر را با کلید و مقدار مشخص در مجموعه قرار می دهد : $collection = collect([&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;]); $collection-&gt;put(&#39;price&#39;, 100); $collection-&gt;all(); // [&#39;product_id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 100] متد random یک آیتم را بصورت تصادفی از مجموعه بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;random(); // 4 - (retrieved randomly) همچنین می توانید تعداد آیتم هایی که بصورت تصادفی برگشت دا می شوند را تعیین کنید : $random = $collection-&gt;random(3); $random-&gt;all(); // [2, 4, 5] - (retrieved randomly) متد reduce این متد مجموعه را به یک مقدار کاهش می دهد ، و نتیجه هر تکرار را به تکرار بعدی انتقال می دهد : $collection = collect([1, 2, 3]); $total = $collection-&gt;reduce(function ($carry, $item) { return $carry + $item; }); // 6 مقدار carry$ در تکرار اول null است؛ با این وجود، شما می توانید مقدار اولیه آن را تعیین نمایید: $collection-&gt;reduce(function ($carry, $item) { return $carry + $item; }, 4); // 10 متد reject این متد آیتم که مصداق شرط تعیین شده نباشند را بر می گرداند و برعکس متد filter عمل می کند : $collection = collect([1, 2, 3, 4]); $filtered = $collection-&gt;reject(function ($value, $key) { return $value &gt; 2; }); $filtered-&gt;all(); // [1, 2] متد reverse این متد ترتیب عناصر مجموعه را با حفظ کلید آن معکوس می کند : $collection = collect([&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;]); $reversed = $collection-&gt;reverse(); $reversed-&gt;all(); /* [ 4 =&gt; &#39;e&#39;, 3 =&gt; &#39;d&#39;, 2 =&gt; &#39;c&#39;, 1 =&gt; &#39;b&#39;, 0 =&gt; &#39;a&#39;, ] */ متد search مجموعه ای را برای مقدار داده شده جستجو می کند و کلید آن را در صورت وجود بر می گرداند. اگر مورد یافت نشد، مقدار false را بر می گرداند : $collection = collect([2, 4, 6, 8]); $collection-&gt;search(4); // 1 در حالت پیش فرض از روش &quot;loose&quot; جهت مقایسه و جستجو استفاده می شود برای جستجو با استفاده از روش &quot;strict مقدار true را به عنوان آرگومان دوم ارسال می کنیم : $collection-&gt;search(&#39;4&#39;, true); // false همچنین می توانید از callback در این متد استفاده نمایید : $collection-&gt;search(function ($item, $key) { return $item &gt; 5; }); // 2 متد shift عملیات shift به راست را در مجموعه انجام می دهد و اولین عنصر را بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;shift(); // 1 $collection-&gt;all(); // [2, 3, 4, 5] متد shuffle عناصر موجود در مجموعه را بصورت تصادفی جا به جا می کند : $collection = collect([1, 2, 3, 4, 5]); $shuffled = $collection-&gt;shuffle(); $shuffled-&gt;all(); // [3, 2, 5, 1, 4] - (generated randomly) متد slice تکه ای از مجموعه را با شروع از index معین شده بر می گرداند : $collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]); $slice = $collection-&gt;slice(4); $slice-&gt;all(); // [5, 6, 7, 8, 9, 10] چنانچه بخواهیم تعداد نیز مشخص شود آن را به عنوان آرگومان دوم در متد مشخص می نماییم : $slice = $collection-&gt;slice(4, 2); $slice-&gt;all(); // [5, 6] تکه بازگشتی به طور پیش فرض کلید را حفظ می کند. اگر نمی خواهید کلیدهای اصلی را حفظ کنید، میتوانید از متد values برای reindex استفاده کنید : متد sort از این متد جهت مرتب سازی مجموعه استفاده می شود. مجموعه مرتب شده، کلیدهای آرایه را حفظ می کند، بنابراین در این مثال از متد values برای reindex کلیدها استفاده کردیم : $collection = collect([5, 3, 1, 2, 4]); $sorted = $collection-&gt;sort(); $sorted-&gt;values()-&gt;all(); // [1, 2, 3, 4, 5] متد sortBy از این متد جهت مرتب سازی بر اساس کلید معین شده استفاده می گردد : $collection = collect([ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], ]); $sorted = $collection-&gt;sortBy(&#39;price&#39;); $sorted-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ همچنین می توان از روش callback در این متد استفاده نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ]); $sorted = $collection-&gt;sortBy(function ($product, $key) { return count($product[&#39;colors&#39;]); }); $sorted-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ] */ متد sortByDesc همانند متد sort می باشد با این تفاوت که بصورت نزولی مرتب می کند : متد splice این متد تکه ای از مجموعه را با شروع از index مشخص حذف و آن را بر می گرداند : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2); $chunk-&gt;all(); // [3, 4, 5] $collection-&gt;all(); // [1, 2] همچنین می توانید تعداد آیتم ها را در آرگومان دوم مشخص نمایید : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2, 1); $chunk-&gt;all(); // [3] $collection-&gt;all(); // [1, 2, 4, 5] در ادامه می توان در آرگومان سوم آیتم هایی را به عنوان جایگزین مشخص نمود : $collection = collect([1, 2, 3, 4, 5]); $chunk = $collection-&gt;splice(2, 1, [10, 11]); $chunk-&gt;all(); // [3] $collection-&gt;all(); // [1, 2, 10, 11, 4, 5] متد split از این متد جهت گروه بندی کردن مجموعه به تعداد مشخص استفاده می شود : $collection = collect([1, 2, 3, 4, 5]); $groups = $collection-&gt;split(3); $groups-&gt;toArray(); // [[1, 2], [3, 4], [5]] متد sum این متد مقادیر آیتم ها را جمع و باز می گرداند : collect([1, 2, 3, 4, 5])-&gt;sum(); // 15 همچنین می توانید کلید معینی جهت جمع کردن مقادیر آیتم ها مشخص نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;JavaScript: The Good Parts&#39;, &#39;pages&#39; =&gt; 176], [&#39;name&#39; =&gt; &#39;JavaScript: The Definitive Guide&#39;, &#39;pages&#39; =&gt; 1096], ]); $collection-&gt;sum(&#39;pages&#39;); // 1272 همچنین می توانید از روش callback در این متد استفاده نمایید : $collection = collect([ [&#39;name&#39; =&gt; &#39;Chair&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;]], [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;colors&#39; =&gt; [&#39;Black&#39;, &#39;Mahogany&#39;]], [&#39;name&#39; =&gt; &#39;Bookcase&#39;, &#39;colors&#39; =&gt; [&#39;Red&#39;, &#39;Beige&#39;, &#39;Brown&#39;]], ]); $collection-&gt;sum(function ($product) { return count($product[&#39;colors&#39;]); }); // 6 متد take یک مجموعه جدید با تعداد مشخص آیتم را برمی گرداند : $collection = collect([0, 1, 2, 3, 4, 5]); $chunk = $collection-&gt;take(3); $chunk-&gt;all(); // [0, 1, 2] همچنین می توانید از یک عدد منفی به عنوان آرگومان استفاده نمایید که در اینصورت از انتهای مجموعه آیتم ها برگردانده می شوند : $collection = collect([0, 1, 2, 3, 4, 5]); $chunk = $collection-&gt;take(-2); $chunk-&gt;all(); // [4, 5] متد tap The tap method passes the collection to the given callback, allowing you to &quot;tap&quot; into the collection at a specific point and do something with the items while not affecting the collection itself: collect([2, 4, 3, 1, 5]) -&gt;sort() -&gt;tap(function ($collection) { Log::debug(&#39;Values after sorting&#39;, $collection-&gt;values()-&gt;toArray()); }) -&gt;shift(); // 1 متد times این متد تعداد دفعات اجرای متد callback تعیین شده را تعیین می کند و مقدار آن را در هر بار اجرا بر می گرداند : $collection = Collection::times(10, function ($number) { return $number * 9; }); $collection-&gt;all(); // [9, 18, 27, 36, 45, 54, 63, 72, 81, 90] این متد می تواند در Eloquent models مانند زیر مفید باشد : $categories = Collection::times(3, function ($number) { return factory(Category::class)-&gt;create([&#39;name&#39; =&gt; &#39;Category #&#39;.$number]); }); $categories-&gt;all(); /* [ [&#39;id&#39; =&gt; 1, &#39;name&#39; =&gt; &#39;Category #1&#39;], [&#39;id&#39; =&gt; 2, &#39;name&#39; =&gt; &#39;Category #2&#39;], [&#39;id&#39; =&gt; 3, &#39;name&#39; =&gt; &#39;Category #3&#39;], ] */ متد toArray عناصر موجود در مجموعه را بصورت آرایه بر می گرداند: $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200]); $collection-&gt;toArray(); /* [ [&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد toJson عناصر موجود در مجموعه را بصورت JSON بر می گرداند : $collection = collect([&#39;name&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200]); $collection-&gt;toJson(); // &#39;{&quot;name&quot;:&quot;Desk&quot;, &quot;price&quot;:200}&#39; متد transform این متد مقادیر تغییر یافته بعد از عملیات صورت گرفته بر روی عناصر مجموعه در callback را جایگزین عناصر اصلی مجموعه می کند : $collection = collect([1, 2, 3, 4, 5]); $collection-&gt;transform(function ($item, $key) { return $item * 2; }); $collection-&gt;all(); // [2, 4, 6, 8, 10] اگر بخواهیم بر روی مجموعه اصلی تغییری حاصل نشود از متد map استفاده نمایید. متد union این متد آرایه داده شده را به مجموعه اضافه می کند. اگر آرایه داده شده شامل کلید هایی است که قبلا در مجموعه اصلی هستند، مقادیر اصلی مجموعه ترجیح داده می شود: $collection = collect([1 =&gt; [&#39;a&#39;], 2 =&gt; [&#39;b&#39;]]); $union = $collection-&gt;union([3 =&gt; [&#39;c&#39;], 1 =&gt; [&#39;b&#39;]]); $union-&gt;all(); // [1 =&gt; [&#39;a&#39;], 2 =&gt; [&#39;b&#39;], 3 =&gt; [&#39;c&#39;]] متد unique این متد تمام اقلام منحصر به فرد در مجموعه را باز می گرداند. مجموعه بازگشتی، کلیدهای آرایه را نگه می دارد، بنابراین در این مثال از متد values برای بازنشانی کلید استفاده می کنیم: $collection = collect([1, 1, 2, 2, 3, 4, 2]); $unique = $collection-&gt;unique(); $unique-&gt;values()-&gt;all(); // [1, 2, 3, 4] هنگام استفاده با آرایه های تودرتو و یا اشیاء ، می توانید کلید مورد استفاده برای تعیین منحصر به فرد بودن را تعیین کنید: $collection = collect([ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;iPhone 5&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Apple Watch&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy Gear&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], ]); $unique = $collection-&gt;unique(&#39;brand&#39;); $unique-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], ] */ همچنین می توانید از callback در این متد استفاده نمایید : $unique = $collection-&gt;unique(function ($item) { return $item[&#39;brand&#39;].$item[&#39;type&#39;]; }); $unique-&gt;values()-&gt;all(); /* [ [&#39;name&#39; =&gt; &#39;iPhone 6&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Apple Watch&#39;, &#39;brand&#39; =&gt; &#39;Apple&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], [&#39;name&#39; =&gt; &#39;Galaxy S6&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;phone&#39;], [&#39;name&#39; =&gt; &#39;Galaxy Gear&#39;, &#39;brand&#39; =&gt; &#39;Samsung&#39;, &#39;type&#39; =&gt; &#39;watch&#39;], ] */ متد uniqueStrict همانند متد unique عمل می کند با این تفاوت که از روش &quot;strict&quot; در مقایسه های خود استفاده می کند. متد unless این متد callback مشخص شده را اجرا می کند مگر اینگه آرگومان اول true باشد. $collection = collect([1, 2, 3]); $collection-&gt;unless(true, function ($collection) { return $collection-&gt;push(4); }); $collection-&gt;unless(false, function ($collection) { return $collection-&gt;push(5); }); $collection-&gt;all(); // [1, 2, 3, 5] این متد عکس متد when عمل می کند. متد unwrap The static unwrap method returns the collection&#39;s underlying items from the given value when applicable: Collection::unwrap(collect(&#39;John Doe&#39;)); // [&#39;John Doe&#39;] Collection::unwrap([&#39;John Doe&#39;]); // [&#39;John Doe&#39;] Collection::unwrap(&#39;John Doe&#39;); // &#39;John Doe&#39; متد values این متد کلیدها را بصورت اعداد صحیح متوالی باز نشانی می کند : $collection = collect([ 10 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], 11 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200] ]); $values = $collection-&gt;values(); $values-&gt;all(); /* [ 0 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], 1 =&gt; [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد when این متد callback مورد نظر را زمانیکه آرگومان اول برابر true باشد را اجرا می کند : $collection = collect([1, 2, 3]); $collection-&gt;when(true, function ($collection) { return $collection-&gt;push(4); }); $collection-&gt;when(false, function ($collection) { return $collection-&gt;push(5); }); $collection-&gt;all(); // [1, 2, 3, 4] این متد عکس متد unless عمل می کند. متد where این متد عملیات filter را براساس key /value اعمال می کند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;where(&#39;price&#39;, 100); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ] */ متد whereStrict این متد همانند متد where بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد whereIn این متد همانند متد where بوده با این تفاوت که مقادیر را می تواند بصورت آرایه دریافت کند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;whereIn(&#39;price&#39;, [150, 200]); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], ] */ متد whereInStrict این متد همانند متد where بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد whereNotIn این متد عکس متد where عمل می کند و مقادیری که در آرایه تعیین شده نباشند را بر می گرداند : $collection = collect([ [&#39;product&#39; =&gt; &#39;Desk&#39;, &#39;price&#39; =&gt; 200], [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Bookcase&#39;, &#39;price&#39; =&gt; 150], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ]); $filtered = $collection-&gt;whereNotIn(&#39;price&#39;, [150, 200]); $filtered-&gt;all(); /* [ [&#39;product&#39; =&gt; &#39;Chair&#39;, &#39;price&#39; =&gt; 100], [&#39;product&#39; =&gt; &#39;Door&#39;, &#39;price&#39; =&gt; 100], ] */ متد whereNotInStrict این متد همانند متد whereNotIn بوده با این تفاوت که از روش مقایسه &quot;strict&quot; استفاده می کند : متد wrap The static wrap method wraps the given value in a collection when applicable: $collection = Collection::wrap(&#39;John Doe&#39;); $collection-&gt;all(); // [&#39;John Doe&#39;] $collection = Collection::wrap([&#39;John Doe&#39;]); $collection-&gt;all(); // [&#39;John Doe&#39;] $collection = Collection::wrap(collect(&#39;John Doe&#39;)); $collection-&gt;all(); // [&#39;John Doe&#39;] متد zip متد zip() مقادیر آرایه ی ورودی را با مقادیر موجود در مجموعه در اندیس منطبق (که دارای شماره ی مکان قرارگیری یکسان است) ترکیب می کند: $collection = collect([&#39;Chair&#39;, &#39;Desk&#39;]); $zipped = $collection-&gt;zip([100, 200]); $zipped-&gt;all(); // [[&#39;Chair&#39;, 100], [&#39;Desk&#39;, 200]]","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- stylesheets -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="stylesheet" href="/assets/prisma/prism.css">
    <!-- favicons and rss -->
    <link rel="alternate" type="application/rss+xml" title="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" href="/feed.xml">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
<!-- header -->
<header class="header" role="banner" aria-label="Header">
    <button class="hamburger-button" onclick="hamburgerMenu();" role="button" aria-label="Hamburger menu button">
        <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
    </button>
    <a href="/" class="logo" role="link" aria-label="Home">
        <img alt="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" src="/assets/img/logo/farhadmirzapour-logo.png" role="img" aria-label="Logo">
    </a>
    <nav class="navigation" role="navigation" aria-label="Navigation">
        <ul role="menu" aria-hidden="true" aria-label="Navigation menu">
            <li role="menuitem" aria-label="Navigation menu item">
                <a href="/" class="logo" role="menuitem" aria-label="Home">
                    <img alt="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" src="/assets/img/logo/farhadmirzapour-logo.png" role="img" aria-label="Logo">
                </a>
            </li>
            
            <li role="menuitem"><a href="/blog" role="menuitem" aria-label="مقالات">مقالات</a></li>
            
            <li role="menuitem"><a href="/contactus" role="menuitem" aria-label="تماس">تماس</a></li>
            
        </ul>
    </nav>
    <div class="searchbox" role="search" aria-label="Search">
        <form action="/search" id="searchthis" method="get" role="form" aria-label="Search form">
            <i class="fa fa-search" aria-hidden="true"></i>
            <input type="search" id="search" name="query" placeholder="Search..." role="textbox" aria-label="Search textbox">
        </form>
    </div>
</header>

<nav id="hamburger-menu" role="navigation" aria-label="Hamburger menu">
    <div class="searchbox" role="search" aria-label="Search">
        <form action="/search" id="searchthis" method="get" role="form" aria-label="Search form">
            <i class="fa fa-search" aria-hidden="true"></i>
            <input type="search" id="search" name="query" placeholder="Search..." role="textbox" aria-label="Search textbox">
        </form>
    </div>
    <div class="home-nav" role="navigation" aria-label="Site navigation">
        <a href="/" role="menuitem" aria-label="Home">صفحه اصلی</a>
        
        <a href="/blog" role="menuitem" aria-label="مقالات">مقالات</a>
        
        <a href="/contactus" role="menuitem" aria-label="تماس">تماس</a>
        
    </div>

    
    <div class="doc-nav" role="navigation" aria-label="Documentation navigation">
        <p role="presentation" aria-label="Category name">
            اصول آموزش Laravel
        </p>
        <ul role="menu" aria-hidden="true" aria-label="Navigation menu">
            <li role="menuitem" aria-label="Navigation menu item"><a href="/2017/12/18/laravel.html" class="doc-link" role="link" aria-label="معرفی collections">مقدمه</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Digging-Deeper/collections" class="doc-link" role="link" aria-label="معرفی collections">معرفی collections</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Database/database" class="doc-link" role="link" aria-label="پایگاه داده ها">پایگاه داده ها</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Database/queries" class="doc-link" role="link" aria-label="آشنایی با Query Builder">آشنایی با Query Builder</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent" class="doc-link" role="link" aria-label="آشنایی با eloquent">آشنایی با eloquent</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent-relationships" class="doc-link" role="link" aria-label="eloquent relationships  آموزش">eloquent relationships  آموزش</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent-mutators" class="doc-link" role="link" aria-label="آشنایی با eloquent mutators">آشنایی با eloquent mutators</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent-collections" class="doc-link" role="link" aria-label="آشنایی با eloquent collections">آشنایی با eloquent collections</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent-serialization" class="doc-link" role="link" aria-label="آشنایی با eloquent serialization">آشنایی با eloquent serialization</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Architecture-Concepts/lifecycle" class="doc-link" role="link" aria-label="چرخه ی حیات درخواست (Request Lifecycle)">چرخه ی حیات درخواست (Request Lifecycle)</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/routing" class="doc-link" role="link" aria-label="Routing یا مسیریابی در لاراول">Routing یا مسیریابی در لاراول</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/middleware" class="doc-link" role="link" aria-label="آموزش Middleware">آموزش Middleware</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/csrf" class="doc-link" role="link" aria-label="حفاظت CSRF">حفاظت CSRF</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/controllers" class="doc-link" role="link" aria-label="استفاده از Controller">استفاده از Controller</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/requests" class="doc-link" role="link" aria-label="اصول requests">اصول requests</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/views" class="doc-link" role="link" aria-label="ایجاد view">ایجاد view</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/session" class="doc-link" role="link" aria-label="استفاده از  Session">استفاده از  Session</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/responses" class="doc-link" role="link" aria-label="پاسخ Response">پاسخ Response</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/urls" class="doc-link" role="link" aria-label="تولید URL در لاراول">تولید URL در لاراول</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/validation" class="doc-link" role="link" aria-label="validation یا اعتبارسنجی در لاراول">validation یا اعتبارسنجی در لاراول</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/errors" class="doc-link" role="link" aria-label="مدیریت Errors &amp; Logging">مدیریت Errors &amp; Logging</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Frontend/blade" class="doc-link" role="link" aria-label="Blade Templates">Blade Templates</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Frontend/localization" class="doc-link" role="link" aria-label="اصول localization">اصول localization</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Frontend/frontend" class="doc-link" role="link" aria-label="JavaScript &amp; CSS Scaffolding">JavaScript &amp; CSS Scaffolding</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        </ul>
    </div>
    
</nav>
<!-- main content -->
<main class="container" role="main">
    <div class="rcdoccontainerimg">
<div class="rc-DRTVBanner-new rc-DRTVBanner-bigsize">
    <div style="background: url('/images/original/laravel.png'); " class="blurred_img"></div>
    <div class="mask"></div>
    <div class="bot"></div>
    <div class="over">
        <div class="container-rc">
            <img class="image" src="/images/original/laravel.png" alt="معرفی collections" height="190">
            <div class="desktop-banner-container">
                <h1 class="display-5-text headline">
                    
                    
                    اصول آموزش Laravel
                    </h1>
                <!--<div class="tagslist"><ul class='lyda-tag-list'><li class='lyda-tag-list-title'>برچسب ها</li><li><a class="tags" href="/tag/لاراول">#لاراول</a></li><li><a class="tags" href="/tag/لاراول-5-5">#لاراول 5.5</a></li></ul></div>-->
            </div>
        </div>
    </div>
</div>

<!--<div class="bread-crumb">-->
<!--<div class="container   ">-->
<!--<div class="pull-right ">-->
<!--<div class="bread-button text-custom b-left">-->
<!--انتشار : 2 ماه پیش-->
<!--</div>-->
<!--<a href="/category/article/" class="bread-button back-to-all b-left hidden-xs">همه مقالات</a>-->
<!--<div class="cat-lable">-->
<!--<a href="/category/article/laravel/">-->
<!--لاراول-->
<!--</a>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<script>
    $(window).scroll(function(){
        var sticky = $('.doc-menu'),
            scroll = $(window).scrollTop();
        if (scroll >= 101) {sticky.addClass('doc-header-scroll'); }
        else {sticky.removeClass('doc-header-scroll'); };
    });
</script>
</div>
<div class="doc-container">

    <div class="doc-menu">
    
    <ul>
        <li>
            <a href="/2017/12/18/laravel.html" class="active doc-link" role="link">
                مقدمه
            </a>
        </li>
        
        <li>
            <span class="caret">معماری Laravel</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="چرخه ی حیات درخواست (Request Lifecycle)" href="/documentation/laravel/Architecture-Concepts/lifecycle" class="active doc-link" role="link">
                چرخه ی حیات درخواست (Request Lifecycle)
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">مفاهیم اساسی</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="Routing یا مسیریابی در لاراول" href="/documentation/laravel/The-Basics/routing" class="active doc-link" role="link">
                Routing یا مسیریابی در لاراول
            </a>
        </li>
        
        
        
        <li>
            <a title="آموزش Middleware" href="/documentation/laravel/The-Basics/middleware" class="active doc-link" role="link">
                آموزش Middleware
            </a>
        </li>
        
        
        
        <li>
            <a title="حفاظت CSRF" href="/documentation/laravel/The-Basics/csrf" class="active doc-link" role="link">
                حفاظت CSRF
            </a>
        </li>
        
        
        
        <li>
            <a title="استفاده از Controller" href="/documentation/laravel/The-Basics/controllers" class="active doc-link" role="link">
                استفاده از Controller
            </a>
        </li>
        
        
        
        <li>
            <a title="اصول requests" href="/documentation/laravel/The-Basics/requests" class="active doc-link" role="link">
                اصول requests
            </a>
        </li>
        
        
        
        <li>
            <a title="ایجاد view" href="/documentation/laravel/The-Basics/views" class="active doc-link" role="link">
                ایجاد view
            </a>
        </li>
        
        
        
        <li>
            <a title="استفاده از  Session" href="/documentation/laravel/The-Basics/session" class="active doc-link" role="link">
                استفاده از  Session
            </a>
        </li>
        
        
        
        <li>
            <a title="پاسخ Response" href="/documentation/laravel/The-Basics/responses" class="active doc-link" role="link">
                پاسخ Response
            </a>
        </li>
        
        
        
        <li>
            <a title="تولید URL در لاراول" href="/documentation/laravel/The-Basics/urls" class="active doc-link" role="link">
                تولید URL در لاراول
            </a>
        </li>
        
        
        
        <li>
            <a title="validation یا اعتبارسنجی در لاراول" href="/documentation/laravel/The-Basics/validation" class="active doc-link" role="link">
                validation یا اعتبارسنجی در لاراول
            </a>
        </li>
        
        
        
        <li>
            <a title="مدیریت Errors &amp; Logging" href="/documentation/laravel/The-Basics/errors" class="active doc-link" role="link">
                مدیریت Errors &amp; Logging
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">Front End</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="Blade Templates" href="/documentation/laravel/Frontend/blade" class="active doc-link" role="link">
                Blade Templates
            </a>
        </li>
        
        
        
        <li>
            <a title="اصول localization" href="/documentation/laravel/Frontend/localization" class="active doc-link" role="link">
                اصول localization
            </a>
        </li>
        
        
        
        <li>
            <a title="JavaScript &amp; CSS Scaffolding" href="/documentation/laravel/Frontend/frontend" class="active doc-link" role="link">
                JavaScript &amp; CSS Scaffolding
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">مفاهیم پیشرفته تر</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="معرفی collections" href="/documentation/laravel/Digging-Deeper/collections" class="active doc-link" role="link">
                معرفی collections
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">پایگاه داده ها</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="پایگاه داده ها" href="/documentation/laravel/Database/database" class="active doc-link" role="link">
                پایگاه داده ها
            </a>
        </li>
        
        
        
        <li>
            <a title="آشنایی با Query Builder" href="/documentation/laravel/Database/queries" class="active doc-link" role="link">
                آشنایی با Query Builder
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">Eloquent ORM</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="آشنایی با eloquent" href="/documentation/laravel/Eloquent-ORM/eloquent" class="active doc-link" role="link">
                آشنایی با eloquent
            </a>
        </li>
        
        
        
        <li>
            <a title="eloquent relationships  آموزش" href="/documentation/laravel/Eloquent-ORM/eloquent-relationships" class="active doc-link" role="link">
                eloquent relationships  آموزش
            </a>
        </li>
        
        
        
        <li>
            <a title="آشنایی با eloquent mutators" href="/documentation/laravel/Eloquent-ORM/eloquent-mutators" class="active doc-link" role="link">
                آشنایی با eloquent mutators
            </a>
        </li>
        
        
        
        <li>
            <a title="آشنایی با eloquent collections" href="/documentation/laravel/Eloquent-ORM/eloquent-collections" class="active doc-link" role="link">
                آشنایی با eloquent collections
            </a>
        </li>
        
        
        
        <li>
            <a title="آشنایی با eloquent serialization" href="/documentation/laravel/Eloquent-ORM/eloquent-serialization" class="active doc-link" role="link">
                آشنایی با eloquent serialization
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
    </ul>
    
</div>

    <article class="documentation">
        <header class="doc-header">
            <div class="time">
                    تاریخ :      دوشنبه 27 آذر 1396
            </div>
                
        </header>
        <section class="anchored">
            <p>
کلاس <span class="redbold">Illuminate\<span class="token package">Support<span class="token punctuation">\</span>Collection</span></span> یک بسته مناسب و راحت برای کار با آرایه های داده فراهم می کند. به عنوان مثال، کد زیر را بررسی کنید. از <span class="redbold">collect</span> helper برای ایجاد نمونه جدید از آرایه استفاده می کنیم، عملگر <span class="redbold">strtoupper</span> را بر روی هر عنصر اجرا می کنیم و سپس تمام عناصر خالی را حذف می کنیم:
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['taylor', 'abigail', null])-&gt;map(function ($name) {
    return strtoupper($name);
})
-&gt;reject(function ($name) {
    return empty($name);
});</code></pre>

<p>
همانطور که می بینید، کلاس <span class="redbold">Collection</span> به شما اجازه می دهد تا روش های زنجیره ای خود را برای انجام نقشه های روان  به کار ببرید. به طور كلي مجموعه ها تغيير نمي كنند، به اين معني كه هر متد <span class="redbold">Collection</span> نمونه كاملا جديدي از کلاس <span class="redbold">Collection</span> را باز مي گرداند.
</p>

<p><br></p>
<h3>متد Creating Collections</h3>

<p>
همانطور که در بالا ذکر شد، <span class="redbold">collect</span> helper نمونه جدید <span class="redbold">Illuminate\<span class="token package">Support<span class="token punctuation">\</span>Collection</span></span> را برای آرایه دریافت شده بر می گرداند. بنابراین ایجاد یک collection  ساده است:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3]);
</code></pre>

<blockquote>
نکته :نتایج کوئری های Eloquent همیشه نمونه ای از کلاس <span class="redbold">Collection</span> را بر می گرداند
</blockquote>

<p><br></p>
<h3>توسعه Collections</h3>

<p>
Collection ها "macroable" هستند، به این معنی که می توان متد هایی را به کلاس <span class="redbold">Collection</span> در زمان اجرا می توان اضافه نمود. برای مثال در کد زیر متدی به نام <span class="redbold">toUpper</span> را به این مجموعه اضافه نمودیم :
</p>

<pre><code class="language-php  line-numbers">use Illuminate\Support\Str;

Collection::macro('toUpper', function () {
    return $this-&gt;map(function ($value) {
        return Str::upper($value);
    });
});

$collection = collect(['first', 'second']);

$upper = $collection-&gt;toUpper();

// ['FIRST', 'SECOND']
</code></pre>

<p>به طور معمول جهت معرفی نمودن متد ایجاد شده از service provider استفاده شده تا در تمامی قسمت های برنامه قابل دسترس باشد.</p>

<p><br></p>
<h3>متد های موجود در کلاس Collection</h3>
<p>متدهای از پیش تعریف شده این کلاس عبارتند از :</p>

<div id="collection-method-list">
<p><a href="#method-all">all</a>
<a href="#method-average">average</a>
<a href="#method-avg">avg</a>
<a href="#method-chunk">chunk</a>
<a href="#method-collapse">collapse</a>
<a href="#method-combine">combine</a>
<a href="#method-concat">concat</a>
<a href="#method-contains">contains</a>
<a href="#method-containsstrict">containsStrict</a>
<a href="#method-count">count</a>
<a href="#method-crossjoin">crossJoin</a>
<a href="#method-dd">dd</a>
<a href="#method-diff">diff</a>
<a href="#method-diffassoc">diffAssoc</a>
<a href="#method-diffkeys">diffKeys</a>
<a href="#method-dump">dump</a>
<a href="#method-each">each</a>
<a href="#method-eachspread">eachSpread</a>
<a href="#method-every">every</a>
<a href="#method-except">except</a>
<a href="#method-filter">filter</a>
<a href="#method-first">first</a>
<a href="#method-first-where">firstWhere</a>
<a href="#method-flatmap">flatMap</a>
<a href="#method-flatten">flatten</a>
<a href="#method-flip">flip</a>
<a href="#method-forget">forget</a>
<a href="#method-forpage">forPage</a>
<a href="#method-get">get</a>
<a href="#method-groupby">groupBy</a>
<a href="#method-has">has</a>
<a href="#method-implode">implode</a>
<a href="#method-intersect">intersect</a>
<a href="#method-intersectbykeys">intersectByKeys</a>
<a href="#method-isempty">isEmpty</a>
<a href="#method-isnotempty">isNotEmpty</a>
<a href="#method-keyby">keyBy</a>
<a href="#method-keys">keys</a>
<a href="#method-last">last</a>
<a href="#method-macro">macro</a>
<a href="#method-make">make</a>
<a href="#method-map">map</a>
<a href="#method-mapinto">mapInto</a>
<a href="#method-mapspread">mapSpread</a>
<a href="#method-maptogroups">mapToGroups</a>
<a href="#method-mapwithkeys">mapWithKeys</a>
<a href="#method-max">max</a>
<a href="#method-median">median</a>
<a href="#method-merge">merge</a>
<a href="#method-min">min</a>
<a href="#method-mode">mode</a>
<a href="#method-nth">nth</a>
<a href="#method-only">only</a>
<a href="#method-pad">pad</a>
<a href="#method-partition">partition</a>
<a href="#method-pipe">pipe</a>
<a href="#method-pluck">pluck</a>
<a href="#method-pop">pop</a>
<a href="#method-prepend">prepend</a>
<a href="#method-pull">pull</a>
<a href="#method-push">push</a>
<a href="#method-put">put</a>
<a href="#method-random">random</a>
<a href="#method-reduce">reduce</a>
<a href="#method-reject">reject</a>
<a href="#method-reverse">reverse</a>
<a href="#method-search">search</a>
<a href="#method-shift">shift</a>
<a href="#method-shuffle">shuffle</a>
<a href="#method-slice">slice</a>
<a href="#method-sort">sort</a>
<a href="#method-sortby">sortBy</a>
<a href="#method-sortbydesc">sortByDesc</a>
<a href="#method-splice">splice</a>
<a href="#method-split">split</a>
<a href="#method-sum">sum</a>
<a href="#method-take">take</a>
<a href="#method-tap">tap</a>
<a href="#method-times">times</a>
<a href="#method-toarray">toArray</a>
<a href="#method-tojson">toJson</a>
<a href="#method-transform">transform</a>
<a href="#method-union">union</a>
<a href="#method-unique">unique</a>
<a href="#method-uniquestrict">uniqueStrict</a>
<a href="#method-unless">unless</a>
<a href="#method-unwrap">unwrap</a>
<a href="#method-values">values</a>
<a href="#method-when">when</a>
<a href="#method-where">where</a>
<a href="#method-wherestrict">whereStrict</a>
<a href="#method-wherein">whereIn</a>
<a href="#method-whereinstrict">whereInStrict</a>
<a href="#method-wherenotin">whereNotIn</a>
<a href="#method-wherenotinstrict">whereNotInStrict</a>
<a href="#method-wrap">wrap</a>
<a href="#method-zip">zip</a></p>
</div>

<p><a name="method-all"></a></p>
<p><br></p>
<h3>متد all</h3>
<p>
این متد تمامی زیر آرایه های تعریف شده موجود در این مجموعه را بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">collect([1, 2, 3])-&gt;all();

// [1, 2, 3]
</code></pre>

<p><a name="method-avg"></a></p>
<p><br></p>
<h3>متد avg</h3>
<p>
این متد معدل مقادیر را بر اساس کلید دریافتی بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$average = collect([['foo' =&gt; 10], ['foo' =&gt; 10], ['foo' =&gt; 20], ['foo' =&gt; 40]])-&gt;avg('foo');

// 20

$average = collect([1, 1, 2, 4])-&gt;avg();

// 2
</code></pre>

<p><a name="method-chunk"></a></p>
<p><br></p>
<h3>متد chunk</h3>
<p>
با استفاده از این متد می توان مجموعه را به چند زیر مجموعه کوچکتر با سایز مشخص شده تقسیم کرد :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5, 6, 7]);

$chunks = $collection-&gt;chunk(4);

$chunks-&gt;toArray();

// [[1, 2, 3, 4], [5, 6, 7]]
</code></pre>

<p>
از این روش می توان در view  ها زمان نمایش اطلاعات مانند زیر استفاده کرد :
</p>

<pre><code class="language-php  line-numbers">@foreach ($products-&gt;chunk(3) as $chunk)
    <div class="row">
        @foreach ($chunk as $product)
            <div class="col-xs-4">{{ $product-&gt;name }}</div>
        @endforeach
    </div>
@endforeach</code></pre>

<p><a name="method-collapse"></a></p>
<p><br></p>
<h3>متد collapse</h3>
<p>
این متد ، زیر آرایه های موجود را بصورت یک آرایه تبدیل می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([[1, 2, 3], [4, 5, 6], [7, 8, 9]]);

$collapsed = $collection-&gt;collapse();

$collapsed-&gt;all();

// [1, 2, 3, 4, 5, 6, 7, 8, 9]
</code></pre>

<p><a name="method-combine"></a></p>
<p><br></p>
<h3>متد combine</h3>
<p>
این متد کلید آرایه یک مجموعه با مقدار آرایه مجموعه ای دیگر را ترکیب می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name', 'age']);

$combined = $collection-&gt;combine(['George', 29]);

$combined-&gt;all();

// ['name' =&gt; 'George', 'age' =&gt; 29]
</code></pre>

<p><a name="method-concat"></a></p>
<p><br></p>
<h3>متد concat</h3>
<p>
این متد آرایه دریافتی را به انتهای آرایه مجموعه اضافه می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['John Doe']);

$concatenated = $collection-&gt;concat(['Jane Doe'])-&gt;concat(['name' =&gt; 'Johnny Doe']);

$concatenated-&gt;all();

// ['John Doe', 'Jane Doe', 'Johnny Doe']
</code></pre>

<p><a name="method-contains"></a></p>
<p><br></p>
<h3>متد contains</h3>
<p>
این متد وجود یک آیتم مشخص را در مجموعه بررسی می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name' =&gt; 'Desk', 'price' =&gt; 100]);

$collection-&gt;contains('Desk');

// true

$collection-&gt;contains('New York');

// false
</code></pre>

<p>
شما همچنین می توانید یک key / value را همانند زیر ارسال نمایید :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ['product' =&gt; 'Chair', 'price' =&gt; 100],
]);

$collection-&gt;contains('product', 'Bookcase');

// false
</code></pre>
<p>
همچنین می توانید یک متد callback  را جهت بررسی داده های خود اجرا کنید :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$collection-&gt;contains(function ($value, $key) {
    return $value &gt; 5;
});

// false
</code></pre>

<p><a name="method-containsstrict"></a></p>
<p><br></p>
<h3>متد containsStrict</h3>
<p>
این متد همانند contains  می باشد و از "strict" comparisons جهت بررسی داده ها استفاده می کند.
</p>

<p><a name="method-count"></a></p>
<p><br></p>
<h3>متد count</h3>
<p>
تعداد آیتم های یک مجموعه را شمارش می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4]);

$collection-&gt;count();

// 4
</code></pre>

<p><a name="method-crossjoin"></a></p>
<p><br></p>
<h3>متد crossJoin</h3>

<p>
 این متد یک ماتریس را ایجاد می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2]);

$matrix = $collection-&gt;crossJoin(['a', 'b']);

$matrix-&gt;all();

/*
    [
        [1, 'a'],
        [1, 'b'],
        [2, 'a'],
        [2, 'b'],
    ]
*/

$collection = collect([1, 2]);

$matrix = $collection-&gt;crossJoin(['a', 'b'], ['I', 'II']);

$matrix-&gt;all();

/*
    [
        [1, 'a', 'I'],
        [1, 'a', 'II'],
        [1, 'b', 'I'],
        [1, 'b', 'II'],
        [2, 'a', 'I'],
        [2, 'a', 'II'],
        [2, 'b', 'I'],
        [2, 'b', 'II'],
    ]
*/
</code></pre>

<p><a name="method-dd"></a></p>
<p><br></p>
<h3>متد dd</h3>
<p>
این متد محتوای مجموعه را نمایش و روند اجرای برنامه را قطع میکند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['John Doe', 'Jane Doe']);

$collection-&gt;dd();

/*
    Collection {
        #items: array:2 [
            0 =&gt; "John Doe"
            1 =&gt; "Jane Doe"
        ]
    }
*/
</code></pre>

<p>
چنانچه بخواهیم روند اجرای برنامه متوقف نشود از متد <span class="redbold">dump</span>  می توان استفاده کرد.
</p>

<p><a name="method-diff"></a></p>
<p><br></p>
<h3>متد diff</h3>
<p>
این متد مقدار آیتم های یک مجموعه را با مجموعه دیگر مقایسه و در صورت عدم وجود،  برگشت داده خواهند شد :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$diff = $collection-&gt;diff([2, 4, 6, 8]);

$diff-&gt;all();

// [1, 3, 5]
</code></pre>

<p><a name="method-diffassoc"></a></p>
<p><br></p>
<h3>متد diffAssoc</h3>
<p>
این متد همانند متد diff  می باشد با این تفاوت که براساس key / value عمل می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    'color' =&gt; 'orange',
    'type' =&gt; 'fruit',
    'remain' =&gt; 6
]);

$diff = $collection-&gt;diffAssoc([
    'color' =&gt; 'yellow',
    'type' =&gt; 'fruit',
    'remain' =&gt; 3,
    'used' =&gt; 6
]);

$diff-&gt;all();

// ['color' =&gt; 'orange', 'remain' =&gt; 6]
</code></pre>

<p><a name="method-diffkeys"></a></p>
<p><br></p>
<h3>متد diffKeys</h3>
<p>
این متد همانند متد diff  بوده با این تفاوت که براساس  کلید عمل می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    'one' =&gt; 10,
    'two' =&gt; 20,
    'three' =&gt; 30,
    'four' =&gt; 40,
    'five' =&gt; 50,
]);

$diff = $collection-&gt;diffKeys([
    'two' =&gt; 2,
    'four' =&gt; 4,
    'six' =&gt; 6,
    'eight' =&gt; 8,
]);

$diff-&gt;all();

// ['one' =&gt; 10, 'three' =&gt; 30, 'five' =&gt; 50]
</code></pre>

<p><a name="method-dump"></a></p>
<p><br></p>
<h3>متد dump</h3>
<p>
این متد محتویات مجموعه را بدون متوقف کردن اجرای برنامه متوقف می کند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['John Doe', 'Jane Doe']);

$collection-&gt;dump();

/*
    Collection {
        #items: array:2 [
            0 =&gt; "John Doe"
            1 =&gt; "Jane Doe"
        ]
    }
*/
</code></pre>

<p><a name="method-each"></a></p>
<p><br></p>
<h3>متد each</h3>
<p>
  این متد هر بار یک آیتم از مجموعه دریافت و به متد callback جهت اجرای عملیات بر روی آن ارسال می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = $collection-&gt;each(function ($item, $key) {
    //
});
</code></pre>

<p>
با برگشت مقدار false  می توان روند اجرای each  را متوقف کرد :
</p>

<pre><code class="language-php  line-numbers">$collection = $collection-&gt;each(function ($item, $key) {
    if (/* some condition */) {
        return false;
    }
});
</code></pre>

<p><a name="method-eachspread"></a></p>
<p><br></p>
<h3>متد eachSpread</h3>

<p>
همانند متد each  بوده و آیتم های تودرتو را به callback  ارسال می کند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([['John Doe', 35], ['Jane Doe', 33]]);

$collection-&gt;eachSpread(function ($name, $age) {
    //
});
</code></pre>

<p><a name="method-every"></a></p>
<p><br></p>
<h3>متد every</h3>
<p>
از این متد جهت تایید آزمون مشخص روی تمامی عناصر استفاده می شود :

</p>

<pre><code class="language-php  line-numbers">collect([1, 2, 3, 4])-&gt;every(function ($value, $key) {
    return $value &gt; 2;
});

// false
</code></pre>

<p><a name="method-except"></a></p>
<p><br></p>
<h3>متد except</h3>
<p>
این متد تمامی عناصر به غیر از آیتم های مشخص شده را بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['product_id' =&gt; 1, 'price' =&gt; 100, 'discount' =&gt; false]);

$filtered = $collection-&gt;except(['price', 'discount']);

$filtered-&gt;all();

// ['product_id' =&gt; 1]
</code></pre>

<p><a name="method-filter"></a></p>
<p><br></p>
<h3>متد filter</h3>
<p>
از این متد جهت فیلتر کردن عناصر با یک شرط معین استفاده می شود :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4]);

$filtered = $collection-&gt;filter(function ($value, $key) {
    return $value &gt; 2;
});

$filtered-&gt;all();

// [3, 4]
</code></pre>

<p>
اگر شرطی تعیین نشود تمامی عناصر معادل false حذف خواهند شد :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, null, false, '', 0, []]);

$collection-&gt;filter()-&gt;all();

// [1, 2, 3]
</code></pre>

<p><a name="method-first"></a></p>
<p><br></p>
<h3>متد first</h3>
<p>
اولین آیتم که با گذر از شرط تعیین شده تایید شود برگشت داده خواهد شد :
</p>

<pre><code class="language-php  line-numbers">collect([1, 2, 3, 4])-&gt;first(function ($value, $key) {
    return $value &gt; 2;
});

// 3
</code></pre>

<p>
چنانچه شرطی تعیین نگردد اولین آیتم برگشت داده خواهد شد :
</p>

<pre><code class="language-php  line-numbers">collect([1, 2, 3, 4])-&gt;first();

// 1
</code></pre>

<p><a name="method-first-where"></a></p>
<p><br></p>
<h3>متد firstWhere</h3>
<p>
متد firstWhere اولین عنصر مجموعه که با کلید / ارزش معادل باشد باز می گرداند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['name' =&gt; 'Regena', 'age' =&gt; 12],
    ['name' =&gt; 'Linda', 'age' =&gt; 14],
    ['name' =&gt; 'Diego', 'age' =&gt; 23],
    ['name' =&gt; 'Linda', 'age' =&gt; 84],
]);

$collection-&gt;firstWhere('name', 'Linda');

// ['name' =&gt; 'Linda', 'age' =&gt; 14]
</code></pre>

<p>
همچنین می توانید این متد را با یک اپراتور فراخوانی کنید :
</p>

<pre><code class="language-php  line-numbers">$collection-&gt;firstWhere('age', '&gt;=', 18);

// ['name' =&gt; 'Diego', 'age' =&gt; 23]
</code></pre>

<p><a name="method-flatmap"></a></p>
<p><br></p>
<h3>متد flatMap</h3>
<p>
متد flatmap داخل یک collection حلقه زده و سپس تک تک المان های آن را به تابع callback ارسال می کند. تابع بازفراخوان (callback) می تواند آیتم های ارسالی را ویرایش کرده و برگرداند. بدین وسیله مجموعه ای جدید از آیتم های ویرایش شده به عنوان خروجی برگردانده می شود. در نهایت آرایه ها flatten شده و در قالب یک آرایه ی واحد و تک بعدی در خروجی به نمایش در می آید:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['name' =&gt; 'Sally'],
    ['school' =&gt; 'Arkansas'],
    ['age' =&gt; 28]
]);

$flattened = $collection-&gt;flatMap(function ($values) {
    return array_map('strtoupper', $values);
});

$flattened-&gt;all();

// ['name' =&gt; 'SALLY', 'school' =&gt; 'ARKANSAS', 'age' =&gt; '28'];
</code></pre>

<p><a name="method-flatten"></a></p>
<p><br></p>
<h3>متد flatten</h3>
<p>
این متد یک مجموعه ی چند بعدی را به یک collection تک بعدی تبدیل می کند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name' =&gt; 'taylor', 'languages' =&gt; ['php', 'javascript']]);

$flattened = $collection-&gt;flatten();

$flattened-&gt;all();

// ['taylor', 'php', 'javascript'];
</code></pre>

<p>
می توانید میزان "depth"  را به عنوان آرگومان ارسال کنیم :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    'Apple' =&gt; [
        ['name' =&gt; 'iPhone 6S', 'brand' =&gt; 'Apple'],
    ],
    'Samsung' =&gt; [
        ['name' =&gt; 'Galaxy S7', 'brand' =&gt; 'Samsung']
    ],
]);

$products = $collection-&gt;flatten(1);

$products-&gt;values()-&gt;all();

/*
    [
        ['name' =&gt; 'iPhone 6S', 'brand' =&gt; 'Apple'],
        ['name' =&gt; 'Galaxy S7', 'brand' =&gt; 'Samsung'],
    ]
*/
</code></pre>

<p><a name="method-flip"></a></p>
<p><br></p>
<h3>متد flip</h3>
<p>
این متد کلید و مقدار را جا به جا می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name' =&gt; 'taylor', 'framework' =&gt; 'laravel']);

$flipped = $collection-&gt;flip();

$flipped-&gt;all();

// ['taylor' =&gt; 'name', 'laravel' =&gt; 'framework']
</code></pre>

<p><a name="method-forget"></a></p>
<p><br></p>
<h3>متد forget</h3>
<p>
این متد آیتم را با استفاده از کلید مشخص شده حذف می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name' =&gt; 'taylor', 'framework' =&gt; 'laravel']);

$collection-&gt;forget('name');

$collection-&gt;all();

// ['framework' =&gt; 'laravel']
</code></pre>

<p><a name="method-forpage"></a></p>
<p><br></p>
<h3>متد forPage</h3>
<p>
روش forPage یک مجموعه جدید را که حاوی آیتم هایی است که در یک شماره صفحه مشخص وجود دارد، بازمی گرداند. این روش شماره صفحه را به عنوان اولین آرگومان و تعداد آیتم هایی که در هر صفحه نشان می دهد را  به عنوان آرگومان دوم می پذیرد :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9]);

$chunk = $collection-&gt;forPage(2, 3);

$chunk-&gt;all();

// [4, 5, 6]
</code></pre>

<p><a name="method-get"></a></p>
<p><br></p>
<h3>متد get</h3>
<p>
این متد یک آیتم را با استفاده از کلید آن باز می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name' =&gt; 'taylor', 'framework' =&gt; 'laravel']);

$value = $collection-&gt;get('name');

// taylor
</code></pre>

<p>
چنانچه کلیدی یافت نشود مقدار پیش فرض null  برگشت داده خواهد شد . می توان مقدار پیش فرض را مانند زیر تعیین کرد :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name' =&gt; 'taylor', 'framework' =&gt; 'laravel']);

$value = $collection-&gt;get('foo', 'default-value');

// default-value
</code></pre>

<p>
همچنین می توانید مقدار پیش فرض را با استفاده از روش callback  همانند زیر تعیین کنید :

</p>

<pre><code class="language-php  line-numbers">$collection-&gt;get('email', function () {
    return 'default-value';
});

// default-value
</code></pre>

<p><a name="method-groupby"></a></p>
<p><br></p>
<h3>متد groupBy</h3>
<p>
این متد آیتم های مجموعه را با استفاده از کلید گروه بندی می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Chair'],
    ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Bookcase'],
    ['account_id' =&gt; 'account-x11', 'product' =&gt; 'Desk'],
]);

$grouped = $collection-&gt;groupBy('account_id');

$grouped-&gt;toArray();

/*
    [
        'account-x10' =&gt; [
            ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Chair'],
            ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Bookcase'],
        ],
        'account-x11' =&gt; [
            ['account_id' =&gt; 'account-x11', 'product' =&gt; 'Desk'],
        ],
    ]
*/
</code></pre>

<p>
همچنین می توانید از روش callback  در این متد همانند زیر استفاده نمایید :
</p>

<pre><code class="language-php  line-numbers">$grouped = $collection-&gt;groupBy(function ($item, $key) {
    return substr($item['account_id'], -3);
});

$grouped-&gt;toArray();

/*
    [
        'x10' =&gt; [
            ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Chair'],
            ['account_id' =&gt; 'account-x10', 'product' =&gt; 'Bookcase'],
        ],
        'x11' =&gt; [
            ['account_id' =&gt; 'account-x11', 'product' =&gt; 'Desk'],
        ],
    ]
*/
</code></pre>

<p><a name="method-has"></a></p>
<p><br></p>
<h3>متد has</h3>
<p>
این متد بررسی می کند که آیا کلید مورد نظر وجود دارد یا خیر :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['account_id' =&gt; 1, 'product' =&gt; 'Desk']);

$collection-&gt;has('product');

// true
</code></pre>

<p><a name="method-implode"></a></p>
<p><br></p>
<h3>متد implode</h3>
<p>
متد implode عناصر موجود را به هم اتصال می دهد. اگر مجموعه شامل آرایه ها یا اشیاء باشد، باید کلید عناصر و رشته "اتصال" که می خواهید بین مقادیر قرار دهید را تعیین نمایید:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['account_id' =&gt; 1, 'product' =&gt; 'Desk'],
    ['account_id' =&gt; 2, 'product' =&gt; 'Chair'],
]);

$collection-&gt;implode('product', ', ');

// Desk, Chair
</code></pre>

<p>
آگر مجموعه شامل یک آرایه ساده باشد فقط کافی است رشته "اتصال" را مشخص نمایید :
</p>

<pre><code class="language-php  line-numbers">collect([1, 2, 3, 4, 5])-&gt;implode('-');

// '1-2-3-4-5'
</code></pre>

<p><a name="method-intersect"></a></p>
<p><br></p>
<h3>متد intersect</h3>
<p>
این متد هر آیتمی را از مجموعه اصلی که در آرایه یا مجموعه داده شده موجود نباشد حذف می کند. مجموعه نتیجه، کلیدهای اصلی مجموعه را حفظ خواهد کرد:
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['Desk', 'Sofa', 'Chair']);

$intersect = $collection-&gt;intersect(['Desk', 'Chair', 'Bookcase']);

$intersect-&gt;all();

// [0 =&gt; 'Desk', 2 =&gt; 'Chair']
</code></pre>

<p><a name="method-intersectbykeys"></a></p>
<p><br></p>
<h3>متد intersectByKeys</h3>
<p>
متد intersectByKeys هر کلید از مجموعه اصلی که در آرایه یا مجموعه داده شده موجود نباشد را حذف می کند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    'serial' =&gt; 'UX301', 'type' =&gt; 'screen', 'year' =&gt; 2009
]);

$intersect = $collection-&gt;intersectByKeys([
    'reference' =&gt; 'UX404', 'type' =&gt; 'tab', 'year' =&gt; 2011
]);

$intersect-&gt;all();

// ['type' =&gt; 'screen', 'year' =&gt; 2009]
</code></pre>

<p><br></p>
<p><a name="method-isempty"></a></p>
<h3>متد isEmpty</h3>
<p>
این متد چنانچه مجموعه خالی باشد مقدار true در غیر اینصورت مقدار false  بر می گرداند:
</p>
<pre><code class="language-php  line-numbers">collect([])-&gt;isEmpty();

// true
</code></pre>

<p><a name="method-isnotempty"></a></p>
<p><br></p>
<h3>متد isNotEmpty</h3>
<p>
چنانچه مجموعه خالی نباشد مقدار true  در غیر اینصورت مقدار false  بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">collect([])-&gt;isNotEmpty();

// false
</code></pre>

<p><a name="method-keyby"></a></p>
<p><br></p>
<h3>متد keyBy</h3>
<p>
متد keyBy مجموعه را با کلید داده شده کلید می کند. اگر چندین عنصر همان کلید را داشته باشند، تنها آخرین در مجموعه جدید ظاهر می شود:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['product_id' =&gt; 'prod-100', 'name' =&gt; 'Desk'],
    ['product_id' =&gt; 'prod-200', 'name' =&gt; 'Chair'],
]);

$keyed = $collection-&gt;keyBy('product_id');

$keyed-&gt;all();

/*
    [
        'prod-100' =&gt; ['product_id' =&gt; 'prod-100', 'name' =&gt; 'Desk'],
        'prod-200' =&gt; ['product_id' =&gt; 'prod-200', 'name' =&gt; 'Chair'],
    ]
*/
</code></pre>

<p>
همچنین می توانید از روش callback  در این متد استفاده نمایید :
</p>

<pre><code class="language-php  line-numbers">$keyed = $collection-&gt;keyBy(function ($item) {
    return strtoupper($item['product_id']);
});

$keyed-&gt;all();

/*
    [
        'PROD-100' =&gt; ['product_id' =&gt; 'prod-100', 'name' =&gt; 'Desk'],
        'PROD-200' =&gt; ['product_id' =&gt; 'prod-200', 'name' =&gt; 'Chair'],
    ]
*/
</code></pre>

<p><a name="method-keys"></a></p>
<p><br></p>
<h3>متد keys</h3>
<p>
این متد کلیه کلیدها را بر می گرداند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    'prod-100' =&gt; ['product_id' =&gt; 'prod-100', 'name' =&gt; 'Desk'],
    'prod-200' =&gt; ['product_id' =&gt; 'prod-200', 'name' =&gt; 'Chair'],
]);

$keys = $collection-&gt;keys();

$keys-&gt;all();

// ['prod-100', 'prod-200']
</code></pre>

<p><a name="method-last"></a></p>
<p><br></p>
<h3>متد last</h3>
<p>
آخرین آیتم که مصداق یک شرط مشخص باشد را برمی گرداند :
</p>

<pre><code class="language-php  line-numbers">collect([1, 2, 3, 4])-&gt;last(function ($value, $key) {
    return $value &lt; 3;
});

// 2
</code></pre>

<p>
اگر شرطی تعیین نشود آخرین عنصر برگشت داده خواهد شد.
</p>

<pre><code class="language-php  line-numbers">collect([1, 2, 3, 4])-&gt;last();

// 4
</code></pre>

<p><a name="method-macro"></a></p>
<p><br></p>
<h3>متد macro</h3>
<p>
با استفتده از این متد می توان متدهای مورد نظر خود را به این کلاس اضافه نماییم.
</p>

<p><a name="method-make"></a></p>
<p><br></p>
<h3>متد make</h3>
<p>
این متد نمونه ای از کلاس collection  را ایجاد می کند.
</p>

<p><a name="method-map"></a></p>
<p><br></p>
<h3>متد map</h3>
<p>
متد map داخل مجموعه حلقه زده و سپس هر مقدار را به تابع callback پاس می دهد. callback می تواند آیتم را ویرایش نموده و آن را در خروجی برگرداند. بدین وسیله یک نمونه ی جدید از مجموعه، متشکل از آیتم های ویرایش شده ی collection اصلی در خروجی ارائه می شود:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$multiplied = $collection-&gt;map(function ($item, $key) {
    return $item * 2;
});

$multiplied-&gt;all();

// [2, 4, 6, 8, 10]
</code></pre>

<p><a name="method-mapinto"></a></p>
<p><br></p>
<h3>متد mapInto</h3>
<p>
روش mapInto  بر روی مجموعه حلقه می زند، و  یک نمونه جدید از کلاس داده شده با گذراندن مقدار به سازنده ایجاد می کند:
</p>

<pre><code class="language-php  line-numbers">class Currency
{
    /**
     * Create a new currency instance.
     *
     * @param  string  $code
     * @return void
     */
    function __construct(string $code)
    {
        $this-&gt;code = $code;
    }
}

$collection = collect(['USD', 'EUR', 'GBP']);

$currencies = $collection-&gt;mapInto(Currency::class);

$currencies-&gt;all();

// [Currency('USD'), Currency('EUR'), Currency('GBP')]
</code></pre>

<p><a name="method-mapspread"></a></p>
<p><br></p>
<h3>متد mapSpread</h3>
<p>The <span class="redbold">mapSpread</span> method iterates over the collection's items, passing each nested item value into the given callback. The callback is free to modify the item and return it, thus forming a new collection of modified items:</p>

<pre><code class="language-php  line-numbers">$collection = collect([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]);

$chunks = $collection-&gt;chunk(2);

$sequence = $chunks-&gt;mapSpread(function ($odd, $even) {
    return $odd + $even;
});

$sequence-&gt;all();

// [1, 5, 9, 13, 17]
</code></pre>

<p><a name="method-maptogroups"></a></p>
<p><br></p>
<h3>متد mapToGroups</h3>
<p>The <span class="redbold">mapToGroups</span> method groups the collection's items by the given callback. The callback should return an associative array containing a single key / value pair, thus forming a new collection of grouped values:</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    [
        'name' =&gt; 'John Doe',
        'department' =&gt; 'Sales',
    ],
    [
        'name' =&gt; 'Jane Doe',
        'department' =&gt; 'Sales',
    ],
    [
        'name' =&gt; 'Johnny Doe',
        'department' =&gt; 'Marketing',
    ]
]);

$grouped = $collection-&gt;mapToGroups(function ($item, $key) {
    return [$item['department'] =&gt; $item['name']];
});

$grouped-&gt;toArray();

/*
    [
        'Sales' =&gt; ['John Doe', 'Jane Doe'],
        'Marketing' =&gt; ['Johhny Doe'],
    ]
*/

$grouped-&gt;get('Sales')-&gt;all();

// ['John Doe', 'Jane Doe']
</code></pre>

<p><a name="method-mapwithkeys"></a></p>
<p><br></p>
<h3>متد mapWithKeys</h3>
<p>The <span class="redbold">mapWithKeys</span> method iterates through the collection and passes each value to the given callback. The callback should return an associative array containing a single key / value pair:</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    [
        'name' =&gt; 'John',
        'department' =&gt; 'Sales',
        'email' =&gt; 'john@example.com'
    ],
    [
        'name' =&gt; 'Jane',
        'department' =&gt; 'Marketing',
        'email' =&gt; 'jane@example.com'
    ]
]);

$keyed = $collection-&gt;mapWithKeys(function ($item) {
    return [$item['email'] =&gt; $item['name']];
});

$keyed-&gt;all();

/*
    [
        'john@example.com' =&gt; 'John',
        'jane@example.com' =&gt; 'Jane',
    ]
*/
</code></pre>

<p><a name="method-max"></a></p>
<p><br></p>
<h3>متد max</h3>
<p>
مقدار max  را براساس کلید بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$max = collect([['foo' =&gt; 10], ['foo' =&gt; 20]])-&gt;max('foo');

// 20

$max = collect([1, 2, 3, 4, 5])-&gt;max();

// 5
</code></pre>

<p><a name="method-median"></a></p>
<p><br></p>
<h3>متد median</h3>
<p>
این متد مقدار متوسط مجموعه را بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$median = collect([['foo' =&gt; 10], ['foo' =&gt; 10], ['foo' =&gt; 20], ['foo' =&gt; 40]])-&gt;median('foo');

// 15

$median = collect([1, 1, 2, 4])-&gt;median();

// 1.5
</code></pre>

<p><a name="method-merge"></a></p>
<p><br></p>
<h3>متد merge</h3>
<p>
این متد عناصر یک مجموعه را با مجموعه دیگر ادغام می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['product_id' =&gt; 1, 'price' =&gt; 100]);

$merged = $collection-&gt;merge(['price' =&gt; 200, 'discount' =&gt; false]);

$merged-&gt;all();

// ['product_id' =&gt; 1, 'price' =&gt; 200, 'discount' =&gt; false]
</code></pre>

<p>
مثال :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['Desk', 'Chair']);

$merged = $collection-&gt;merge(['Bookcase', 'Door']);

$merged-&gt;all();

// ['Desk', 'Chair', 'Bookcase', 'Door']
</code></pre>

<p><a name="method-min"></a></p>
<p><br></p>
<h3>متد min</h3>
<p>
مقدار min  را براساس کلید بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$min = collect([['foo' =&gt; 10], ['foo' =&gt; 20]])-&gt;min('foo');

// 10

$min = collect([1, 2, 3, 4, 5])-&gt;min();

// 1
</code></pre>

<p><a name="method-mode"></a></p>
<p><br></p>
<h3>متد mode</h3>
<p>
مقدار mode  را براساس کلید بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$mode = collect([['foo' =&gt; 10], ['foo' =&gt; 10], ['foo' =&gt; 20], ['foo' =&gt; 40]])-&gt;mode('foo');

// [10]

$mode = collect([1, 1, 2, 4])-&gt;mode();

// [1]
</code></pre>

<p><a name="method-nth"></a></p>
<p><br></p>
<h3>متد nth</h3>
<p>The <span class="redbold">nth</span> method creates a new collection consisting of every n-th element:</p>

<pre><code class="language-php  line-numbers">$collection = collect(['a', 'b', 'c', 'd', 'e', 'f']);

$collection-&gt;nth(4);

// ['a', 'e']
</code></pre>

<p>You may optionally pass an offset as the second argument:</p>

<pre><code class="language-php  line-numbers">$collection-&gt;nth(4, 1);

// ['b', 'f']
</code></pre>

<p><a name="method-only"></a></p>
<p><br></p>
<h3>متد only</h3>
<p>
آیتم های موجود در مجموعه را با کلیدهای مشخصی باز می گرداند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['product_id' =&gt; 1, 'name' =&gt; 'Desk', 'price' =&gt; 100, 'discount' =&gt; false]);

$filtered = $collection-&gt;only(['product_id', 'name']);

$filtered-&gt;all();

// ['product_id' =&gt; 1, 'name' =&gt; 'Desk']
</code></pre>

<p><a name="method-pad"></a></p>
<p><br></p>
<h3>متد pad</h3>
<p>
روش pad آرایه را با مقدار داده شده پر می کند تا آرایه به اندازه مشخصی برسد. این روش مانند تابع array_pad PHP عمل می کند.
</p>

<p>
برای قرار دادن به سمت چپ، شما باید اندازه منفی را مشخص کنید. در صورتی که مقدار مطلق اندازه داده شده کمتر یا برابر طول آرایه باشد، هیچ مکانی وجود نخواهد داشت:
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['A', 'B', 'C']);

$filtered = $collection-&gt;pad(5, 0);

$filtered-&gt;all();

// ['A', 'B', 'C', 0, 0]

$filtered = $collection-&gt;pad(-5, 0);

$filtered-&gt;all();

// [0, 0, 'A', 'B', 'C']
</code></pre>

<p><a name="method-partition"></a></p>
<p><br></p>
<h3>متد partition</h3>
<p>
از این متد جهت جدا کردن آیتم هایی که مورد تایید شرط مورد نظر هستند و آیتم هایی که مورد تایید شرط نیستند استفاده می گردد:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5, 6]);

list($underThree, $aboveThree) = $collection-&gt;partition(function ($i) {
    return $i &lt; 3;
});
</code></pre>

<p><a name="method-pipe"></a></p>
<p><br></p>
<h3>متد pipe</h3>
<p>
این متد نوع داده collection را به callback ارسال می کند و نتیجه آنرا بر می گرداند  :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3]);

$piped = $collection-&gt;pipe(function ($collection) {
    return $collection-&gt;sum();
});

// 6
</code></pre>

<p><a name="method-pluck"></a></p>
<p><br></p>
<h3>متد pluck</h3>
<p>
این متد تمام مقادیر به ازای کلید معین شده بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['product_id' =&gt; 'prod-100', 'name' =&gt; 'Desk'],
    ['product_id' =&gt; 'prod-200', 'name' =&gt; 'Chair'],
]);

$plucked = $collection-&gt;pluck('name');

$plucked-&gt;all();

// ['Desk', 'Chair']
</code></pre>

<p>
همچنین می توانید کلید خروجی را برای نتایج تعیین کنید :
</p>

<pre><code class="language-php  line-numbers">$plucked = $collection-&gt;pluck('name', 'product_id');

$plucked-&gt;all();

// ['prod-100' =&gt; 'Desk', 'prod-200' =&gt; 'Chair']
</code></pre>

<p><a name="method-pop"></a></p>
<p><br></p>
<h3>متد pop</h3>
<p>
این متد آخرین عنصر مجموعه را بر می گرداند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$collection-&gt;pop();

// 5

$collection-&gt;all();

// [1, 2, 3, 4]
</code></pre>

<p><a name="method-prepend"></a></p>
<p><br></p>
<h3>متد prepend</h3>
<p>
این متد یک آیتم را به ابتدای مجموعه اضافه می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$collection-&gt;prepend(0);

$collection-&gt;all();

// [0, 1, 2, 3, 4, 5]
</code></pre>

<p>
همچنین از آرگومان دوم به عنوان کلید استفاده نمایید :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['one' =&gt; 1, 'two' =&gt; 2]);

$collection-&gt;prepend(0, 'zero');

$collection-&gt;all();

// ['zero' =&gt; 0, 'one' =&gt; 1, 'two' =&gt; 2]
</code></pre>

<p><a name="method-pull"></a></p>
<p><br></p>
<h3>متد pull</h3>
<p>
این متد یک آیتم را با کلید تعیین شده بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['product_id' =&gt; 'prod-100', 'name' =&gt; 'Desk']);

$collection-&gt;pull('name');

// 'Desk'

$collection-&gt;all();

// ['product_id' =&gt; 'prod-100']
</code></pre>

<p><a name="method-push"></a></p>
<p><br></p>
<h3>متد push</h3>
<p>
این متد آیتم را به انتهای مجموعه اضافه می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4]);

$collection-&gt;push(5);

$collection-&gt;all();

// [1, 2, 3, 4, 5]
</code></pre>

<p><a name="method-put"></a></p>
<p><br></p>
<h3>متد put</h3>
<p>
این متد یک عنصر را با کلید و مقدار مشخص در مجموعه قرار می دهد :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['product_id' =&gt; 1, 'name' =&gt; 'Desk']);

$collection-&gt;put('price', 100);

$collection-&gt;all();

// ['product_id' =&gt; 1, 'name' =&gt; 'Desk', 'price' =&gt; 100]
</code></pre>

<p><a name="method-random"></a></p>
<p><br></p>
<h3>متد random</h3>
<p>
یک آیتم را بصورت تصادفی از مجموعه بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$collection-&gt;random();

// 4 - (retrieved randomly)
</code></pre>

<p>
همچنین می توانید تعداد آیتم هایی که بصورت تصادفی برگشت دا می شوند را تعیین کنید :
</p>

<pre><code class="language-php  line-numbers">$random = $collection-&gt;random(3);

$random-&gt;all();

// [2, 4, 5] - (retrieved randomly)
</code></pre>

<p><a name="method-reduce"></a></p>
<p><br></p>
<h3>متد reduce</h3>
<p>
این متد مجموعه را به یک مقدار کاهش می دهد ، و نتیجه هر تکرار را به تکرار بعدی انتقال می دهد :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3]);

$total = $collection-&gt;reduce(function ($carry, $item) {
    return $carry + $item;
});

// 6
</code></pre>

<p>
مقدار  carry$ در تکرار اول null است؛ با این وجود، شما می توانید مقدار اولیه آن را تعیین نمایید:
</p>

<pre><code class="language-php  line-numbers">$collection-&gt;reduce(function ($carry, $item) {
    return $carry + $item;
}, 4);

// 10
</code></pre>

<p><a name="method-reject"></a></p>
<p><br></p>
<h3>متد reject</h3>

<p>
این متد آیتم که مصداق شرط تعیین شده نباشند را بر می گرداند و برعکس متد filter  عمل می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4]);

$filtered = $collection-&gt;reject(function ($value, $key) {
    return $value &gt; 2;
});

$filtered-&gt;all();

// [1, 2]
</code></pre>

<p><a name="method-reverse"></a></p>
<p><br></p>
<h3>متد reverse</h3>
<p>
این متد ترتیب عناصر مجموعه را با حفظ کلید آن معکوس می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['a', 'b', 'c', 'd', 'e']);

$reversed = $collection-&gt;reverse();

$reversed-&gt;all();

/*
    [
        4 =&gt; 'e',
        3 =&gt; 'd',
        2 =&gt; 'c',
        1 =&gt; 'b',
        0 =&gt; 'a',
    ]
*/
</code></pre>

<p><a name="method-search"></a></p>
<p><br></p>
<h3>متد search</h3>
<p>
مجموعه ای را برای مقدار داده شده جستجو می کند و کلید آن را در صورت وجود بر می گرداند. اگر مورد یافت نشد، مقدار false  را بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([2, 4, 6, 8]);

$collection-&gt;search(4);

// 1
</code></pre>

<p>
در حالت پیش فرض از روش "loose" جهت مقایسه و جستجو استفاده می شود برای جستجو با استفاده از روش "strict مقدار true  را به عنوان آرگومان دوم ارسال می کنیم :

</p>

<pre><code class="language-php  line-numbers">$collection-&gt;search('4', true);

// false
</code></pre>

<p>
همچنین می توانید از callback  در این متد استفاده نمایید :
</p>

<pre><code class="language-php  line-numbers">$collection-&gt;search(function ($item, $key) {
    return $item &gt; 5;
});

// 2
</code></pre>

<p><a name="method-shift"></a></p>
<p><br></p>
<h3>متد shift</h3>
<p>
عملیات shift  به راست را در مجموعه انجام می دهد و اولین عنصر را بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$collection-&gt;shift();

// 1

$collection-&gt;all();

// [2, 3, 4, 5]
</code></pre>

<p><a name="method-shuffle"></a></p>
<p><br></p>
<h3>متد shuffle</h3>
<p>
عناصر موجود در مجموعه را بصورت تصادفی جا به جا می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$shuffled = $collection-&gt;shuffle();

$shuffled-&gt;all();

// [3, 2, 5, 1, 4] - (generated randomly)
</code></pre>

<p><a name="method-slice"></a></p>
<p><br></p>
<h3>متد slice</h3>
<p>
تکه ای از مجموعه را با شروع از index معین شده بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5, 6, 7, 8, 9, 10]);

$slice = $collection-&gt;slice(4);

$slice-&gt;all();

// [5, 6, 7, 8, 9, 10]
</code></pre>

<p>
چنانچه بخواهیم تعداد نیز مشخص شود آن را به عنوان آرگومان دوم در متد مشخص می نماییم :
</p>

<pre><code class="language-php  line-numbers">$slice = $collection-&gt;slice(4, 2);

$slice-&gt;all();

// [5, 6]
</code></pre>

<p>
تکه بازگشتی به طور پیش فرض کلید را حفظ می کند. اگر نمی خواهید کلیدهای اصلی را حفظ کنید، میتوانید از متد values برای reindex استفاده کنید :
</p>

<p><a name="method-sort"></a></p>
<p><br></p>
<h3>متد sort</h3>
<p>
از این متد جهت مرتب سازی مجموعه استفاده می شود. مجموعه مرتب شده،  کلیدهای آرایه را حفظ می کند، بنابراین در این مثال از متد values برای reindex کلیدها استفاده کردیم :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([5, 3, 1, 2, 4]);

$sorted = $collection-&gt;sort();

$sorted-&gt;values()-&gt;all();

// [1, 2, 3, 4, 5]
</code></pre>

<p><a name="method-sortby"></a></p>
<p><br></p>
<h3>متد sortBy</h3>
<p>
از این متد جهت مرتب سازی بر اساس کلید معین شده استفاده می گردد :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['name' =&gt; 'Desk', 'price' =&gt; 200],
    ['name' =&gt; 'Chair', 'price' =&gt; 100],
    ['name' =&gt; 'Bookcase', 'price' =&gt; 150],
]);

$sorted = $collection-&gt;sortBy('price');

$sorted-&gt;values()-&gt;all();

/*
    [
        ['name' =&gt; 'Chair', 'price' =&gt; 100],
        ['name' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['name' =&gt; 'Desk', 'price' =&gt; 200],
    ]
*/
</code></pre>

<p>
همچنین می توان از روش callback در این متد استفاده نمایید :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['name' =&gt; 'Desk', 'colors' =&gt; ['Black', 'Mahogany']],
    ['name' =&gt; 'Chair', 'colors' =&gt; ['Black']],
    ['name' =&gt; 'Bookcase', 'colors' =&gt; ['Red', 'Beige', 'Brown']],
]);

$sorted = $collection-&gt;sortBy(function ($product, $key) {
    return count($product['colors']);
});

$sorted-&gt;values()-&gt;all();

/*
    [
        ['name' =&gt; 'Chair', 'colors' =&gt; ['Black']],
        ['name' =&gt; 'Desk', 'colors' =&gt; ['Black', 'Mahogany']],
        ['name' =&gt; 'Bookcase', 'colors' =&gt; ['Red', 'Beige', 'Brown']],
    ]
*/
</code></pre>

<p><a name="method-sortbydesc"></a></p>
<p><br></p>
<h3>متد sortByDesc</h3>
<p>
همانند متد sort می باشد با این تفاوت که بصورت نزولی مرتب می کند :
</p>

<p><a name="method-splice"></a></p>
<p><br></p>
<h3>متد splice</h3>
<p>
این متد تکه ای از مجموعه را با شروع از index  مشخص  حذف و آن را بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$chunk = $collection-&gt;splice(2);

$chunk-&gt;all();

// [3, 4, 5]

$collection-&gt;all();

// [1, 2]
</code></pre>

<p>
همچنین می توانید تعداد آیتم ها را در آرگومان دوم مشخص نمایید :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$chunk = $collection-&gt;splice(2, 1);

$chunk-&gt;all();

// [3]

$collection-&gt;all();

// [1, 2, 4, 5]
</code></pre>

<p>
در ادامه می توان در آرگومان سوم آیتم هایی را به عنوان جایگزین مشخص نمود :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$chunk = $collection-&gt;splice(2, 1, [10, 11]);

$chunk-&gt;all();

// [3]

$collection-&gt;all();

// [1, 2, 10, 11, 4, 5]
</code></pre>

<p><a name="method-split"></a></p>
<p><br></p>
<h3>متد split</h3>
<p>
از این متد جهت گروه بندی کردن مجموعه به تعداد مشخص استفاده می شود :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$groups = $collection-&gt;split(3);

$groups-&gt;toArray();

// [[1, 2], [3, 4], [5]]
</code></pre>

<p><a name="method-sum"></a></p>
<p><br></p>
<h3>متد sum</h3>
<p>
این متد مقادیر آیتم ها را جمع و باز می گرداند :
</p>

<pre><code class="language-php  line-numbers">collect([1, 2, 3, 4, 5])-&gt;sum();

// 15
</code></pre>

<p>
همچنین می توانید کلید معینی جهت جمع کردن مقادیر آیتم ها مشخص نمایید :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['name' =&gt; 'JavaScript: The Good Parts', 'pages' =&gt; 176],
    ['name' =&gt; 'JavaScript: The Definitive Guide', 'pages' =&gt; 1096],
]);

$collection-&gt;sum('pages');

// 1272
</code></pre>

<p>
همچنین می توانید از روش callback در این متد استفاده نمایید :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['name' =&gt; 'Chair', 'colors' =&gt; ['Black']],
    ['name' =&gt; 'Desk', 'colors' =&gt; ['Black', 'Mahogany']],
    ['name' =&gt; 'Bookcase', 'colors' =&gt; ['Red', 'Beige', 'Brown']],
]);

$collection-&gt;sum(function ($product) {
    return count($product['colors']);
});

// 6
</code></pre>

<p><a name="method-take"></a></p>
<p><br></p>
<h3>متد take</h3>
<p>
یک مجموعه جدید با تعداد مشخص آیتم را برمی گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([0, 1, 2, 3, 4, 5]);

$chunk = $collection-&gt;take(3);

$chunk-&gt;all();

// [0, 1, 2]
</code></pre>

<p>
همچنین می توانید از یک عدد منفی به عنوان آرگومان استفاده نمایید که در اینصورت از انتهای مجموعه آیتم ها برگردانده می شوند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([0, 1, 2, 3, 4, 5]);

$chunk = $collection-&gt;take(-2);

$chunk-&gt;all();

// [4, 5]
</code></pre>

<p><a name="method-tap"></a></p>
<p><br></p>
<h3>متد tap</h3>
<p>The <span class="redbold">tap</span> method passes the collection to the given callback, allowing you to "tap" into the collection at a specific point and do something with the items while not affecting the collection itself:</p>

<pre><code class="language-php  line-numbers">collect([2, 4, 3, 1, 5])
    -&gt;sort()
    -&gt;tap(function ($collection) {
        Log::debug('Values after sorting', $collection-&gt;values()-&gt;toArray());
    })
    -&gt;shift();

// 1
</code></pre>

<p><a name="method-times"></a></p>
<p><br></p>
<h3>متد times</h3>
<p>
این متد تعداد دفعات اجرای متد callback  تعیین شده را تعیین می کند و مقدار آن را در هر بار اجرا بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = Collection::times(10, function ($number) {
    return $number * 9;
});

$collection-&gt;all();

// [9, 18, 27, 36, 45, 54, 63, 72, 81, 90]
</code></pre>

<p>
این متد می تواند در Eloquent models مانند زیر مفید باشد :
</p>

<pre><code class="language-php  line-numbers">$categories = Collection::times(3, function ($number) {
    return factory(Category::class)-&gt;create(['name' =&gt; 'Category #'.$number]);
});

$categories-&gt;all();

/*
    [
        ['id' =&gt; 1, 'name' =&gt; 'Category #1'],
        ['id' =&gt; 2, 'name' =&gt; 'Category #2'],
        ['id' =&gt; 3, 'name' =&gt; 'Category #3'],
    ]
*/
</code></pre>

<p><a name="method-toarray"></a></p>
<p><br></p>
<h3>متد toArray</h3>
<p>
عناصر موجود در مجموعه را بصورت آرایه بر می گرداند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name' =&gt; 'Desk', 'price' =&gt; 200]);

$collection-&gt;toArray();

/*
    [
        ['name' =&gt; 'Desk', 'price' =&gt; 200],
    ]
*/
</code></pre>

<p><a name="method-tojson"></a></p>
<p><br></p>
<h3>متد toJson</h3>
<p>
عناصر موجود در مجموعه را بصورت JSON  بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['name' =&gt; 'Desk', 'price' =&gt; 200]);

$collection-&gt;toJson();

// '{"name":"Desk", "price":200}'
</code></pre>

<p><a name="method-transform"></a></p>
<p><br></p>
<h3>متد transform</h3>
<p>
این متد مقادیر تغییر یافته بعد از عملیات صورت گرفته بر روی عناصر مجموعه در  callback را جایگزین عناصر اصلی مجموعه می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3, 4, 5]);

$collection-&gt;transform(function ($item, $key) {
    return $item * 2;
});

$collection-&gt;all();

// [2, 4, 6, 8, 10]
</code></pre>

<p>
اگر بخواهیم بر روی مجموعه اصلی تغییری حاصل نشود از متد map  استفاده نمایید.
</p>

<p><a name="method-union"></a></p>
<p><br></p>
<h3>متد union</h3>
<p>
این متد آرایه داده شده را به مجموعه اضافه می کند. اگر آرایه داده شده شامل کلید هایی است که قبلا در مجموعه اصلی هستند، مقادیر اصلی مجموعه ترجیح داده می شود:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1 =&gt; ['a'], 2 =&gt; ['b']]);

$union = $collection-&gt;union([3 =&gt; ['c'], 1 =&gt; ['b']]);

$union-&gt;all();

// [1 =&gt; ['a'], 2 =&gt; ['b'], 3 =&gt; ['c']]
</code></pre>

<p><a name="method-unique"></a></p>
<p><br></p>
<h3>متد unique</h3>
<p>
این متد تمام اقلام منحصر به فرد در مجموعه را باز می گرداند. مجموعه بازگشتی،  کلیدهای آرایه را نگه می دارد، بنابراین در این مثال از متد values برای بازنشانی کلید استفاده می کنیم:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 1, 2, 2, 3, 4, 2]);

$unique = $collection-&gt;unique();

$unique-&gt;values()-&gt;all();

// [1, 2, 3, 4]
</code></pre>

<p>
هنگام استفاده با آرایه های تودرتو و یا اشیاء ، می توانید کلید مورد استفاده برای تعیین منحصر به فرد بودن را تعیین کنید:
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['name' =&gt; 'iPhone 6', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
    ['name' =&gt; 'iPhone 5', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
    ['name' =&gt; 'Apple Watch', 'brand' =&gt; 'Apple', 'type' =&gt; 'watch'],
    ['name' =&gt; 'Galaxy S6', 'brand' =&gt; 'Samsung', 'type' =&gt; 'phone'],
    ['name' =&gt; 'Galaxy Gear', 'brand' =&gt; 'Samsung', 'type' =&gt; 'watch'],
]);

$unique = $collection-&gt;unique('brand');

$unique-&gt;values()-&gt;all();

/*
    [
        ['name' =&gt; 'iPhone 6', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
        ['name' =&gt; 'Galaxy S6', 'brand' =&gt; 'Samsung', 'type' =&gt; 'phone'],
    ]
*/
</code></pre>

<p>
همچنین می توانید از callback  در این متد استفاده نمایید :
</p>

<pre><code class="language-php  line-numbers">$unique = $collection-&gt;unique(function ($item) {
    return $item['brand'].$item['type'];
});

$unique-&gt;values()-&gt;all();

/*
    [
        ['name' =&gt; 'iPhone 6', 'brand' =&gt; 'Apple', 'type' =&gt; 'phone'],
        ['name' =&gt; 'Apple Watch', 'brand' =&gt; 'Apple', 'type' =&gt; 'watch'],
        ['name' =&gt; 'Galaxy S6', 'brand' =&gt; 'Samsung', 'type' =&gt; 'phone'],
        ['name' =&gt; 'Galaxy Gear', 'brand' =&gt; 'Samsung', 'type' =&gt; 'watch'],
    ]
*/
</code></pre>

<p><a name="method-uniquestrict"></a></p>
<p><br></p>
<h3>متد uniqueStrict</h3>
<p>
همانند متد unique  عمل می کند با این تفاوت که از روش  "strict"  در مقایسه های خود استفاده می کند.
</p>

<p><a name="method-unless"></a></p>
<p><br></p>
<h3>متد unless</h3>
<p>
این متد callback  مشخص شده را اجرا می کند مگر اینگه آرگومان اول true  باشد.
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3]);

$collection-&gt;unless(true, function ($collection) {
    return $collection-&gt;push(4);
});

$collection-&gt;unless(false, function ($collection) {
    return $collection-&gt;push(5);
});

$collection-&gt;all();

// [1, 2, 3, 5]
</code></pre>

<p>
این متد عکس متد when  عمل می کند.
</p>

<p><a name="method-unwrap"></a></p>
<p><br></p>
<h3>متد unwrap</h3>
<p>The static <span class="redbold">unwrap</span> method returns the collection's underlying items from the given value when applicable:</p>

<pre><code class="language-php  line-numbers">Collection::unwrap(collect('John Doe'));

// ['John Doe']

Collection::unwrap(['John Doe']);

// ['John Doe']

Collection::unwrap('John Doe');

// 'John Doe'
</code></pre>

<p><a name="method-values"></a></p>
<p><br></p>
<h3>متد values</h3>
<p>
این متد کلیدها را بصورت اعداد صحیح متوالی باز نشانی می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    10 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
    11 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200]
]);

$values = $collection-&gt;values();

$values-&gt;all();

/*
    [
        0 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
        1 =&gt; ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ]
*/
</code></pre>

<p><a name="method-when"></a></p>
<p><br></p>
<h3>متد when</h3>
<p>
این متد callback  مورد نظر را زمانیکه آرگومان اول برابر true  باشد را اجرا می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([1, 2, 3]);

$collection-&gt;when(true, function ($collection) {
    return $collection-&gt;push(4);
});

$collection-&gt;when(false, function ($collection) {
    return $collection-&gt;push(5);
});

$collection-&gt;all();

// [1, 2, 3, 4]
</code></pre>

<p>
این متد عکس متد unless  عمل می کند.
</p>

<p><a name="method-where"></a></p>
<p><br></p>
<h3>متد where</h3>
<p>
این متد عملیات filter  را براساس key /value  اعمال می کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ['product' =&gt; 'Chair', 'price' =&gt; 100],
    ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
    ['product' =&gt; 'Door', 'price' =&gt; 100],
]);

$filtered = $collection-&gt;where('price', 100);

$filtered-&gt;all();

/*
    [
        ['product' =&gt; 'Chair', 'price' =&gt; 100],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]
*/
</code></pre>

<p><a name="method-wherestrict"></a></p>
<p><br></p>
<h3>متد whereStrict</h3>
<p>
این متد همانند متد where  بوده با این تفاوت که از روش مقایسه "strict" استفاده می کند :
</p>

<p><a name="method-wherein"></a></p>
<p><br></p>
<h3>متد whereIn</h3>
<p>
این متد همانند متد where  بوده با این تفاوت که مقادیر را می تواند بصورت آرایه دریافت کند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ['product' =&gt; 'Chair', 'price' =&gt; 100],
    ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
    ['product' =&gt; 'Door', 'price' =&gt; 100],
]);

$filtered = $collection-&gt;whereIn('price', [150, 200]);

$filtered-&gt;all();

/*
    [
        ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
        ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ]
*/
</code></pre>

<p><a name="method-whereinstrict"></a></p>
<p><br></p>
<h3>متد whereInStrict</h3>
<p>
این متد همانند متد where  بوده با این تفاوت که از روش مقایسه "strict" استفاده می کند :
</p>

<p><a name="method-wherenotin"></a></p>
<p><br></p>
<h3>متد whereNotIn</h3>
<p>
این متد عکس متد where  عمل می کند و مقادیری که در آرایه تعیین شده نباشند را بر می گرداند :
</p>

<pre><code class="language-php  line-numbers">$collection = collect([
    ['product' =&gt; 'Desk', 'price' =&gt; 200],
    ['product' =&gt; 'Chair', 'price' =&gt; 100],
    ['product' =&gt; 'Bookcase', 'price' =&gt; 150],
    ['product' =&gt; 'Door', 'price' =&gt; 100],
]);

$filtered = $collection-&gt;whereNotIn('price', [150, 200]);

$filtered-&gt;all();

/*
    [
        ['product' =&gt; 'Chair', 'price' =&gt; 100],
        ['product' =&gt; 'Door', 'price' =&gt; 100],
    ]
*/
</code></pre>

<p><a name="method-wherenotinstrict"></a></p>
<p><br></p>
<h3>متد whereNotInStrict</h3>
<p>
این متد همانند متد whereNotIn  بوده با این تفاوت که از روش مقایسه "strict" استفاده می کند :
</p>

<p><a name="method-wrap"></a></p>
<p><br></p>
<h3>متد wrap</h3>
<p>The static <span class="redbold">wrap</span> method wraps the given value in a collection when applicable:</p>

<pre><code class="language-php  line-numbers">$collection = Collection::wrap('John Doe');

$collection-&gt;all();

// ['John Doe']

$collection = Collection::wrap(['John Doe']);

$collection-&gt;all();

// ['John Doe']

$collection = Collection::wrap(collect('John Doe'));

$collection-&gt;all();

// ['John Doe']
</code></pre>

<p><a name="method-zip"></a></p>
<p><br></p>
<h3>متد zip</h3>
<p>
متد zip() مقادیر آرایه ی ورودی را با مقادیر موجود در مجموعه در اندیس منطبق (که دارای شماره ی مکان قرارگیری یکسان است) ترکیب می کند:
</p>

<pre><code class="language-php  line-numbers">$collection = collect(['Chair', 'Desk']);

$zipped = $collection-&gt;zip([100, 200]);

$zipped-&gt;all();

// [['Chair', 100], ['Desk', 200]]
</code></pre>


        </section>
        
<hr>
<p>
</p>
<div>منابع مورد مطالعه جهت جمع آوری این مطلب:</div>
<div class="refrencehref">
        https://laravel.com/docs/5.5/collections
</div>


        <hr>
        <style>
    #commentsdiv{
        background-color: #f5f5f5;
        border: 1px solid #c5c5c5;
        border-bottom: 0px !important;
        padding: 12px;
    }
    #commentsborder{
        background-color: #fff;
        border: 1px solid #c5c5c5;
        white-space: normal;
        padding: 20px;
    }
</style>

<div id="commentsdiv">نظرات</div>
<div id="commentsborder">
<div id="wpac-comment"></div>
</div>
<script type="text/javascript">
wpac_init = window.wpac_init || [];
wpac_init.push({widget: 'Comment', id: 7878});
(function() {
    if ('WIDGETPACK_LOADED' in window) return;
    WIDGETPACK_LOADED = true;
    var mc = document.createElement('script');
    mc.type = 'text/javascript';
    mc.async = true;
    mc.src = 'https://embed.widgetpack.com/widget.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
})();
</script>

    </article>
</div>
<script src="/assets/js/anchor.min.js"></script>
<script>
    anchors.options = {
        placement: 'left',
        visible: 'always',
//        icon: '#',
    };
    anchors.add('.anchored h2,.anchored h3,.anchored h4,.anchored h5,.anchored h6');

    (function($){
        if(window.location.hash) {
            var hash = decodeURIComponent(window.location.hash);
            gotohash($(hash).offset().top);
        }
        $('a.anchorjs-link').click(function(){
			gotohash($(this).offset().top);
        });
        $('a.anchorjs').click(function(){
			var id = '#' + $(this).attr('title');
			gotohash($(id).offset().top);
        });		
        function gotohash(top){
            var headerHeight = 70; // Get fixed header height
            $('html,body').animate({
                scrollTop: top - headerHeight
            }, 20);
        }
    })(jQuery);
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
   $(document).ready(function (){

     var scrollPosition = getParameterByName('scroll');
     if(scrollPosition)
      $(".doc-menu").scrollTop(scrollPosition);

     $('.doc-link').click(function(){
        var scrollTop = $(".doc-menu").scrollTop();
        if(scrollTop > 0)
          $(this).attr("href",this.href + "?scroll=" + $(".doc-menu").scrollTop());
     });

     function getParameterByName(name, url) {
        if (!url) {
          url = window.location.href;
        }
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

   });
</script>
    <div id="back-to-top" role="button" aria-label="Back to top">
        <i class="fa fa-angle-double-up" aria-hidden="true"></i>
    </div>
</main>
<!-- footer -->

<footer class="footer" role="contentinfo" aria-label="Site footer">
    <div class="navigation" role="navigation" aria-label="Footer links">
        <a href="http://localhost:4000" class="avatar" role="link"></a>
        <ul role="menubar" aria-label="Footer links menubar">
            <li class="footer-products" role="menuitem" aria-label="Products">
                تولیدات
                <ul role="menu" aria-hidden="true" aria-label="Products link">
                </ul>
            </li>
            <li class="footer-blog" role="menuitem" aria-label="Blog">
                مقالات
                <ul role="menu" aria-hidden="true" aria-label="Blog link">
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2020/07/03/marriage.html" role="link" aria-label="ازدواج">ازدواج</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2019/10/11/vuejs.html" role="link" aria-label="آموزش vuejs">آموزش vuejs</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2017/12/18/laravel.html" role="link" aria-label="آموزش Laravel">آموزش Laravel</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/articles/2017/12/13/laravelcollective.html" role="link" aria-label="معرفی Laravel Collective">معرفی Laravel Collective</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2017/12/06/design-patterns.html" role="link" aria-label="معرفی  Design Pattern">معرفی  Design Pattern</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/blog" role="link" aria-label="Read more">Read More</a></li>
                </ul>
            </li>

            <li class="footer-connect" role="menuitem" aria-label="Connect">
                تماس
                <ul role="menu" aria-hidden="true" aria-label="Connect link">
                    <li role="listitem" aria-label="Connect link item"><a href="https://github.com/farhadmirzapour" target="_blank" role="link" aria-label="GitHub">GitHub</a></li>
                    <li role="listitem" aria-label="Connect link item"><a href="https://www.linkedin.com/in/farhad-mirzapour/" target="_blank" role="link" aria-label="Linkedin">Linkedin</a></li>
                    <li role="listitem" aria-label="Connect link item"><a href="https://twitter.com/farhadmirzapour" target="_blank" role="link" aria-label="Twitter">Twitter</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="socials" role="navigation" aria-label="Social links">
        <ul role="menu" aria-hidden="true" aria-label="Social link">
            <li role="listitem" aria-label="Social link item"><a href="https://github.com/farhadmirzapour" target="_blank" role="link" aria-label="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="https://twitter.com/farhadmirzapour" target="_blank" role="link" aria-label="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="https://www.linkedin.com/in/farhad-mirzapour-0043b862/" target="_blank" role="link" aria-label="Linkedin"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="/feed.xml" role="link" aria-label="RSS"><i class="fa fa-rss-square" aria-hidden="true"></i></a></li>
        </ul>
    </div>
    <div class="copyright" role="contentinfo" aria-label="Copyright">
        <p>© <script type="text/javascript">document.write(new Date().getFullYear());</script> Farhad Mirzapour</p>
    </div>
</footer>

<!-- scripts -->
<script src="/assets/js/hamburger-menu.js"></script>

<script src="/assets/js/elevator.min.js"></script>
<script src="/assets/js/back-to-top.js"></script>
<script src="/assets/prisma/prism.js"></script>
<!-- google analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108878564-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-108878564-1');
</script>

</body>
</html>