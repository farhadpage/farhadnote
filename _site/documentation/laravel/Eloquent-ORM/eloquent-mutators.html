<!DOCTYPE html>
<html lang="">
<!-- head -->
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<title>آشنایی با eloquent mutators | مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور</title>
<meta name="generator" content="Jekyll v3.9.0" />
<meta property="og:title" content="آشنایی با eloquent mutators" />
<meta name="author" content="Farhad Mirzapour" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="Accessor ها و Mutator ها به شما این امکان را می دهند تا attribute های Eloquent را به هنگام بازیابی از مدل یا مقدار دهی آن، فرمت دهی کنید. به عنوان مثال می توان به سناریویی اشاره کرد که در آن می خواهیم با استفاده از encrypter لارول مقداری را در حالی که در پایگاه داده ذخیره شده، رمزنگاری کنیم و سپس آن را در زمان دسترسی (به آن) در مدل Eloquent، بار دیگر رمزگشایی نماییم. علاوه بر ارائه ی accessor ها و mutator های اختصاصی، Eloquent قادر است فیلدهای حاوی تاریخ و نوع داده ای date را به نمونه هایی از نوعCarbon کانورت کرده و حتی فیلدهای متنی را به فرمت JSON تبدیل کند. نحوه ی تعریف Accessor برای تعریف Accessor، یک متد getFooAttribute در مدل خود ایجاد نمایید. واژه ی Foo در نام این متد در واقع نسخه ی CamelCase (بر اساس سیستم نوشتاری camelcase) اسم همان ستونی است که می خواهید به آن دسترسی داشته باشید. در این مثال، یک accessor برای اتریبیوت first_name تعریف می کنیم. به هنگام بازیابی و دسترسی به مقدار attribute نام برده، Eloquent به صورت خودکار accessor تعریف شده را صدا می زند: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * Get the user&#39;s first name. * * @param string $value * @return string */ public function getFirstNameAttribute($value) { return ucfirst($value); } } همان طور که می بینید، مقدار اولیه ی ستون به accessor ارسال می شود و به شما این امکان را می دهد تا به آسانی آن را ویرایش و بازیابی کنید. حال برای دسترسی به مقدار mutator، کافی است به اتریبیوت first_name دسترسی پیدا کنید: $user = App\User::find(1); $firstName = $user-&gt;first_name; همچنین می توانید با استفاده از accessors جهت ایجاد مقادیر جدید استفاده نمایید : /** * Get the user&#39;s full name. * * @return string */ public function getFullNameAttribute() { return &quot;{$this-&gt;first_name} {$this-&gt;last_name}&quot;; } نحوه ی تعریف یک Mutator به منظور تعریف mutator، یک متد به نام setFooAttribute در مدل ایجاد کنید. واژه ی Foo در اسم این متد در واقع نسخه ی camelcase نام همان ستونی است که می خواهید به مقدارش دسترسی داشته باشید. بنابراین ابتدا یک mutator برای اتریبیوت first_name تعریف می کنیم. به هنگام مقداردهی attribute ذکر شده در مدل مورد نظر، این mutator به صورت خودکار فراخوانده می شود: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * Set the user&#39;s first name. * * @param string $value * @return void */ public function setFirstNameAttribute($value) { $this-&gt;attributes[&#39;first_name&#39;] = strtolower($value); } } mutator مقداری که در attribute قرار داده (set) می شود را دریافت کرده و به شما اجازه می دهد تا مقدار آن را ویرایش کنید، سپس مقدار ویرایش شده را در متغیر (property) درون ساخته ی مدل Eloquent به نام $attributes ذخیره نمایید/قرار دهید. بنابراین، اگر بخواهیم مقدارfirst_name را با Sally تنظیم نماییم، می بایست به صورت زیر اقدام کنیم: $user = App\User::find(1); $user-&gt;first_name = &#39;Sally&#39;; $user-&gt;save(); در این مثال، تابع setFirstNameAttribute با مقدار Sally فراخوانده می شود. mutator سپس تابع strtolower را بر روی اسم اجرا کرده و مقدارش را در آرایه ی درون ساخته ی attributes$ قرار می دهد. تاریخ در Mutator به صورت پیش فرض، Eloquent ستون های created_at و updated_at را به نمونه های (اشیای) از نوع Carbon تبدیل می کند که تعداد زیادی متد مفید در اختیار ما قرار داده و کلاس درون ساخته ی DateTime زبان PHP را ارث بری می کند. می توانید مشخص کنید کدام فیلدها بایستی به صورت خودکار تبدیل (mutate) شوند یا این تبدیل را کاملا غیر فعال نمایید. برای این منظور کافی است property ای که dates$ نام دارد را در مدل خود بازنویسی کنید: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * The attributes that should be mutated to dates. * * @var array */ protected $dates = [ &#39;created_at&#39;, &#39;updated_at&#39;, &#39;deleted_at&#39; ]; } ستونی که از نوع date شناخته می شود را می توان با تایم استمپ های UNIX، تاریخ با فرمت رشته (Y-m-d)، تاریخ-زمان با فرمت رشته و البته یک نمونه از DateTime / Carbon مقداردهی نمود. مقدار date متعاقبا به صورت خودکار با فرمت مناسب در پایگاه داده ذخیره می شود: $user = App\User::find(1); $user-&gt;deleted_at = now(); $user-&gt;save(); همان طور که در بالا ذکر شد، زمانی که attribute های لیست شده در متغیر(property) $dates را واکشی می کنید، این attribute ها به صورت خودکار به نمونه هایی از نوع Carbon تبدیل می شوند. این امر به شما اجازه می دهد تا متدهای Carbon را بر روی attribute های مورد نظر فراخوانی کنید: $user = App\User::find(1); return $user-&gt;deleted_at-&gt;getTimestamp(); به صورت پیش فرض، timestamp ها بدین صورت فرمت دهی می شوند: &#39;Y-m-d H:i:s&#39;. در صورت تمایل می توانید این فرمت را اختصاصی تنظیم کنید. برای این منظور کافی است dateFormat property$ را در مدل خود مقداردهی نمایید. این property تعیین می کند attribute های حاوی مقدار تاریخ چگونه در پایگاه داده ذخیره شوند و همچنین فرمت آن ها را در زمان serialize (کد) شدن مدل به آرایه یا JSON مشخص می کند: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class Flight extends Model { /** * The storage format of the model&#39;s date columns. * * @var string */ protected $dateFormat = &#39;U&#39;; } تبدیل Attribute متغیر casts$ (در مدل) روشی آسان برای تبدیل attribute ها به نوع داده های معمول فراهم می کند. property مزبور باید یک متغیر از نوع آرایه باشد که در آن کلید در واقع اسم attribute ای است که باید تبدیل شود و مقدار آن نوع داده ای است که می خواهید ستون (فیلد) به آن cast شود. نوع هایی که برای تبدیل پشتیبانی می شوند عبارتند از: integer، real، float، double، string، boolean، object، array،collection، date، datetime و timestamp. در مثال زیر اتریبیوت is_admin که به صورت یک عدد صحیح 0 یا 1 در پایگاه داده ذخیره شده را به نوع داده ای Boolean تبدیل می کنیم: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * The attributes that should be cast to native types. * * @var array */ protected $casts = [ &#39;is_admin&#39; =&gt; &#39;boolean&#39;, ]; } اکنون دیگر مقدار attribute نام برده همیشه به هنگام دسترسی به آن، به یک مقدار از نوع بولی تبدیل می شود، هرچند مقدار اصلی به صورت یک عدد صحیح در پایگاه داده ذخیره شده: $user = App\User::find(1); if ($user-&gt;is_admin) { // } تبدیل به نوع Array &amp; JSON تبدیل نوع آرایه به خصوص برای کار با ستون هایی که به صورت JSON سریاله شده، ذخیره شده اند مفید واقع می شود. به عنوان مثال، اگر پایگاه داده ی شما دارای فیلدی از نوع TEXT باشد که با JSON سریاله شده مقداردهی شده است، در آن صورت افزودن نوع array به آن attributeباعث می شود، در زمان دسترسی به آن ATTRIBUTE در مدل Eloquent، نوع attribute خودکار به یک آرایه ی معمولی PHP تبدیل شود: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * The attributes that should be cast to native types. * * @var array */ protected $casts = [ &#39;options&#39; =&gt; &#39;array&#39;, ]; } پس از تعریف عملیات تبدیل، می توانید به options attribute دسترسی پیدا کنید. خواهید دید که نوعش به صورت خودکار از JSON سریاله شده به یک آرایه ی متعارف PHP تبدیل می شود. زمانی که attribute نام برده را مقداردهی می کنید، آرایه ی ارائه شده مجددا برای ذخیره سازی به صورت خودکار به فرمت JSON (serialized) برگردانده می شود: $user = App\User::find(1); $options = $user-&gt;options; $options[&#39;key&#39;] = &#39;value&#39;; $user-&gt;options = $options; $user-&gt;save();" />
<meta property="og:description" content="Accessor ها و Mutator ها به شما این امکان را می دهند تا attribute های Eloquent را به هنگام بازیابی از مدل یا مقدار دهی آن، فرمت دهی کنید. به عنوان مثال می توان به سناریویی اشاره کرد که در آن می خواهیم با استفاده از encrypter لارول مقداری را در حالی که در پایگاه داده ذخیره شده، رمزنگاری کنیم و سپس آن را در زمان دسترسی (به آن) در مدل Eloquent، بار دیگر رمزگشایی نماییم. علاوه بر ارائه ی accessor ها و mutator های اختصاصی، Eloquent قادر است فیلدهای حاوی تاریخ و نوع داده ای date را به نمونه هایی از نوعCarbon کانورت کرده و حتی فیلدهای متنی را به فرمت JSON تبدیل کند. نحوه ی تعریف Accessor برای تعریف Accessor، یک متد getFooAttribute در مدل خود ایجاد نمایید. واژه ی Foo در نام این متد در واقع نسخه ی CamelCase (بر اساس سیستم نوشتاری camelcase) اسم همان ستونی است که می خواهید به آن دسترسی داشته باشید. در این مثال، یک accessor برای اتریبیوت first_name تعریف می کنیم. به هنگام بازیابی و دسترسی به مقدار attribute نام برده، Eloquent به صورت خودکار accessor تعریف شده را صدا می زند: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * Get the user&#39;s first name. * * @param string $value * @return string */ public function getFirstNameAttribute($value) { return ucfirst($value); } } همان طور که می بینید، مقدار اولیه ی ستون به accessor ارسال می شود و به شما این امکان را می دهد تا به آسانی آن را ویرایش و بازیابی کنید. حال برای دسترسی به مقدار mutator، کافی است به اتریبیوت first_name دسترسی پیدا کنید: $user = App\User::find(1); $firstName = $user-&gt;first_name; همچنین می توانید با استفاده از accessors جهت ایجاد مقادیر جدید استفاده نمایید : /** * Get the user&#39;s full name. * * @return string */ public function getFullNameAttribute() { return &quot;{$this-&gt;first_name} {$this-&gt;last_name}&quot;; } نحوه ی تعریف یک Mutator به منظور تعریف mutator، یک متد به نام setFooAttribute در مدل ایجاد کنید. واژه ی Foo در اسم این متد در واقع نسخه ی camelcase نام همان ستونی است که می خواهید به مقدارش دسترسی داشته باشید. بنابراین ابتدا یک mutator برای اتریبیوت first_name تعریف می کنیم. به هنگام مقداردهی attribute ذکر شده در مدل مورد نظر، این mutator به صورت خودکار فراخوانده می شود: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * Set the user&#39;s first name. * * @param string $value * @return void */ public function setFirstNameAttribute($value) { $this-&gt;attributes[&#39;first_name&#39;] = strtolower($value); } } mutator مقداری که در attribute قرار داده (set) می شود را دریافت کرده و به شما اجازه می دهد تا مقدار آن را ویرایش کنید، سپس مقدار ویرایش شده را در متغیر (property) درون ساخته ی مدل Eloquent به نام $attributes ذخیره نمایید/قرار دهید. بنابراین، اگر بخواهیم مقدارfirst_name را با Sally تنظیم نماییم، می بایست به صورت زیر اقدام کنیم: $user = App\User::find(1); $user-&gt;first_name = &#39;Sally&#39;; $user-&gt;save(); در این مثال، تابع setFirstNameAttribute با مقدار Sally فراخوانده می شود. mutator سپس تابع strtolower را بر روی اسم اجرا کرده و مقدارش را در آرایه ی درون ساخته ی attributes$ قرار می دهد. تاریخ در Mutator به صورت پیش فرض، Eloquent ستون های created_at و updated_at را به نمونه های (اشیای) از نوع Carbon تبدیل می کند که تعداد زیادی متد مفید در اختیار ما قرار داده و کلاس درون ساخته ی DateTime زبان PHP را ارث بری می کند. می توانید مشخص کنید کدام فیلدها بایستی به صورت خودکار تبدیل (mutate) شوند یا این تبدیل را کاملا غیر فعال نمایید. برای این منظور کافی است property ای که dates$ نام دارد را در مدل خود بازنویسی کنید: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * The attributes that should be mutated to dates. * * @var array */ protected $dates = [ &#39;created_at&#39;, &#39;updated_at&#39;, &#39;deleted_at&#39; ]; } ستونی که از نوع date شناخته می شود را می توان با تایم استمپ های UNIX، تاریخ با فرمت رشته (Y-m-d)، تاریخ-زمان با فرمت رشته و البته یک نمونه از DateTime / Carbon مقداردهی نمود. مقدار date متعاقبا به صورت خودکار با فرمت مناسب در پایگاه داده ذخیره می شود: $user = App\User::find(1); $user-&gt;deleted_at = now(); $user-&gt;save(); همان طور که در بالا ذکر شد، زمانی که attribute های لیست شده در متغیر(property) $dates را واکشی می کنید، این attribute ها به صورت خودکار به نمونه هایی از نوع Carbon تبدیل می شوند. این امر به شما اجازه می دهد تا متدهای Carbon را بر روی attribute های مورد نظر فراخوانی کنید: $user = App\User::find(1); return $user-&gt;deleted_at-&gt;getTimestamp(); به صورت پیش فرض، timestamp ها بدین صورت فرمت دهی می شوند: &#39;Y-m-d H:i:s&#39;. در صورت تمایل می توانید این فرمت را اختصاصی تنظیم کنید. برای این منظور کافی است dateFormat property$ را در مدل خود مقداردهی نمایید. این property تعیین می کند attribute های حاوی مقدار تاریخ چگونه در پایگاه داده ذخیره شوند و همچنین فرمت آن ها را در زمان serialize (کد) شدن مدل به آرایه یا JSON مشخص می کند: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class Flight extends Model { /** * The storage format of the model&#39;s date columns. * * @var string */ protected $dateFormat = &#39;U&#39;; } تبدیل Attribute متغیر casts$ (در مدل) روشی آسان برای تبدیل attribute ها به نوع داده های معمول فراهم می کند. property مزبور باید یک متغیر از نوع آرایه باشد که در آن کلید در واقع اسم attribute ای است که باید تبدیل شود و مقدار آن نوع داده ای است که می خواهید ستون (فیلد) به آن cast شود. نوع هایی که برای تبدیل پشتیبانی می شوند عبارتند از: integer، real، float، double، string، boolean، object، array،collection، date، datetime و timestamp. در مثال زیر اتریبیوت is_admin که به صورت یک عدد صحیح 0 یا 1 در پایگاه داده ذخیره شده را به نوع داده ای Boolean تبدیل می کنیم: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * The attributes that should be cast to native types. * * @var array */ protected $casts = [ &#39;is_admin&#39; =&gt; &#39;boolean&#39;, ]; } اکنون دیگر مقدار attribute نام برده همیشه به هنگام دسترسی به آن، به یک مقدار از نوع بولی تبدیل می شود، هرچند مقدار اصلی به صورت یک عدد صحیح در پایگاه داده ذخیره شده: $user = App\User::find(1); if ($user-&gt;is_admin) { // } تبدیل به نوع Array &amp; JSON تبدیل نوع آرایه به خصوص برای کار با ستون هایی که به صورت JSON سریاله شده، ذخیره شده اند مفید واقع می شود. به عنوان مثال، اگر پایگاه داده ی شما دارای فیلدی از نوع TEXT باشد که با JSON سریاله شده مقداردهی شده است، در آن صورت افزودن نوع array به آن attributeباعث می شود، در زمان دسترسی به آن ATTRIBUTE در مدل Eloquent، نوع attribute خودکار به یک آرایه ی معمولی PHP تبدیل شود: &lt;?php namespace App; use Illuminate\Database\Eloquent\Model; class User extends Model { /** * The attributes that should be cast to native types. * * @var array */ protected $casts = [ &#39;options&#39; =&gt; &#39;array&#39;, ]; } پس از تعریف عملیات تبدیل، می توانید به options attribute دسترسی پیدا کنید. خواهید دید که نوعش به صورت خودکار از JSON سریاله شده به یک آرایه ی متعارف PHP تبدیل می شود. زمانی که attribute نام برده را مقداردهی می کنید، آرایه ی ارائه شده مجددا برای ذخیره سازی به صورت خودکار به فرمت JSON (serialized) برگردانده می شود: $user = App\User::find(1); $options = $user-&gt;options; $options[&#39;key&#39;] = &#39;value&#39;; $user-&gt;options = $options; $user-&gt;save();" />
<link rel="canonical" href="http://localhost:4000/documentation/laravel/Eloquent-ORM/eloquent-mutators" />
<meta property="og:url" content="http://localhost:4000/documentation/laravel/Eloquent-ORM/eloquent-mutators" />
<meta property="og:site_name" content="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2018-01-19T19:57:42+03:30" />
<meta name="twitter:card" content="summary" />
<meta property="twitter:title" content="آشنایی با eloquent mutators" />
<meta name="twitter:site" content="@farhadmirzapour" />
<meta name="twitter:creator" content="@Farhad Mirzapour" />
<script type="application/ld+json">
{"@type":"BlogPosting","headline":"آشنایی با eloquent mutators","url":"http://localhost:4000/documentation/laravel/Eloquent-ORM/eloquent-mutators","datePublished":"2018-01-19T19:57:42+03:30","publisher":{"@type":"Organization","logo":{"@type":"ImageObject","url":"http://localhost:4000/assets/img/logo/blankspace-avatar.png"},"name":"Farhad Mirzapour"},"dateModified":"2018-01-19T19:57:42+03:30","mainEntityOfPage":{"@type":"WebPage","@id":"http://localhost:4000/documentation/laravel/Eloquent-ORM/eloquent-mutators"},"author":{"@type":"Person","name":"Farhad Mirzapour"},"description":"Accessor ها و Mutator ها به شما این امکان را می دهند تا attribute های Eloquent را به هنگام بازیابی از مدل یا مقدار دهی آن، فرمت دهی کنید. به عنوان مثال می توان به سناریویی اشاره کرد که در آن می خواهیم با استفاده از encrypter لارول مقداری را در حالی که در پایگاه داده ذخیره شده، رمزنگاری کنیم و سپس آن را در زمان دسترسی (به آن) در مدل Eloquent، بار دیگر رمزگشایی نماییم. علاوه بر ارائه ی accessor ها و mutator های اختصاصی، Eloquent قادر است فیلدهای حاوی تاریخ و نوع داده ای date را به نمونه هایی از نوعCarbon کانورت کرده و حتی فیلدهای متنی را به فرمت JSON تبدیل کند. نحوه ی تعریف Accessor برای تعریف Accessor، یک متد getFooAttribute در مدل خود ایجاد نمایید. واژه ی Foo در نام این متد در واقع نسخه ی CamelCase (بر اساس سیستم نوشتاری camelcase) اسم همان ستونی است که می خواهید به آن دسترسی داشته باشید. در این مثال، یک accessor برای اتریبیوت first_name تعریف می کنیم. به هنگام بازیابی و دسترسی به مقدار attribute نام برده، Eloquent به صورت خودکار accessor تعریف شده را صدا می زند: &lt;?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class User extends Model { /** * Get the user&#39;s first name. * * @param string $value * @return string */ public function getFirstNameAttribute($value) { return ucfirst($value); } } همان طور که می بینید، مقدار اولیه ی ستون به accessor ارسال می شود و به شما این امکان را می دهد تا به آسانی آن را ویرایش و بازیابی کنید. حال برای دسترسی به مقدار mutator، کافی است به اتریبیوت first_name دسترسی پیدا کنید: $user = App\\User::find(1); $firstName = $user-&gt;first_name; همچنین می توانید با استفاده از accessors جهت ایجاد مقادیر جدید استفاده نمایید : /** * Get the user&#39;s full name. * * @return string */ public function getFullNameAttribute() { return &quot;{$this-&gt;first_name} {$this-&gt;last_name}&quot;; } نحوه ی تعریف یک Mutator به منظور تعریف mutator، یک متد به نام setFooAttribute در مدل ایجاد کنید. واژه ی Foo در اسم این متد در واقع نسخه ی camelcase نام همان ستونی است که می خواهید به مقدارش دسترسی داشته باشید. بنابراین ابتدا یک mutator برای اتریبیوت first_name تعریف می کنیم. به هنگام مقداردهی attribute ذکر شده در مدل مورد نظر، این mutator به صورت خودکار فراخوانده می شود: &lt;?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class User extends Model { /** * Set the user&#39;s first name. * * @param string $value * @return void */ public function setFirstNameAttribute($value) { $this-&gt;attributes[&#39;first_name&#39;] = strtolower($value); } } mutator مقداری که در attribute قرار داده (set) می شود را دریافت کرده و به شما اجازه می دهد تا مقدار آن را ویرایش کنید، سپس مقدار ویرایش شده را در متغیر (property) درون ساخته ی مدل Eloquent به نام $attributes ذخیره نمایید/قرار دهید. بنابراین، اگر بخواهیم مقدارfirst_name را با Sally تنظیم نماییم، می بایست به صورت زیر اقدام کنیم: $user = App\\User::find(1); $user-&gt;first_name = &#39;Sally&#39;; $user-&gt;save(); در این مثال، تابع setFirstNameAttribute با مقدار Sally فراخوانده می شود. mutator سپس تابع strtolower را بر روی اسم اجرا کرده و مقدارش را در آرایه ی درون ساخته ی attributes$ قرار می دهد. تاریخ در Mutator به صورت پیش فرض، Eloquent ستون های created_at و updated_at را به نمونه های (اشیای) از نوع Carbon تبدیل می کند که تعداد زیادی متد مفید در اختیار ما قرار داده و کلاس درون ساخته ی DateTime زبان PHP را ارث بری می کند. می توانید مشخص کنید کدام فیلدها بایستی به صورت خودکار تبدیل (mutate) شوند یا این تبدیل را کاملا غیر فعال نمایید. برای این منظور کافی است property ای که dates$ نام دارد را در مدل خود بازنویسی کنید: &lt;?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class User extends Model { /** * The attributes that should be mutated to dates. * * @var array */ protected $dates = [ &#39;created_at&#39;, &#39;updated_at&#39;, &#39;deleted_at&#39; ]; } ستونی که از نوع date شناخته می شود را می توان با تایم استمپ های UNIX، تاریخ با فرمت رشته (Y-m-d)، تاریخ-زمان با فرمت رشته و البته یک نمونه از DateTime / Carbon مقداردهی نمود. مقدار date متعاقبا به صورت خودکار با فرمت مناسب در پایگاه داده ذخیره می شود: $user = App\\User::find(1); $user-&gt;deleted_at = now(); $user-&gt;save(); همان طور که در بالا ذکر شد، زمانی که attribute های لیست شده در متغیر(property) $dates را واکشی می کنید، این attribute ها به صورت خودکار به نمونه هایی از نوع Carbon تبدیل می شوند. این امر به شما اجازه می دهد تا متدهای Carbon را بر روی attribute های مورد نظر فراخوانی کنید: $user = App\\User::find(1); return $user-&gt;deleted_at-&gt;getTimestamp(); به صورت پیش فرض، timestamp ها بدین صورت فرمت دهی می شوند: &#39;Y-m-d H:i:s&#39;. در صورت تمایل می توانید این فرمت را اختصاصی تنظیم کنید. برای این منظور کافی است dateFormat property$ را در مدل خود مقداردهی نمایید. این property تعیین می کند attribute های حاوی مقدار تاریخ چگونه در پایگاه داده ذخیره شوند و همچنین فرمت آن ها را در زمان serialize (کد) شدن مدل به آرایه یا JSON مشخص می کند: &lt;?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class Flight extends Model { /** * The storage format of the model&#39;s date columns. * * @var string */ protected $dateFormat = &#39;U&#39;; } تبدیل Attribute متغیر casts$ (در مدل) روشی آسان برای تبدیل attribute ها به نوع داده های معمول فراهم می کند. property مزبور باید یک متغیر از نوع آرایه باشد که در آن کلید در واقع اسم attribute ای است که باید تبدیل شود و مقدار آن نوع داده ای است که می خواهید ستون (فیلد) به آن cast شود. نوع هایی که برای تبدیل پشتیبانی می شوند عبارتند از: integer، real، float، double، string، boolean، object، array،collection، date، datetime و timestamp. در مثال زیر اتریبیوت is_admin که به صورت یک عدد صحیح 0 یا 1 در پایگاه داده ذخیره شده را به نوع داده ای Boolean تبدیل می کنیم: &lt;?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class User extends Model { /** * The attributes that should be cast to native types. * * @var array */ protected $casts = [ &#39;is_admin&#39; =&gt; &#39;boolean&#39;, ]; } اکنون دیگر مقدار attribute نام برده همیشه به هنگام دسترسی به آن، به یک مقدار از نوع بولی تبدیل می شود، هرچند مقدار اصلی به صورت یک عدد صحیح در پایگاه داده ذخیره شده: $user = App\\User::find(1); if ($user-&gt;is_admin) { // } تبدیل به نوع Array &amp; JSON تبدیل نوع آرایه به خصوص برای کار با ستون هایی که به صورت JSON سریاله شده، ذخیره شده اند مفید واقع می شود. به عنوان مثال، اگر پایگاه داده ی شما دارای فیلدی از نوع TEXT باشد که با JSON سریاله شده مقداردهی شده است، در آن صورت افزودن نوع array به آن attributeباعث می شود، در زمان دسترسی به آن ATTRIBUTE در مدل Eloquent، نوع attribute خودکار به یک آرایه ی معمولی PHP تبدیل شود: &lt;?php namespace App; use Illuminate\\Database\\Eloquent\\Model; class User extends Model { /** * The attributes that should be cast to native types. * * @var array */ protected $casts = [ &#39;options&#39; =&gt; &#39;array&#39;, ]; } پس از تعریف عملیات تبدیل، می توانید به options attribute دسترسی پیدا کنید. خواهید دید که نوعش به صورت خودکار از JSON سریاله شده به یک آرایه ی متعارف PHP تبدیل می شود. زمانی که attribute نام برده را مقداردهی می کنید، آرایه ی ارائه شده مجددا برای ذخیره سازی به صورت خودکار به فرمت JSON (serialized) برگردانده می شود: $user = App\\User::find(1); $options = $user-&gt;options; $options[&#39;key&#39;] = &#39;value&#39;; $user-&gt;options = $options; $user-&gt;save();","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    <!-- stylesheets -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css">
    <link rel="stylesheet" href="/assets/main.css">
    <link rel="stylesheet" href="/assets/prisma/prism.css">
    <!-- favicons and rss -->
    <link rel="alternate" type="application/rss+xml" title="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" href="/feed.xml">
    <link rel="apple-touch-icon" sizes="57x57" href="/assets/img/favicon/apple-icon-57x57.png">
    <link rel="apple-touch-icon" sizes="60x60" href="/assets/img/favicon/apple-icon-60x60.png">
    <link rel="apple-touch-icon" sizes="72x72" href="/assets/img/favicon/apple-icon-72x72.png">
    <link rel="apple-touch-icon" sizes="76x76" href="/assets/img/favicon/apple-icon-76x76.png">
    <link rel="apple-touch-icon" sizes="114x114" href="/assets/img/favicon/apple-icon-114x114.png">
    <link rel="apple-touch-icon" sizes="120x120" href="/assets/img/favicon/apple-icon-120x120.png">
    <link rel="apple-touch-icon" sizes="144x144" href="/assets/img/favicon/apple-icon-144x144.png">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/img/favicon/apple-icon-152x152.png">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/img/favicon/apple-icon-180x180.png">
    <link rel="icon" type="image/png" sizes="192x192"  href="/assets/img/favicon/android-icon-192x192.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/assets/img/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="96x96" href="/assets/img/favicon/favicon-96x96.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/assets/img/favicon/favicon-16x16.png">
    <link rel="manifest" href="/assets/img/favicon/manifest.json">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-TileImage" content="/assets/img/favicon/ms-icon-144x144.png">
    <meta name="theme-color" content="#ffffff">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
</head>
<body>
<!-- header -->
<header class="header" role="banner" aria-label="Header">
    <button class="hamburger-button" onclick="hamburgerMenu();" role="button" aria-label="Hamburger menu button">
        <i class="fa fa-bars fa-2x" aria-hidden="true"></i>
    </button>
    <a href="/" class="logo" role="link" aria-label="Home">
        <img alt="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" src="/assets/img/logo/farhadmirzapour-logo.png" role="img" aria-label="Logo">
    </a>
    <nav class="navigation" role="navigation" aria-label="Navigation">
        <ul role="menu" aria-hidden="true" aria-label="Navigation menu">
            <li role="menuitem" aria-label="Navigation menu item">
                <a href="/" class="logo" role="menuitem" aria-label="Home">
                    <img alt="مجموعه مقالات و مطالب آموزشی وب - گرداوری توسط فرهاد میرزاپور" src="/assets/img/logo/farhadmirzapour-logo.png" role="img" aria-label="Logo">
                </a>
            </li>
            
            <li role="menuitem"><a href="/blog" role="menuitem" aria-label="مقالات">مقالات</a></li>
            
            <li role="menuitem"><a href="/contactus" role="menuitem" aria-label="تماس">تماس</a></li>
            
        </ul>
    </nav>
    <div class="searchbox" role="search" aria-label="Search">
        <form action="/search" id="searchthis" method="get" role="form" aria-label="Search form">
            <i class="fa fa-search" aria-hidden="true"></i>
            <input type="search" id="search" name="query" placeholder="Search..." role="textbox" aria-label="Search textbox">
        </form>
    </div>
</header>

<nav id="hamburger-menu" role="navigation" aria-label="Hamburger menu">
    <div class="searchbox" role="search" aria-label="Search">
        <form action="/search" id="searchthis" method="get" role="form" aria-label="Search form">
            <i class="fa fa-search" aria-hidden="true"></i>
            <input type="search" id="search" name="query" placeholder="Search..." role="textbox" aria-label="Search textbox">
        </form>
    </div>
    <div class="home-nav" role="navigation" aria-label="Site navigation">
        <a href="/" role="menuitem" aria-label="Home">صفحه اصلی</a>
        
        <a href="/blog" role="menuitem" aria-label="مقالات">مقالات</a>
        
        <a href="/contactus" role="menuitem" aria-label="تماس">تماس</a>
        
    </div>

    
    <div class="doc-nav" role="navigation" aria-label="Documentation navigation">
        <p role="presentation" aria-label="Category name">
            اصول آموزش Laravel
        </p>
        <ul role="menu" aria-hidden="true" aria-label="Navigation menu">
            <li role="menuitem" aria-label="Navigation menu item"><a href="/2017/12/18/laravel.html" class="doc-link" role="link" aria-label="آشنایی با eloquent mutators">مقدمه</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Digging-Deeper/collections" class="doc-link" role="link" aria-label="معرفی collections">معرفی collections</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Database/database" class="doc-link" role="link" aria-label="پایگاه داده ها">پایگاه داده ها</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Database/queries" class="doc-link" role="link" aria-label="آشنایی با Query Builder">آشنایی با Query Builder</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent" class="doc-link" role="link" aria-label="آشنایی با eloquent">آشنایی با eloquent</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent-relationships" class="doc-link" role="link" aria-label="eloquent relationships  آموزش">eloquent relationships  آموزش</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent-mutators" class="doc-link" role="link" aria-label="آشنایی با eloquent mutators">آشنایی با eloquent mutators</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent-collections" class="doc-link" role="link" aria-label="آشنایی با eloquent collections">آشنایی با eloquent collections</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Eloquent-ORM/eloquent-serialization" class="doc-link" role="link" aria-label="آشنایی با eloquent serialization">آشنایی با eloquent serialization</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Architecture-Concepts/lifecycle" class="doc-link" role="link" aria-label="چرخه ی حیات درخواست (Request Lifecycle)">چرخه ی حیات درخواست (Request Lifecycle)</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/routing" class="doc-link" role="link" aria-label="Routing یا مسیریابی در لاراول">Routing یا مسیریابی در لاراول</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/middleware" class="doc-link" role="link" aria-label="آموزش Middleware">آموزش Middleware</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/csrf" class="doc-link" role="link" aria-label="حفاظت CSRF">حفاظت CSRF</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/controllers" class="doc-link" role="link" aria-label="استفاده از Controller">استفاده از Controller</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/requests" class="doc-link" role="link" aria-label="اصول requests">اصول requests</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/views" class="doc-link" role="link" aria-label="ایجاد view">ایجاد view</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/session" class="doc-link" role="link" aria-label="استفاده از  Session">استفاده از  Session</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/responses" class="doc-link" role="link" aria-label="پاسخ Response">پاسخ Response</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/urls" class="doc-link" role="link" aria-label="تولید URL در لاراول">تولید URL در لاراول</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/validation" class="doc-link" role="link" aria-label="validation یا اعتبارسنجی در لاراول">validation یا اعتبارسنجی در لاراول</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/The-Basics/errors" class="doc-link" role="link" aria-label="مدیریت Errors &amp; Logging">مدیریت Errors &amp; Logging</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Frontend/blade" class="doc-link" role="link" aria-label="Blade Templates">Blade Templates</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Frontend/localization" class="doc-link" role="link" aria-label="اصول localization">اصول localization</a></li>
            
            
            
            <li role="menuitem" aria-label="Navigation menu item"><a href="/documentation/laravel/Frontend/frontend" class="doc-link" role="link" aria-label="JavaScript &amp; CSS Scaffolding">JavaScript &amp; CSS Scaffolding</a></li>
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
            
        </ul>
    </div>
    
</nav>
<!-- main content -->
<main class="container" role="main">
    <div class="rcdoccontainerimg">
<div class="rc-DRTVBanner-new rc-DRTVBanner-bigsize">
    <div style="background: url('/images/original/laravel.png'); " class="blurred_img"></div>
    <div class="mask"></div>
    <div class="bot"></div>
    <div class="over">
        <div class="container-rc">
            <img class="image" src="/images/original/laravel.png" alt="آشنایی با eloquent mutators" height="190">
            <div class="desktop-banner-container">
                <h1 class="display-5-text headline">
                    
                    
                    اصول آموزش Laravel
                    </h1>
                <!--<div class="tagslist"><ul class='lyda-tag-list'><li class='lyda-tag-list-title'>برچسب ها</li><li><a class="tags" href="/tag/لاراول">#لاراول</a></li><li><a class="tags" href="/tag/لاراول-5-5">#لاراول 5.5</a></li></ul></div>-->
            </div>
        </div>
    </div>
</div>

<!--<div class="bread-crumb">-->
<!--<div class="container   ">-->
<!--<div class="pull-right ">-->
<!--<div class="bread-button text-custom b-left">-->
<!--انتشار : 2 ماه پیش-->
<!--</div>-->
<!--<a href="/category/article/" class="bread-button back-to-all b-left hidden-xs">همه مقالات</a>-->
<!--<div class="cat-lable">-->
<!--<a href="/category/article/laravel/">-->
<!--لاراول-->
<!--</a>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<!--</div>-->
<script>
    $(window).scroll(function(){
        var sticky = $('.doc-menu'),
            scroll = $(window).scrollTop();
        if (scroll >= 101) {sticky.addClass('doc-header-scroll'); }
        else {sticky.removeClass('doc-header-scroll'); };
    });
</script>
</div>
<div class="doc-container">

    <div class="doc-menu">
    
    <ul>
        <li>
            <a href="/2017/12/18/laravel.html" class="active doc-link" role="link">
                مقدمه
            </a>
        </li>
        
        <li>
            <span class="caret">معماری Laravel</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="چرخه ی حیات درخواست (Request Lifecycle)" href="/documentation/laravel/Architecture-Concepts/lifecycle" class="active doc-link" role="link">
                چرخه ی حیات درخواست (Request Lifecycle)
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">مفاهیم اساسی</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="Routing یا مسیریابی در لاراول" href="/documentation/laravel/The-Basics/routing" class="active doc-link" role="link">
                Routing یا مسیریابی در لاراول
            </a>
        </li>
        
        
        
        <li>
            <a title="آموزش Middleware" href="/documentation/laravel/The-Basics/middleware" class="active doc-link" role="link">
                آموزش Middleware
            </a>
        </li>
        
        
        
        <li>
            <a title="حفاظت CSRF" href="/documentation/laravel/The-Basics/csrf" class="active doc-link" role="link">
                حفاظت CSRF
            </a>
        </li>
        
        
        
        <li>
            <a title="استفاده از Controller" href="/documentation/laravel/The-Basics/controllers" class="active doc-link" role="link">
                استفاده از Controller
            </a>
        </li>
        
        
        
        <li>
            <a title="اصول requests" href="/documentation/laravel/The-Basics/requests" class="active doc-link" role="link">
                اصول requests
            </a>
        </li>
        
        
        
        <li>
            <a title="ایجاد view" href="/documentation/laravel/The-Basics/views" class="active doc-link" role="link">
                ایجاد view
            </a>
        </li>
        
        
        
        <li>
            <a title="استفاده از  Session" href="/documentation/laravel/The-Basics/session" class="active doc-link" role="link">
                استفاده از  Session
            </a>
        </li>
        
        
        
        <li>
            <a title="پاسخ Response" href="/documentation/laravel/The-Basics/responses" class="active doc-link" role="link">
                پاسخ Response
            </a>
        </li>
        
        
        
        <li>
            <a title="تولید URL در لاراول" href="/documentation/laravel/The-Basics/urls" class="active doc-link" role="link">
                تولید URL در لاراول
            </a>
        </li>
        
        
        
        <li>
            <a title="validation یا اعتبارسنجی در لاراول" href="/documentation/laravel/The-Basics/validation" class="active doc-link" role="link">
                validation یا اعتبارسنجی در لاراول
            </a>
        </li>
        
        
        
        <li>
            <a title="مدیریت Errors &amp; Logging" href="/documentation/laravel/The-Basics/errors" class="active doc-link" role="link">
                مدیریت Errors &amp; Logging
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">Front End</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="Blade Templates" href="/documentation/laravel/Frontend/blade" class="active doc-link" role="link">
                Blade Templates
            </a>
        </li>
        
        
        
        <li>
            <a title="اصول localization" href="/documentation/laravel/Frontend/localization" class="active doc-link" role="link">
                اصول localization
            </a>
        </li>
        
        
        
        <li>
            <a title="JavaScript &amp; CSS Scaffolding" href="/documentation/laravel/Frontend/frontend" class="active doc-link" role="link">
                JavaScript &amp; CSS Scaffolding
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">مفاهیم پیشرفته تر</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="معرفی collections" href="/documentation/laravel/Digging-Deeper/collections" class="active doc-link" role="link">
                معرفی collections
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">پایگاه داده ها</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="پایگاه داده ها" href="/documentation/laravel/Database/database" class="active doc-link" role="link">
                پایگاه داده ها
            </a>
        </li>
        
        
        
        <li>
            <a title="آشنایی با Query Builder" href="/documentation/laravel/Database/queries" class="active doc-link" role="link">
                آشنایی با Query Builder
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
        <li>
            <span class="caret">Eloquent ORM</span>
            <ul>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        <li>
            <a title="آشنایی با eloquent" href="/documentation/laravel/Eloquent-ORM/eloquent" class="active doc-link" role="link">
                آشنایی با eloquent
            </a>
        </li>
        
        
        
        <li>
            <a title="eloquent relationships  آموزش" href="/documentation/laravel/Eloquent-ORM/eloquent-relationships" class="active doc-link" role="link">
                eloquent relationships  آموزش
            </a>
        </li>
        
        
        
        <li>
            <a title="آشنایی با eloquent mutators" href="/documentation/laravel/Eloquent-ORM/eloquent-mutators" class="active doc-link" role="link">
                آشنایی با eloquent mutators
            </a>
        </li>
        
        
        
        <li>
            <a title="آشنایی با eloquent collections" href="/documentation/laravel/Eloquent-ORM/eloquent-collections" class="active doc-link" role="link">
                آشنایی با eloquent collections
            </a>
        </li>
        
        
        
        <li>
            <a title="آشنایی با eloquent serialization" href="/documentation/laravel/Eloquent-ORM/eloquent-serialization" class="active doc-link" role="link">
                آشنایی با eloquent serialization
            </a>
        </li>
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
        
            </ul>
        </li>
        
    </ul>
    
</div>

    <article class="documentation">
        <header class="doc-header">
            <div class="time">
                    تاریخ :      جمعه 29 دی 1396
            </div>
                
        </header>
        <section class="anchored">
            <p>
Accessor ها و Mutator ها به شما این امکان را می دهند تا attribute های Eloquent را به هنگام بازیابی از مدل یا مقدار دهی آن، فرمت دهی کنید. به عنوان مثال می توان به سناریویی اشاره کرد که در آن می خواهیم با استفاده از encrypter لارول مقداری را در حالی که در پایگاه داده ذخیره شده، رمزنگاری کنیم و سپس آن را در زمان دسترسی (به آن) در مدل Eloquent، بار دیگر رمزگشایی نماییم.
</p>

<p>
علاوه بر ارائه ی accessor ها و mutator های اختصاصی، Eloquent قادر است فیلدهای حاوی تاریخ و نوع داده ای date را به نمونه هایی از نوعCarbon کانورت کرده و حتی فیلدهای متنی را به فرمت JSON تبدیل کند.
</p>

<p>
<a name="defining-an-accessor"></a>
</p>

<p><br></p>
<h3>نحوه ی تعریف Accessor</h3>
<p>
برای تعریف Accessor، یک متد getFooAttribute در مدل خود ایجاد نمایید. واژه ی Foo در نام این متد در واقع نسخه ی CamelCase (بر اساس سیستم نوشتاری camelcase) اسم همان ستونی است که می خواهید به آن دسترسی داشته باشید. در این مثال، یک accessor برای اتریبیوت first_name تعریف می کنیم. به هنگام بازیابی و دسترسی به مقدار attribute نام برده، Eloquent به صورت خودکار accessor تعریف شده را صدا می زند:
</p>

<pre><code class="language-php  line-numbers">&lt;?php

namespace App;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    /**
     * Get the user's first name.
     *
     * @param  string  $value
     * @return string
     */
    public function getFirstNameAttribute($value)
    {
        return ucfirst($value);
    }
}
</code></pre>

<p>
همان طور که می بینید، مقدار اولیه ی ستون به accessor ارسال می شود و به شما این امکان را می دهد تا به آسانی آن را ویرایش و بازیابی کنید. حال برای دسترسی به مقدار mutator، کافی است به اتریبیوت first_name دسترسی پیدا کنید:
</p>

<pre><code class="language-php  line-numbers">$user = App\User::find(1);

$firstName = $user-&gt;first_name;
</code></pre>

<p>
همچنین می توانید با استفاده از accessors  جهت ایجاد مقادیر جدید استفاده نمایید :
</p>

<pre><code class="language-php  line-numbers">/**
 * Get the user's full name.
 *
 * @return string
 */
public function getFullNameAttribute()
{
    return "{$this-&gt;first_name} {$this-&gt;last_name}";
}
</code></pre>

<p>
<a name="defining-a-mutator"></a>
</p>

<p><br></p>
<h3>نحوه ی تعریف یک Mutator</h3>
<p>
به منظور تعریف mutator، یک متد به نام setFooAttribute در مدل ایجاد کنید. واژه ی Foo در اسم این متد در واقع نسخه ی camelcase نام همان ستونی است که می خواهید به مقدارش دسترسی داشته باشید. بنابراین ابتدا یک mutator برای اتریبیوت first_name تعریف می کنیم. به هنگام مقداردهی attribute ذکر شده در مدل مورد نظر، این mutator به صورت خودکار فراخوانده می شود:
</p>

<pre><code class="language-php  line-numbers">&lt;?php

namespace App;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    /**
     * Set the user's first name.
     *
     * @param  string  $value
     * @return void
     */
    public function setFirstNameAttribute($value)
    {
        $this-&gt;attributes['first_name'] = strtolower($value);
    }
}
</code></pre>

<p>
mutator مقداری که در attribute قرار داده (set) می شود را دریافت کرده و به شما اجازه می دهد تا مقدار آن را ویرایش کنید، سپس مقدار ویرایش شده را در متغیر (property) درون ساخته ی مدل Eloquent به نام $attributes ذخیره نمایید/قرار دهید. بنابراین، اگر بخواهیم مقدارfirst_name را با Sally تنظیم نماییم، می بایست به صورت زیر اقدام کنیم:
</p>

<pre><code class="language-php  line-numbers">$user = App\User::find(1);

$user-&gt;first_name = 'Sally';

$user-&gt;save();
</code></pre>

<p>
در این مثال، تابع setFirstNameAttribute با مقدار Sally فراخوانده می شود. mutator سپس تابع strtolower را بر روی اسم اجرا کرده و مقدارش را در آرایه ی درون ساخته ی attributes$ قرار می دهد.
</p>
<p>
<a name="date-mutators"></a>
</p>

<p><br></p>
<h3><a href="#date-mutators">تاریخ در  Mutator</a></h3>
<p>
به صورت پیش فرض، Eloquent ستون های created_at و updated_at را به نمونه های (اشیای) از نوع Carbon تبدیل می کند که تعداد زیادی متد مفید در اختیار ما قرار داده و کلاس درون ساخته ی DateTime زبان PHP را ارث بری می کند.
</p>

<p>
می توانید مشخص کنید کدام فیلدها بایستی به صورت خودکار تبدیل (mutate) شوند یا این تبدیل را کاملا غیر فعال نمایید. برای این منظور کافی است property ای که dates$ نام دارد را در مدل خود بازنویسی کنید:
</p>

<pre><code class="language-php  line-numbers">&lt;?php

namespace App;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    /**
     * The attributes that should be mutated to dates.
     *
     * @var array
     */
    protected $dates = [
        'created_at',
        'updated_at',
        'deleted_at'
    ];
}
</code></pre>

<p>
ستونی که از نوع date شناخته می شود را می توان با تایم استمپ های UNIX، تاریخ با فرمت رشته (Y-m-d)، تاریخ-زمان با فرمت رشته و البته یک نمونه از DateTime / Carbon مقداردهی نمود. مقدار date متعاقبا به صورت خودکار با فرمت مناسب در پایگاه داده ذخیره می شود:
</p>

<pre><code class="language-php  line-numbers">$user = App\User::find(1);

$user-&gt;deleted_at = now();

$user-&gt;save();
</code></pre>

<p>
همان طور که در بالا ذکر شد، زمانی که attribute های لیست شده در متغیر(property) $dates را واکشی می کنید، این attribute ها به صورت خودکار به نمونه هایی از نوع Carbon تبدیل می شوند. این امر به شما اجازه می دهد تا متدهای Carbon را بر روی attribute های مورد نظر فراخوانی کنید:
</p>

<pre><code class="language-php  line-numbers">$user = App\User::find(1);

return $user-&gt;deleted_at-&gt;getTimestamp();
</code></pre>

<p>
به صورت پیش فرض، timestamp ها بدین صورت فرمت دهی می شوند: 'Y-m-d H:i:s'. در صورت تمایل می توانید این فرمت را اختصاصی تنظیم کنید. برای این منظور کافی است dateFormat property$ را در مدل خود مقداردهی نمایید. این property تعیین می کند attribute های حاوی مقدار تاریخ چگونه در پایگاه داده ذخیره شوند و همچنین فرمت آن ها را در زمان serialize (کد) شدن مدل به آرایه یا JSON مشخص می کند:
</p>

<pre><code class="language-php  line-numbers">&lt;?php

namespace App;

use Illuminate\Database\Eloquent\Model;

class Flight extends Model
{
    /**
     * The storage format of the model's date columns.
     *
     * @var string
     */
    protected $dateFormat = 'U';
}
</code></pre>

<p>
<a name="attribute-casting"></a>
</p>

<p><br></p>
<h3><a href="#attribute-casting">تبدیل Attribute</a></h3>
<p>
متغیر  casts$ (در مدل) روشی آسان برای تبدیل attribute ها به نوع داده های معمول فراهم می کند. property مزبور باید یک متغیر از نوع آرایه باشد که در آن کلید در واقع اسم attribute ای است که باید تبدیل شود و مقدار آن نوع داده ای است که می خواهید ستون (فیلد) به آن cast شود. نوع هایی که برای تبدیل پشتیبانی می شوند عبارتند از: integer، real، float، double، string، boolean، object، array،collection، date، datetime و timestamp.
</p>
<p>
در مثال زیر اتریبیوت is_admin که به صورت یک عدد صحیح 0 یا 1 در پایگاه داده ذخیره شده را به نوع داده ای Boolean تبدیل می کنیم:
</p>

<pre><code class="language-php  line-numbers">&lt;?php

namespace App;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    /**
     * The attributes that should be cast to native types.
     *
     * @var array
     */
    protected $casts = [
        'is_admin' =&gt; 'boolean',
    ];
}
</code></pre>

<p>
اکنون دیگر مقدار attribute نام برده همیشه به هنگام دسترسی به آن، به یک مقدار از نوع بولی تبدیل می شود، هرچند مقدار اصلی به صورت یک عدد صحیح در پایگاه داده ذخیره شده:
</p>

<pre><code class="language-php  line-numbers">$user = App\User::find(1);

if ($user-&gt;is_admin) {
    //
}
</code></pre>

<p>
<a name="array-and-json-casting"></a>
</p>

<p><br></p>
<h3>تبدیل به نوع Array &amp; JSON </h3>
<p>
تبدیل نوع آرایه به خصوص برای کار با ستون هایی که به صورت JSON سریاله شده، ذخیره شده اند مفید واقع می شود. به عنوان مثال، اگر پایگاه داده ی شما دارای فیلدی از نوع TEXT باشد که با JSON سریاله شده مقداردهی شده است، در آن صورت افزودن نوع array به آن attributeباعث می شود، در زمان دسترسی به آن ATTRIBUTE در مدل Eloquent، نوع attribute خودکار به یک آرایه ی معمولی PHP تبدیل شود:
</p>

<pre><code class="language-php  line-numbers">&lt;?php

namespace App;

use Illuminate\Database\Eloquent\Model;

class User extends Model
{
    /**
     * The attributes that should be cast to native types.
     *
     * @var array
     */
    protected $casts = [
        'options' =&gt; 'array',
    ];
}
</code></pre>

<p>
پس از تعریف عملیات تبدیل، می توانید به options attribute دسترسی پیدا کنید. خواهید دید که نوعش به صورت خودکار از JSON سریاله شده به یک آرایه ی متعارف PHP تبدیل می شود. زمانی که attribute نام برده را مقداردهی می کنید، آرایه ی ارائه شده مجددا برای ذخیره سازی به صورت خودکار به فرمت JSON (serialized) برگردانده می شود:
</p>

<pre><code class="language-php  line-numbers">
$user = App\User::find(1);

$options = $user-&gt;options;

$options['key'] = 'value';

$user-&gt;options = $options;

$user-&gt;save();
</code></pre>

        </section>
        
<hr>
<p>
</p>
<div>منابع مورد مطالعه جهت جمع آوری این مطلب:</div>
<div class="refrencehref">
        https://laravel.com/docs/5.5/eloquent-mutators <br> www.tahlildadeh.com/ArticleDetails/آموزش-Mutator-ها-و-Accessor-ها-در-Eloquent
</div>


        <hr>
        <style>
    #commentsdiv{
        background-color: #f5f5f5;
        border: 1px solid #c5c5c5;
        border-bottom: 0px !important;
        padding: 12px;
    }
    #commentsborder{
        background-color: #fff;
        border: 1px solid #c5c5c5;
        white-space: normal;
        padding: 20px;
    }
</style>

<div id="commentsdiv">نظرات</div>
<div id="commentsborder">
<div id="wpac-comment"></div>
</div>
<script type="text/javascript">
wpac_init = window.wpac_init || [];
wpac_init.push({widget: 'Comment', id: 7878});
(function() {
    if ('WIDGETPACK_LOADED' in window) return;
    WIDGETPACK_LOADED = true;
    var mc = document.createElement('script');
    mc.type = 'text/javascript';
    mc.async = true;
    mc.src = 'https://embed.widgetpack.com/widget.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(mc, s.nextSibling);
})();
</script>

    </article>
</div>
<script src="/assets/js/anchor.min.js"></script>
<script>
    anchors.options = {
        placement: 'left',
        visible: 'always',
//        icon: '#',
    };
    anchors.add('.anchored h2,.anchored h3,.anchored h4,.anchored h5,.anchored h6');

    (function($){
        if(window.location.hash) {
            var hash = decodeURIComponent(window.location.hash);
            gotohash($(hash).offset().top);
        }
        $('a.anchorjs-link').click(function(){
			gotohash($(this).offset().top);
        });
        $('a.anchorjs').click(function(){
			var id = '#' + $(this).attr('title');
			gotohash($(id).offset().top);
        });		
        function gotohash(top){
            var headerHeight = 70; // Get fixed header height
            $('html,body').animate({
                scrollTop: top - headerHeight
            }, 20);
        }
    })(jQuery);
</script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script>
   $(document).ready(function (){

     var scrollPosition = getParameterByName('scroll');
     if(scrollPosition)
      $(".doc-menu").scrollTop(scrollPosition);

     $('.doc-link').click(function(){
        var scrollTop = $(".doc-menu").scrollTop();
        if(scrollTop > 0)
          $(this).attr("href",this.href + "?scroll=" + $(".doc-menu").scrollTop());
     });

     function getParameterByName(name, url) {
        if (!url) {
          url = window.location.href;
        }
        name = name.replace(/[\[\]]/g, "\\$&");
        var regex = new RegExp("[?&]" + name + "(=([^&#]*)|&|#|$)"),
            results = regex.exec(url);
        if (!results) return null;
        if (!results[2]) return '';
        return decodeURIComponent(results[2].replace(/\+/g, " "));
    }

   });
</script>
    <div id="back-to-top" role="button" aria-label="Back to top">
        <i class="fa fa-angle-double-up" aria-hidden="true"></i>
    </div>
</main>
<!-- footer -->

<footer class="footer" role="contentinfo" aria-label="Site footer">
    <div class="navigation" role="navigation" aria-label="Footer links">
        <a href="http://localhost:4000" class="avatar" role="link"></a>
        <ul role="menubar" aria-label="Footer links menubar">
            <li class="footer-products" role="menuitem" aria-label="Products">
                تولیدات
                <ul role="menu" aria-hidden="true" aria-label="Products link">
                </ul>
            </li>
            <li class="footer-blog" role="menuitem" aria-label="Blog">
                مقالات
                <ul role="menu" aria-hidden="true" aria-label="Blog link">
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2020/07/03/marriage.html" role="link" aria-label="ازدواج">ازدواج</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2019/10/11/vuejs.html" role="link" aria-label="آموزش vuejs">آموزش vuejs</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2017/12/18/laravel.html" role="link" aria-label="آموزش Laravel">آموزش Laravel</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/articles/2017/12/13/laravelcollective.html" role="link" aria-label="معرفی Laravel Collective">معرفی Laravel Collective</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/2017/12/06/design-patterns.html" role="link" aria-label="معرفی  Design Pattern">معرفی  Design Pattern</a></li>
                    
                    <li role="listitem" aria-label="Blog link item"><a href="/blog" role="link" aria-label="Read more">Read More</a></li>
                </ul>
            </li>

            <li class="footer-connect" role="menuitem" aria-label="Connect">
                تماس
                <ul role="menu" aria-hidden="true" aria-label="Connect link">
                    <li role="listitem" aria-label="Connect link item"><a href="https://github.com/farhadmirzapour" target="_blank" role="link" aria-label="GitHub">GitHub</a></li>
                    <li role="listitem" aria-label="Connect link item"><a href="https://www.linkedin.com/in/farhad-mirzapour/" target="_blank" role="link" aria-label="Linkedin">Linkedin</a></li>
                    <li role="listitem" aria-label="Connect link item"><a href="https://twitter.com/farhadmirzapour" target="_blank" role="link" aria-label="Twitter">Twitter</a></li>
                </ul>
            </li>
        </ul>
    </div>
    <div class="socials" role="navigation" aria-label="Social links">
        <ul role="menu" aria-hidden="true" aria-label="Social link">
            <li role="listitem" aria-label="Social link item"><a href="https://github.com/farhadmirzapour" target="_blank" role="link" aria-label="GitHub"><i class="fa fa-github" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="https://twitter.com/farhadmirzapour" target="_blank" role="link" aria-label="Twitter"><i class="fa fa-twitter" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="https://www.linkedin.com/in/farhad-mirzapour-0043b862/" target="_blank" role="link" aria-label="Linkedin"><i class="fa fa-linkedin-square" aria-hidden="true"></i></a></li>
            <li role="listitem" aria-label="Social link item"><a href="/feed.xml" role="link" aria-label="RSS"><i class="fa fa-rss-square" aria-hidden="true"></i></a></li>
        </ul>
    </div>
    <div class="copyright" role="contentinfo" aria-label="Copyright">
        <p>© <script type="text/javascript">document.write(new Date().getFullYear());</script> Farhad Mirzapour</p>
    </div>
</footer>

<!-- scripts -->
<script src="/assets/js/hamburger-menu.js"></script>

<script src="/assets/js/elevator.min.js"></script>
<script src="/assets/js/back-to-top.js"></script>
<script src="/assets/prisma/prism.js"></script>
<!-- google analytics -->
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-108878564-1"></script>
<script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());

    gtag('config', 'UA-108878564-1');
</script>

</body>
</html>